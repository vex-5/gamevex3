window.__require=function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){var c=i.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+i+"'")}i=c}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){return r(t[i][1][e]||e)},l,l.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<o.length;i++)r(o[i]);return r}({ALabelFixed:[function(e,t,n){"use strict";cc._RF.push(t,"acb0eupASxMiYQKT5K3zgSR","ALabelFixed");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a,i=cc._decorator,s=i.ccclass,c=i.property;(function(e){e[e.NONE=0]="NONE",e[e.WIDTH=1]="WIDTH",e[e.BYTE=2]="BYTE"})(a||(a={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fixedType=a.NONE,t.fixedValue=10,t.fixedString="...",t.aLabel="",t.oldLabel="",t}return o(t,e),Object.defineProperty(t.prototype,"_string",{get:function(){return this.aLabel},set:function(e){this.aLabel=e,this.refreshView()},enumerable:!1,configurable:!0}),t.prototype.refreshView=function(){if(!this.isRefresh&&this.node){this.isRefresh=!0;var e=this.oldLabel=this.aLabel;switch(this.fixedType){case a.WIDTH:this.fixedValue<this.fontSize&&(this.fixedValue=this.fontSize),this._forceUpdateRenderData(),this.node.width>this.fixedValue&&this.labelWidth(e);break;case a.BYTE:this.fixedValue<2&&(this.fixedValue=2),this.getLabelByteLength(e)>this.fixedValue&&this.labelByte(e)}this.isRefresh=!1}},t.prototype.labelWidth=function(e){for(var t,n=e.length-1;n>0;n--)if(t=e.substr(0,n),this.string=t,this._forceUpdateRenderData(),this.node.width<this.fixedValue)return void(this.string=t+this.fixedString)},t.prototype.labelByte=function(e){for(var t,n=e.length-1;n>0;n--)if(t=e.substr(0,n),this.getLabelByteLength(t)<=this.fixedValue)return void(this.string=t+this.fixedString)},t.prototype.getLabelByteLength=function(e,t){return void 0===t&&(t="**"),e.replace(/[^\x00-\xff]/g,t).length},r([c({type:cc.Enum(a),serializable:!0,displayName:"\u6587\u672c\u56fa\u5b9a\u7c7b\u578b",tooltip:"WIDTH\u56fa\u5b9a\u5bbd\u5ea6\nBYTE\u56fa\u5b9a\u5b57\u8282\u957f\u5ea6  \u82f1\u65871\u4e2a\u5b57\u8282,\u4e2d\u6587\uff08\u6807\u70b9\u7b26\u53f7\uff092\u4e2a\u5b57\u8282  "})],t.prototype,"fixedType",void 0),r([c({serializable:!0,displayName:"\u6587\u672c\u56fa\u5b9a\u503c"})],t.prototype,"fixedValue",void 0),r([c({serializable:!0,displayName:"\u6587\u672c\u8d85\u51fa\u66ff\u6362\u503c ...",tooltip:"\u8d85\u51fa\u957f\u5ea6\u7684\u66ff\u6362\u503c 123456   123..."})],t.prototype,"fixedString",void 0),t=r([s],t)}(cc.Label);n.default=u,cc._RF.pop()},{}],AdaptationManager:[function(e,t,n){"use strict";cc._RF.push(t,"85dbc+t2z1IyZS34HJXO+1/","AdaptationManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.AdaptationType=void 0;var a,i=e("./config/SysDefine"),s=cc._decorator,c=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.getInstance=function(){var e=this;return null==this._Instance&&(this._Instance=cc.find(i.SysDefine.SYS_UIAdaptation_NAME).addComponent(this),cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){e._Instance=null})),this._Instance},t.prototype.onLoad=function(){this.visibleSize=cc.view.getVisibleSize(),cc.log("\u5f53\u524d\u5c4f\u5e55\u5c3a\u5bf8\u4e3a"+this.visibleSize)},t.prototype.start=function(){},t.prototype.adaptationFormByType=function(e,t,n){var o=t.getComponent(cc.Widget);switch(o||(o=t.addComponent(cc.Widget)),e){case a.Top:if(cc.sys.platform===cc.sys.WECHAT_GAME){var r=window.wx.getMenuButtonBoundingClientRect(),i=window.wx.getSystemInfoSync();n=cc.find("Canvas").height*(r.top/i.screenHeight)}o.top=n||0,o.isAbsoluteTop=!0,o.isAlignTop=!0;break;case a.Bottom:o.bottom=n||0,o.isAbsoluteBottom=!0,o.isAlignBottom=!0;break;case a.Left:o.left=n||0,o.isAbsoluteLeft=!0,o.isAlignLeft=!0;break;case a.Right:o.right=n||0,o.isAbsoluteRight=!0,o.isAlignRight=!0}o.target=cc.find("Canvas"),o.updateAlignment()},t.prototype.removeAdaptationToForm=function(e){e.getComponent(cc.Widget)&&e.removeComponent(cc.Widget)},t._Instance=null,t=r([c],t)}(cc.Component));n.default=u,function(e){e[e.Top=1]="Top",e[e.Bottom=2]="Bottom",e[e.Left=3]="Left",e[e.Right=4]="Right"}(a=n.AdaptationType||(n.AdaptationType={})),cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],AdsterraAD:[function(e,t,n){"use strict";var o;cc._RF.push(t,"189ddjFMLNGdKG+/5KXQVKA","AdsterraAD"),Object.defineProperty(n,"__esModule",{value:!0}),n.AdsterraAD=void 0,function(e){e.upBannerConfig={adKey:"8b2f6d8ca3e990f2d5e5571c188efa58",width:300,height:250,top:74,bottom:void 0};var t={adKey:"85af6347316e5f4041b6d0e8c6c58ca9",width:320,height:50,top:void 0,bottom:0};-1!==location.href.indexOf("ec2-52-66-103-170")?(e.upBannerConfig.adKey="5cf76f3b0429fa827cfc80c8fff61224",t.adKey="1a0181ddd526e23bcd66888a3bd9849b"):-1!==location.href.indexOf("localhost")||(e.upBannerConfig.adKey="d9dabc6b2cc1c70696d479fbe8cd96ec",t.adKey="4b9e3236a98ead3a78641dccafd62217"),e.show_UpBannerAD=function(){a?a.style.visibility="visible":(a=s(e.upBannerConfig.adKey,e.upBannerConfig.width,e.upBannerConfig.height,e.upBannerConfig.top,e.upBannerConfig.bottom),o=0)},e.hide_UpBannerAD=function(){a&&(a.style.visibility="hidden")},e.show_BottomBannerAD=function(){i?i.style.visibility="visible":(i=s(t.adKey,t.width,t.height,t.top,t.bottom),r=0)},e.hide_BottomBannerAD=function(){i&&(i.style.visibility="hidden")};var n=20,o=null,r=null,a=null,i=null;function s(e,t,n,o,r){var a=document.createElement("div");a.style.position="absolute",a.style.display="inline",a.style.zIndex="999999",void 0!==o&&(a.style.top=o/cc.view.getVisibleSize().height*window.innerHeight+"px"),cc.view.getFrameSize(),void 0!==r&&(a.style.bottom=r/cc.view.getVisibleSize().height*window.innerHeight+"px"),a.style.width="100%",a.style.height=n+"px",a.id="adcontainer-"+e,document.body.appendChild(a);var i=c('atOptions = {"key": \''+e+'\',"format": "iframe","height": '+n+',"width": '+t+',"params": {}}');return a.appendChild(i),u("http"+("https:"===location.protocol?"s":"")+"://www.effectivedisplayformats.com/"+e+"/invoke.js",a),a}function c(e){var t=document.createElement("script");t.type="text/javascript";try{t.appendChild(document.createTextNode(e))}catch(n){t.text=e}return t}function u(e,t,n){var o=document.createElement("script");return o.type="text/javascript",o.src=e,"function"==typeof n&&(o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n(),o.onload=o.onreadystatechange=null)}),t.appendChild(o),o}e.interval=function(){if(null!==o&&++o>=n){var c=null;a&&(c=a.style.visibility),a&&a.parentElement.removeChild(a),a=s(e.upBannerConfig.adKey,e.upBannerConfig.width,e.upBannerConfig.height,e.upBannerConfig.top,e.upBannerConfig.bottom),o=0,c&&(a.style.visibility=c)}null!==r&&++r>=n&&(c=null,i&&(c=i.style.visibility),i&&i.parentElement.removeChild(i),i=s(t.adKey,t.width,t.height,t.top,t.bottom),r=0,c&&(i.style.visibility=c))}}(o=n.AdsterraAD||(n.AdsterraAD={}));setInterval(o.interval,1e3);cc._RF.pop()},{}],App:[function(e,t,n){"use strict";cc._RF.push(t,"49535g3kBFM4aZhQ0EbK3qB","App"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./utils/DebugUtils"),r=e("./utils/MessageCenter"),a=e("./utils/DateUtils"),i=e("./utils/CommonUtils"),s=e("./utils/DeviceUtils"),c=e("./utils/KeyboardUtils"),u=e("./utils/TimerManager"),l=e("./utils/MathUtils"),p=e("./utils/RandomUtils"),d=e("./utils/StringUtils"),f=e("./utils/DelayOptManager"),h=e("./sound/SoundManager"),g=e("./UIFrame/UIManager"),y=e("./UIFrame/UIIndependentManager"),m=e("./MXInterFace/PlatformManager"),_=e("./Taktak/TaktakReport"),v=e("./MXInterFace/NetWorkManager"),b=e("./MXInterFace/DataManager"),I=e("./game/RedPointManager"),w=e("./game/TipManager"),M=e("./Telegram/TelegramManager"),C=function(){function e(){}return Object.defineProperty(e,"DebugUtils",{get:function(){return o.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MessageCenter",{get:function(){return r.default.getSingtonInstance(1)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TimerManager",{get:function(){return u.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DateUtils",{get:function(){return a.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MathUtils",{get:function(){return l.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"RandomUtils",{get:function(){return p.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"StringUtils",{get:function(){return d.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CommonUtils",{get:function(){return i.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SoundManager",{get:function(){return h.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DeviceUtils",{get:function(){return s.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"KeyboardUtils",{get:function(){return c.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NotificationCenter",{get:function(){return null==e._notificationCenter&&(e._notificationCenter=new r.default(0)),e._notificationCenter},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DelayOptManager",{get:function(){return f.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UIManager",{get:function(){return g.default.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PlatformManager",{get:function(){return m.default.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UIIndependentManager",{get:function(){return y.default.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TaktakReport",{get:function(){return _.TaktakReport.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TelegramManager",{get:function(){return M.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NetWorkManager",{get:function(){return v.default.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DataManager",{get:function(){return b.default.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e,"RedPointManager",{get:function(){return I.default.getSingtonInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TipManager",{get:function(){return w.default.getSingtonInstance()},enumerable:!1,configurable:!0}),e.Init=function(){console.log("initgame"),e.PlatformManager.init(s.DeviceType.GameDistribution),e.DebugUtils.isOpen(!1),e.DebugUtils.setThreshold(3)},e.GameManager=null,e}();n.default=C,cc._RF.pop()},{"./MXInterFace/DataManager":"DataManager","./MXInterFace/NetWorkManager":"NetWorkManager","./MXInterFace/PlatformManager":"PlatformManager","./Taktak/TaktakReport":"TaktakReport","./Telegram/TelegramManager":"TelegramManager","./UIFrame/UIIndependentManager":"UIIndependentManager","./UIFrame/UIManager":"UIManager","./game/RedPointManager":"RedPointManager","./game/TipManager":"TipManager","./sound/SoundManager":"SoundManager","./utils/CommonUtils":"CommonUtils","./utils/DateUtils":"DateUtils","./utils/DebugUtils":"DebugUtils","./utils/DelayOptManager":"DelayOptManager","./utils/DeviceUtils":"DeviceUtils","./utils/KeyboardUtils":"KeyboardUtils","./utils/MathUtils":"MathUtils","./utils/MessageCenter":"MessageCenter","./utils/RandomUtils":"RandomUtils","./utils/StringUtils":"StringUtils","./utils/TimerManager":"TimerManager"}],AverageUtils:[function(e,t,n){"use strict";cc._RF.push(t,"b2994MbpzlPRKQBpui2rA4u","AverageUtils");(function(){function e(e){void 0===e&&(e=10),this.nums=[],this.numsLen=0,this.numSum=0,this.maxNum=e}e.prototype.push=function(e){this.numsLen>this.maxNum&&(this.numsLen--,this.numSum-=this.nums.shift()),this.nums.push(e),this.numSum+=e,this.numsLen++},e.prototype.getValue=function(){return this.numSum/this.numsLen},e.prototype.clear=function(){this.nums.splice(0),this.numsLen=0,this.numSum=0}})();cc._RF.pop()},{}],BackgroundAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"c9395A23IBAn5BEQV28rsN+","BackgroundAdapter");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){if(cc.sys.isMobile||cc.view.getCanvasSize().height/cc.view.getCanvasSize().width>1.5){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,n=this.node.height*e;this.node.scale=Math.max(cc.view.getCanvasSize().width/t,cc.view.getCanvasSize().height/n)}},t=r([i],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],BallInfoUI:[function(e,t,n){"use strict";cc._RF.push(t,"947e4VzG5NDVrsX8lr6eHwz","BallInfoUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../utils/DebugUtils"),p=e("../../App"),d=e("../gameConst/EventConst"),f=e("../../MXInterFace/DataManager"),h=e("../../UIFrame/CocosHelper"),g=e("../../ui_switcher.js"),y=e("../gameConst/GameUIConst"),m=e("../../MXInterFace/InterFaceManager"),_=cc._decorator,v=_.ccclass,b=_.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.PopUp,c.UIFormShowMode.ReverseChange,c.UIFormLucenyType.Translucence),t.icon=null,t.proBar=null,t.proLabel=null,t.tip=null,t.cashLabel=null,t.coinLabel=null,t.nameLabel=null,t.unlockBtn=null,t.switcher=null,t}return o(t,e),t.prototype.onLoad=function(){this.proWidth=this.proBar.width,this.addClick(this.coinLabel.node.parent,this.coinBuy),this.addClick(this.cashLabel.node.parent,this.cashBuy),this.addClick(this.unlockBtn,this.unlock),this.coinspriteFrame=this.coinLabel.node.parent.getComponent(cc.Sprite).spriteFrame,this.cashspriteFrame=this.cashLabel.node.parent.getComponent(cc.Sprite).spriteFrame},t.prototype.init=function(e){this.data=e.data,l.log("init",this.data),this.ballItem=e.target},t.prototype.onShow=function(){l.log("onshow"),m.gameDetailsViewed(0),this.updateIcon(),this.updateTip(),this.updatePro(),this.updateState()},t.prototype.updateIcon=function(){var e=this,t=p.default.DataManager.getBallResById(this.data.id);cc.resources.load(t,cc.SpriteFrame,function(t,n){t?cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t):e.icon.spriteFrame=n}),h.default.setGray(this.icon,!this.data.owned&&!p.default.RedPointManager.getRedPointById(this.data.id))},t.prototype.updateState=function(){if(this.nameLabel.string=this.data.name,!this.data.owned){if(this.data.unlockCondition.type!=f.UnlockType.none)if(p.default.DataManager.getNumByUnlockType(this.data.unlockCondition.type)>=this.data.unlockCondition.value)return void this.switcher.changeStateByName("unlock");var e=p.default.DataManager.getMoneyType(this.data);this.data.unlockCondition.type==f.UnlockType.none?(this.switcher.changeStateByName("onlyBuy"),this.updateBuyBtn(e)):e==f.MoneyType.none?this.switcher.changeStateByName("only"):(this.switcher.changeStateByName("all"),this.updateBuyBtn(e))}},t.prototype.updateBuyBtn=function(e){this.cashLabel.string=p.default.DataManager.getCashNum(this.data).toString(),this.cashLabel.node.parent.getComponent(cc.Button).interactable=p.default.DataManager.userData.currency.cash>=p.default.DataManager.getCashNum(this.data),this.coinLabel.string=p.default.DataManager.getCoinNum(this.data).toString(),this.coinLabel.node.parent.getComponent(cc.Button).interactable=p.default.DataManager.userData.currency.coins>=p.default.DataManager.getCoinNum(this.data),e==f.MoneyType.coin?(this.coinLabel.node.parent.active=!0,this.cashLabel.node.parent.active=!1,this.coinLabel.node.parent.y=this.cashLabel.node.parent.y,this.coinLabel.node.parent.width=this.cashLabel.node.parent.width,this.coinLabel.node.parent.height=this.cashLabel.node.parent.height,this.coinLabel.node.parent.getComponent(cc.Sprite).spriteFrame=this.cashspriteFrame):e==f.MoneyType.cash?(this.coinLabel.node.parent.active=!1,this.cashLabel.node.parent.active=!0):e==f.MoneyType.fine&&(this.coinLabel.node.parent.active=!0,this.cashLabel.node.parent.active=!0,this.coinLabel.node.parent.getComponent(cc.Sprite).spriteFrame=this.coinspriteFrame)},t.prototype.updateTip=function(){this.tip.string=p.default.DataManager.getTextByUnlockType(this.data.unlockCondition.type,this.data.unlockCondition.value)},t.prototype.updatePro=function(){if(this.proBar.parent.active=this.data.unlockCondition.type!=f.UnlockType.none,this.data.unlockCondition.type!=f.UnlockType.none){var e=p.default.DataManager.getNumByUnlockType(this.data.unlockCondition.type),t=this.data.unlockCondition.value;e=e>=t?t:e,this.proLabel.string=e+"/"+t,this.proBar.width=this.proWidth*Math.min(e/t,1)}},t.prototype.coinBuy=function(){return a(this,void 0,void 0,function(){var e,t,n,o=this;return i(this,function(r){return e=p.default.DataManager.getCoinNum(this.data),p.default.DataManager.userData.currency.coins<e?(p.default.TipManager.showTip("Sorry\uff0cyou don\u2018t have enough coins"),[2]):(t=function(){return a(o,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,p.default.NetWorkManager.postBuyCoinProp(this.data.id)];case 1:return"done"==(e=t.sent()).status&&e.propsId&&(p.default.DataManager.userData.data.unlock_ball_count++,p.default.DataManager.userData.data.number_of_games++,p.default.DataManager.getPropItemByID(e.propsId).owned=1,p.default.RedPointManager.updateRedPoint(this.data.id),this.closeUIForm(),this.ballItem.updateData(this.data),p.default.MessageCenter.dispatch(d.default.UnlockNewBall,this.data),m.gamePurchaseSucceed("coin",this.data.id)),[2]}})})},n={num:e,call:t,type:f.MoneyType.coin,id:this.data.id},p.default.UIManager.showUIFormWithLoading(y.default.BuyUI,n),[2])})})},t.prototype.cashBuy=function(){return a(this,void 0,void 0,function(){var e,t,n,o=this;return i(this,function(r){return e=p.default.DataManager.getCashNum(this.data),p.default.DataManager.userData.currency.cash<e?(p.default.TipManager.showTip("Sorry\uff0cyou don\u2018t have enough cash"),[2]):(t=function(){return a(o,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,p.default.NetWorkManager.postBuyCashProp(this.data.id)];case 1:return"done"==(e=t.sent()).status&&e.propsId&&(p.default.DataManager.userData.data.unlock_ball_count++,p.default.DataManager.userData.data.number_of_games++,p.default.DataManager.getPropItemByID(e.propsId).owned=1,this.closeUIForm(),p.default.RedPointManager.updateRedPoint(this.data.id),this.ballItem.updateData(this.data),p.default.MessageCenter.dispatch(d.default.UnlockNewBall,this.data),m.gamePurchaseSucceed("cash",this.data.id)),[2]}})})},n={num:e,call:t,type:f.MoneyType.cash,id:this.data.id},p.default.UIManager.showUIFormWithLoading(y.default.BuyUI,n),[2])})})},t.prototype.unlock=function(){return a(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,p.default.NetWorkManager.postUnLockProp(this.data.id)];case 1:return"done"==(e=t.sent()).status&&e.propsId&&(p.default.DataManager.userData.data.unlock_ball_count++,p.default.DataManager.userData.data.number_of_games++,p.default.DataManager.currentBall=e.propsId,p.default.DataManager.getPropItemByID(e.propsId).owned=1,this.closeUIForm(),p.default.RedPointManager.closeRedPointById(this.data.id),this.ballItem.updateData(this.data),p.default.MessageCenter.dispatch(d.default.UpdateBall),p.default.MessageCenter.dispatch(d.default.UnlockNewBall,this.data)),[2]}})})},r([b(cc.Sprite)],t.prototype,"icon",void 0),r([b(cc.Node)],t.prototype,"proBar",void 0),r([b(cc.Label)],t.prototype,"proLabel",void 0),r([b(cc.Label)],t.prototype,"tip",void 0),r([b(cc.Label)],t.prototype,"cashLabel",void 0),r([b(cc.Label)],t.prototype,"coinLabel",void 0),r([b(cc.Label)],t.prototype,"nameLabel",void 0),r([b(cc.Node)],t.prototype,"unlockBtn",void 0),r([b(g.UISwitcher)],t.prototype,"switcher",void 0),t=r([v],t)}(s.default);n.default=I,cc._RF.pop()},{"../../App":"App","../../MXInterFace/DataManager":"DataManager","../../MXInterFace/InterFaceManager":"InterFaceManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/CocosHelper":"CocosHelper","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../ui_switcher.js":"ui_switcher","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst"}],BallItem:[function(e,t,n){"use strict";cc._RF.push(t,"03490G6nnxGrLC4s6xSxLp6","BallItem");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./../../MXInterFace/DataManager"),i=e("../../App"),s=e("../gameConst/GameUIConst"),c=e("../../UIFrame/CocosHelper"),u=e("../gameConst/EventConst"),l=cc._decorator,p=l.ccclass,d=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectIcon=null,t.shadow=null,t.icon=null,t.redpoint=null,t.isMove=!1,t.pos=0,t}return o(t,e),t.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.select,this),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),i.default.MessageCenter.addListener(u.default.UpdateBall,this.upateSelect,this),i.default.MessageCenter.addListener(u.default.UnlockNewBall,this.updateUnlock,this)},t.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.select,this),this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),i.default.MessageCenter.removeListener(u.default.UpdateBall,this.upateSelect,this),i.default.MessageCenter.removeListener(u.default.UnlockNewBall,this.updateUnlock,this)},t.prototype.touchStart=function(e){this.pos=e.getLocationX()},t.prototype.select=function(e){var t=e.getLocationX();Math.abs(t-this.pos)>20||!this.isMove&&this.data&&(this.closeRedPoint(),this.data.owned?(i.default.DataManager.currentBall=this.data.id,i.default.MessageCenter.dispatch(u.default.UpdateBall)):i.default.UIManager.showUIFormWithLoading(s.default.BallInfoUI,{data:this.data,target:this}))},t.prototype.closeRedPoint=function(){this.data.owned&&(i.default.RedPointManager.closeRedPointById(this.data.id),this.redpoint.active=!1)},t.prototype.updateRedPoint=function(){var e=i.default.RedPointManager.getRedPointById(this.data.id);this.redpoint.active=e},t.prototype.updateData=function(e){e&&(this.data=e,this.updateIcon(),this.upateSelect(),this.updateRedPoint())},t.prototype.updateUnlock=function(e){e!=this.data&&(this.data.unlockCondition.type==a.UnlockType.ballcount&&i.default.DataManager.getNumByUnlockType(this.data.unlockCondition.type)>=this.data.unlockCondition.value&&(i.default.RedPointManager.updateRedPoint(this.data.id),this.updateData(this.data)))},t.prototype.upateSelect=function(){this.selectIcon.active=this.data.id==i.default.DataManager.currentBall},t.prototype.updateIcon=function(){var e=this,t=i.default.DataManager.getBallResById(this.data.id);cc.resources.load(t,cc.SpriteFrame,function(t,n){t?cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t):e.icon.spriteFrame=n}),c.default.setGray(this.icon,!this.data.owned&&!i.default.RedPointManager.getRedPointById(this.data.id))},r([d(cc.Node)],t.prototype,"selectIcon",void 0),r([d(cc.Node)],t.prototype,"shadow",void 0),r([d(cc.Sprite)],t.prototype,"icon",void 0),r([d(cc.Node)],t.prototype,"redpoint",void 0),t=r([p],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../App":"App","../../UIFrame/CocosHelper":"CocosHelper","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst","./../../MXInterFace/DataManager":"DataManager"}],BallPageItem:[function(e,t,n){"use strict";cc._RF.push(t,"b9b33ZgAKpBnLpveft330T3","BallPageItem");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BallItem"),i=cc._decorator,s=i.ccclass,c=i.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t}return o(t,e),t.prototype.start=function(){},t.prototype.setItem=function(e){var t=this;this.node.removeAllChildren(),e.forEach(function(e){var n=cc.instantiate(t.prefab);t.node.addChild(n),n.getComponent(a.default).updateData(e)})},r([c(cc.Prefab)],t.prototype,"prefab",void 0),t=r([s],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./BallItem":"BallItem"}],BallUI:[function(e,t,n){"use strict";cc._RF.push(t,"d0202mfKV1Hj7BHRNZafy/1","BallUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../App"),i=e("../../MXInterFace/DataManager"),s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../utils/DebugUtils"),p=e("../ui/UIScrollSelect"),d=e("./BallPageItem"),f=e("../gameConst/EventConst"),h=cc._decorator,g=h.ccclass,y=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.Fixed,c.UIFormShowMode.Independent,c.UIFormLucenyType.Translucence),t.list=null,t.prefab=null,t.cashLabel=null,t.coinLabel=null,t.currentIndex=0,t}return o(t,e),t.prototype.onLoad=function(){this.ballArr=a.default.DataManager.props.filter(function(e){return e.category==i.PropType.ball&&Number(e.id)<=a.default.GameManager.ballID});var e=Math.ceil(this.ballArr.length/9);this.list.initList(e,this.prefab),a.default.MessageCenter.addListener(f.default.ChangeCoinOrCash,this.change,this)},t.prototype.start=function(){this.initCoin()},t.prototype.onShow=function(){this.udpateData(),this.list.updateList(this.setItem,this,this.currentIndex)},t.prototype.initCoin=function(){this.coinLabel.string=a.default.DataManager.userData.currency.coins.toString(),this.cashLabel.string=a.default.DataManager.userData.currency.cash.toString()},t.prototype.udpateData=function(){var e=this,t=0;this.ballArr.sort(function(e,t){return e.owned==t.owned?Number(t.id)-Number(e.id):e.owned?-1:1}),this.pageArr=[],this.ballArr.forEach(function(n){e.pageArr[t]&&e.pageArr[t].length>=9&&t++,e.pageArr[t]||(e.pageArr[t]=[]),e.pageArr[t].push(n)}),this.currentIndex=0;for(var n=0;n<this.ballArr.length;n++)if(0==this.currentIndex){var o=this.ballArr[n];if(a.default.RedPointManager.getRedPointById(o.id)){this.currentIndex=n;break}}if(0==this.currentIndex)for(var r=0;r<this.ballArr.length;r++){if(0==this.currentIndex)if((o=this.ballArr[r]).id==a.default.DataManager.currentBall){this.currentIndex=r;break}}this.currentIndex=Math.floor(this.currentIndex/9),l.log("pagedata",this.pageArr,this.currentIndex)},t.prototype.setItem=function(e,t){e.getComponent(d.default).setItem(this.pageArr[t])},t.prototype.change=function(e){e.totalCash&&(a.default.DataManager.userData.currency.cash=e.totalCash),e.totalCoins&&(a.default.DataManager.userData.currency.coins=e.totalCoins),this.initCoin()},r([y(p.default)],t.prototype,"list",void 0),r([y(cc.Prefab)],t.prototype,"prefab",void 0),r([y(cc.Label)],t.prototype,"cashLabel",void 0),r([y(cc.Label)],t.prototype,"coinLabel",void 0),t=r([g],t)}(s.default);n.default=m,cc._RF.pop()},{"../../App":"App","../../MXInterFace/DataManager":"DataManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst","../ui/UIScrollSelect":"UIScrollSelect","./BallPageItem":"BallPageItem"}],Ball:[function(e,t,n){"use strict";cc._RF.push(t,"89c94Ue/jxF5ZflwZp9HB4v","Ball");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../utils/DebugUtils"),i=e("../../App"),s=e("../gameConst/EventConst"),c=e("../../sound/MusicConst"),u=cc._decorator,l=u.ccclass,p=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.isPerfect=!0,t}return o(t,e),t.prototype.start=function(){a.log("start"),i.default.MessageCenter.addListener(s.default.UpdateBall,this.updateIcon,this)},t.prototype.onBeginContact=function(e,t,n){"basket"==n.node.group&&(this.isPerfect=!1,i.default.SoundManager.playEffect(c.MusicConst.floor))},t.prototype.updateIcon=function(){var e=this,t=i.default.DataManager.getBallResById(i.default.DataManager.currentBall);cc.resources.load(t,cc.SpriteFrame,function(t,n){t?cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t):e.icon.spriteFrame=n})},r([p(cc.Sprite)],t.prototype,"icon",void 0),t=r([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../App":"App","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],BaseSound:[function(e,t,n){"use strict";cc._RF.push(t,"bcc1ao3d2hMlqRe9b+nKGxm","BaseSound"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./SoundManager"),r=function(){function e(e,t){this._loaded=!1,this._audioSource=new cc.AudioSource,this._path="",this._path=e,this._musicType=t}return e.prototype.loadRes=function(e){var t=this;this._loaded||cc.resources.load(this._path,cc.AudioClip,function(n,o){n?console.warn("\u97f3\u9891\u8d44\u6e90\u52a0\u8f7d\u51fa\u9519:",t._path):(t._audioSource.clip=o,t._loaded=!0,e&&e())})},e.prototype.play=function(e){var t=this;this._isStop=!1,this._loaded?(this._audioSource.loop=e,this._musicType==o.MusicType.MUSIC?cc.audioEngine.playMusic(this._audioSource.clip,e):this._musicType==o.MusicType.SOUND&&cc.audioEngine.playEffect(this._audioSource.clip,e)):this.loadRes(function(){t._isStop||t.play(e)})},e.prototype.isPlaying=function(){return this._audioSource.isPlaying},e.prototype.stop=function(){this._isStop=!0,this._loaded&&this._musicType==o.MusicType.MUSIC&&cc.audioEngine.stopMusic()},e.prototype.pause=function(){this._loaded&&this._musicType==o.MusicType.MUSIC&&cc.audioEngine.pauseMusic()},e.prototype.resume=function(){this._loaded&&this._musicType==o.MusicType.MUSIC&&cc.audioEngine.resumeMusic()},e.prototype.destroy=function(){this._audioSource.stop(),this._audioSource=null},Object.defineProperty(e.prototype,"volume",{set:function(e){this._audioSource.volume=e},enumerable:!1,configurable:!0}),e}();n.default=r,cc._RF.pop()},{"./SoundManager":"SoundManager"}],BaseUIBinder:[function(e,t,n){"use strict";cc._RF.push(t,"05318gzJaZDkqI434z5QZL9","BaseUIBinder");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./UIHelper"),i=cc._decorator,s=i.ccclass,c=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._Nodes={},t._Labels={},t._Buttons={},t._Sprites={},t._RichTexts={},t._MotionStreaks={},t._Graphicss={},t._EditBoxs={},t._ScrollViews={},t._ProgressBars={},t._Sliders={},t}return o(t,e),t.prototype.__preInit=function(){a.default.getInstance().bindComponent(this)},t.prototype.start=function(){},t=r([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{"./UIHelper":"UIHelper"}],BaseUIForm:[function(e,t,n){"use strict";cc._RF.push(t,"1b13ey37BVHGaBYmH+DFR5S","BaseUIForm");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./UIManager"),c=e("./config/SysDefine"),u=e("./UIMaskManager"),l=e("./GEventManager"),p=e("./BaseUIView"),d=e("./UIIndependentManager"),f=e("./FormType"),h=e("../App"),g=cc._decorator,y=g.ccclass,m=(g.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new f.UIType,t.MaskType=new f.MaskType(!0),t.CloseAndDestory=!1,t.view=null,t}return o(t,e),t.prototype.__preInit=function(e){return a(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.view||(this.view=this.getComponent(p.default),this.view&&this.view._preInit()),this.init(e),[4,this.load()];case 1:return t.sent(),this.UIType.UIForms_Type!=c.UIFormType.Independent&&d.default.getInstance().hideLoadingForm(),[2]}})})},t.prototype.init=function(e){},t.prototype.load=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return[2]})})},t.prototype.onShow=function(){},t.prototype.disPlay=function(){return a(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.node.active=!0,h.default.TimerManager.doFrame(1,1,this.onShow,this),this.UIType.UIForms_Type!=c.UIFormType.PopUp?[3,2]:(u.default.getInstance().addMaskWindow(this.node),[4,this.showPopUpAnimation()]);case 1:e.sent(),u.default.getInstance().showMask(this.UIType.UIForm_LucencyType,this.MaskType.IsEasing,this.MaskType.EasingTime),e.label=2;case 2:return[2]}})})},t.prototype.hide=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return this.UIType.UIForms_Type==c.UIFormType.PopUp&&u.default.getInstance().removeMaskWindow(this.node),this.node.active=!1,[2]})})},t.prototype.reDisPlay=function(){this.node.active=!0,this.UIType.UIForms_Type,c.UIFormType.PopUp},t.prototype.freeze=function(){this.UIType.UIForms_Type,c.UIFormType.PopUp},t.prototype.showUIForm=function(e,t){s.default.getInstance().showUIForm(e,t)},t.prototype.closeUIForm=function(){s.default.getInstance().closeUIForm(this.UIFormName)},t.prototype.showPopUpAnimation=function(){return a(this,void 0,void 0,function(){var e=this;return i(this,function(t){return[2,new Promise(function(t,n){cc.director.isPaused()?t(null):cc.tween(e.node).set({scale:0}).to(.2,{scale:1}).call(function(){t(!0)}).start()})]})})},t.prototype.hidePopUpAnimation=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return[2]})})},t.prototype.sendMessage=function(e,t){l.default.emit(e,t)},t.prototype.receiveMessage=function(e,t,n){l.default.on(e,t,n)},t.prototype.addClick=function(e,t){e&&e.on(cc.Node.EventType.TOUCH_END,t,this)},t.prototype.removeClick=function(e,t){e&&e.off(cc.Node.EventType.TOUCH_END,t,this)},t.prototype.setLabel=function(e,t){e&&(e.string=t)},t.prototype.setActive=function(e,t){e&&(e.active=t)},t=r([y],t)}(cc.Component));n.default=m,cc._RF.pop()},{"../App":"App","./BaseUIView":"BaseUIView","./FormType":"FormType","./GEventManager":"GEventManager","./UIIndependentManager":"UIIndependentManager","./UIManager":"UIManager","./UIMaskManager":"UIMaskManager","./config/SysDefine":"SysDefine"}],BaseUIView:[function(e,t,n){"use strict";cc._RF.push(t,"d20da3jRrBM2ZFbSPQismJN","BaseUIView");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseUIBinder"),i=cc._decorator,s=i.ccclass,c=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.called=!1,t}return o(t,e),t.prototype._preInit=function(){this.called||e.prototype.__preInit.call(this)},t=r([s],t)}(a.default));n.default=c,cc._RF.pop()},{"./BaseUIBinder":"BaseUIBinder"}],BgCardItem:[function(e,t,n){"use strict";cc._RF.push(t,"d0c9b5X275DNZNCACZLT2wh","BgCardItem");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../App"),i=e("../../MXInterFace/DataManager"),s=e("../../UIFrame/CocosHelper"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.proBar=null,t.proLabel=null,t.tip=null,t.nameLabel=null,t.redpoint=null,t}return o(t,e),t.prototype.onLoad=function(){this.proWidth=this.proBar.width},t.prototype.updateData=function(e){e&&(this.data=e,this.updateIcon(),this.updateTip(),this.updatePro(),this.updateRedPoint())},t.prototype.updateIcon=function(){var e=this,t=a.default.DataManager.getBgIconResById(this.data.id);cc.resources.load(t,cc.SpriteFrame,function(t,n){t?cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t):e.icon.spriteFrame=n}),s.default.setGray(this.icon,!this.data.owned&&!a.default.RedPointManager.getRedPointById(this.data.id))},t.prototype.closeRedPoint=function(){this.data.owned&&(a.default.RedPointManager.closeRedPointById(this.data.id),this.redpoint.active=!1)},t.prototype.updateRedPoint=function(){this.redpoint.active=a.default.RedPointManager.getRedPointById(this.data.id)},t.prototype.updateTip=function(){this.nameLabel.string=this.data.name,this.tip.string=a.default.DataManager.getTextByUnlockType(this.data.unlockCondition.type,this.data.unlockCondition.value),this.tip.node.active=!this.data.owned},t.prototype.updatePro=function(){if(this.proBar.parent.active=this.data.unlockCondition.type!=i.UnlockType.none&&!this.data.owned,this.data.unlockCondition.type!=i.UnlockType.none){var e=a.default.DataManager.getNumByUnlockType(this.data.unlockCondition.type),t=this.data.unlockCondition.value;e=e>=t?t:e,this.proBar.parent.active&&(this.proLabel.string=e+"/"+t,this.proBar.width=this.proWidth*Math.min(e/t,1))}},r([l(cc.Sprite)],t.prototype,"icon",void 0),r([l(cc.Node)],t.prototype,"proBar",void 0),r([l(cc.Label)],t.prototype,"proLabel",void 0),r([l(cc.Label)],t.prototype,"tip",void 0),r([l(cc.Label)],t.prototype,"nameLabel",void 0),r([l(cc.Node)],t.prototype,"redpoint",void 0),t=r([u],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../App":"App","../../MXInterFace/DataManager":"DataManager","../../UIFrame/CocosHelper":"CocosHelper"}],BgShopUI:[function(e,t,n){"use strict";cc._RF.push(t,"e0470EMy55AiLuFBW0fliwY","BgShopUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../App"),c=e("../../MXInterFace/DataManager"),u=e("../../MXInterFace/InterFaceManager"),l=e("../../UIFrame/BaseUIForm"),p=e("../../UIFrame/config/SysDefine"),d=e("../../UIFrame/FormType"),f=e("../../utils/DebugUtils"),h=e("../gameConst/EventConst"),g=e("../gameConst/GameUIConst"),y=e("../ui/UIScrollSelect"),m=e("./BgCardItem"),_=cc._decorator,v=_.ccclass,b=_.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new d.UIType(p.UIFormType.Fixed,p.UIFormShowMode.Independent,p.UIFormLucenyType.Translucence),t.list=null,t.prefab=null,t.mycashLabel=null,t.mycoinLabel=null,t.cashLabel=null,t.coinLabel=null,t.useBtn=null,t.scriptArr=[],t.currentIndex=0,t}return o(t,e),t.prototype.onLoad=function(){s.default.MessageCenter.addListener(h.default.ChangeCoinOrCash,this.change,this),this.bgArr=s.default.DataManager.props.filter(function(e){return e.category==c.PropType.bg&&Number(e.id)<=s.default.GameManager.bgID}),this.initCoin(),this.addClick(this.coinLabel.node.parent,this.coinBuy),this.addClick(this.cashLabel.node.parent,this.cashBuy),this.addClick(this.useBtn,this.unlock),this.coinspriteFrame=this.coinLabel.node.parent.getComponent(cc.Sprite).spriteFrame,this.cashspriteFrame=this.cashLabel.node.parent.getComponent(cc.Sprite).spriteFrame},t.prototype.start=function(){this.list.initList(this.bgArr.length,this.prefab)},t.prototype.onShow=function(){u.gameDetailsViewed(1),this.udpateData(),this.list.updateList(this.setItem,this,this.currentIndex),this.data=this.bgArr[this.currentIndex],this.updateMoney()},t.prototype.initCoin=function(){this.mycoinLabel.string=s.default.DataManager.userData.currency.coins.toString(),this.mycashLabel.string=s.default.DataManager.userData.currency.cash.toString()},t.prototype.udpateData=function(){this.bgArr.sort(function(e,t){return e.owned==t.owned?Number(t.id)-Number(e.id):e.owned?-1:1}),this.currentIndex=0;for(var e=0;e<this.bgArr.length;e++)if(0==this.currentIndex){var t=this.bgArr[e];if(s.default.RedPointManager.getRedPointById(t.id)){this.currentIndex=e;break}}if(0==this.currentIndex)for(e=0;e<this.bgArr.length;e++){if(0==this.currentIndex)if((t=this.bgArr[e]).id==s.default.DataManager.currentBg){this.currentIndex=e;break}}f.log("pagedata",this.bgArr,this.currentIndex)},t.prototype.setItem=function(e,t){var n=e.getComponent(m.default);this.scriptArr[t]=n,n.updateData(this.bgArr[t])},t.prototype.updateIndex=function(e){e.type==y.EventType.SCROLL_END&&(f.log("updateindex",e),f.log("select",this.bgArr[e.index]),this.data=this.bgArr[e.index],this.updateMoney())},t.prototype.change=function(e){e.totalCash&&(s.default.DataManager.userData.currency.cash=e.totalCash),e.totalCoins&&(s.default.DataManager.userData.currency.coins=e.totalCoins),this.initCoin()},t.prototype.updateMoney=function(){if(this.useBtn.active=!1,this.data.owned)return this.coinLabel.node.parent.active=!1,this.cashLabel.node.parent.active=!1,void(this.useBtn.active=s.default.DataManager.currentBg!=this.data.id);if(this.data.unlockCondition.type!=c.UnlockType.none&&s.default.DataManager.getNumByUnlockType(this.data.unlockCondition.type)>=this.data.unlockCondition.value)return this.useBtn.active=!0,this.coinLabel.node.parent.active=!1,void(this.cashLabel.node.parent.active=!1);var e=s.default.DataManager.getMoneyType(this.data);this.cashLabel.string=s.default.DataManager.getCashNum(this.data).toString(),this.cashLabel.node.parent.getComponent(cc.Button).interactable=s.default.DataManager.userData.currency.cash>=s.default.DataManager.getCashNum(this.data),this.coinLabel.string=s.default.DataManager.getCoinNum(this.data).toString(),this.coinLabel.node.parent.getComponent(cc.Button).interactable=s.default.DataManager.userData.currency.coins>=s.default.DataManager.getCoinNum(this.data),e==c.MoneyType.coin?(this.coinLabel.node.parent.active=!0,this.cashLabel.node.parent.active=!1,this.coinLabel.node.parent.y=this.cashLabel.node.parent.y,this.coinLabel.node.parent.width=this.cashLabel.node.parent.width,this.coinLabel.node.parent.height=this.cashLabel.node.parent.height,this.coinLabel.node.parent.getComponent(cc.Sprite).spriteFrame=this.cashspriteFrame):e==c.MoneyType.cash?(this.coinLabel.node.parent.active=!1,this.cashLabel.node.parent.active=!0):e==c.MoneyType.fine?(this.coinLabel.node.parent.active=!0,this.cashLabel.node.parent.active=!0,this.coinLabel.node.parent.y=-820.87,this.coinLabel.node.parent.getComponent(cc.Sprite).spriteFrame=this.coinspriteFrame):(this.coinLabel.node.parent.active=!1,this.cashLabel.node.parent.active=!1)},t.prototype.coinBuy=function(){return a(this,void 0,void 0,function(){var e,t,n,o=this;return i(this,function(r){return e=s.default.DataManager.getCoinNum(this.data),s.default.DataManager.userData.currency.coins<e?(s.default.TipManager.showTip("Sorry\uff0cyou don\u2018t have enough coins"),[2]):(t=function(){return a(o,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,s.default.NetWorkManager.postBuyCoinProp(this.data.id)];case 1:return"done"==(e=t.sent()).status&&e.propsId&&(s.default.DataManager.getPropItemByID(e.propsId).owned=1,this.updateUnlock(),u.gamePurchaseSucceed("coin",this.data.id)),[2]}})})},n={num:e,call:t,type:c.MoneyType.coin,id:this.data.id},s.default.UIManager.showUIFormWithLoading(g.default.BuyUI,n),[2])})})},t.prototype.cashBuy=function(){return a(this,void 0,void 0,function(){var e,t,n,o=this;return i(this,function(r){return e=s.default.DataManager.getCashNum(this.data),s.default.DataManager.userData.currency.cash<e?(s.default.TipManager.showTip("Sorry\uff0cyou don\u2018t have enough cash"),[2]):(t=function(){return a(o,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return[4,s.default.NetWorkManager.postBuyCashProp(this.data.id)];case 1:return"done"==(e=t.sent()).status&&e.propsId&&(s.default.DataManager.getPropItemByID(e.propsId).owned=1,this.updateUnlock(),u.gamePurchaseSucceed("cash",this.data.id)),[2]}})})},n={num:e,call:t,type:c.MoneyType.cash,id:this.data.id},s.default.UIManager.showUIFormWithLoading(g.default.BuyUI,n),[2])})})},t.prototype.unlock=function(){return a(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.data.owned?(s.default.DataManager.currentBg=this.data.id,s.default.MessageCenter.dispatch(h.default.UpdateBg),this.useBtn.active=!1,this.scriptArr[this.list.currentIndex].closeRedPoint(),this.closeUIForm(),[2]):[4,s.default.NetWorkManager.postUnLockProp(this.data.id)];case 1:return"done"==(e=t.sent()).status&&e.propsId&&(s.default.DataManager.currentBall=e.propsId,s.default.DataManager.getPropItemByID(e.propsId).owned=1,this.updateUnlock(),s.default.DataManager.currentBg=this.data.id,s.default.MessageCenter.dispatch(h.default.UpdateBg)),[2]}})})},t.prototype.updateUnlock=function(){s.default.RedPointManager.closeRedPointById(this.data.id),this.scriptArr[this.list.currentIndex].updateData(this.data),this.updateMoney()},r([b(y.default)],t.prototype,"list",void 0),r([b(cc.Prefab)],t.prototype,"prefab",void 0),r([b(cc.Label)],t.prototype,"mycashLabel",void 0),r([b(cc.Label)],t.prototype,"mycoinLabel",void 0),r([b(cc.Label)],t.prototype,"cashLabel",void 0),r([b(cc.Label)],t.prototype,"coinLabel",void 0),r([b(cc.Node)],t.prototype,"useBtn",void 0),t=r([v],t)}(l.default);n.default=I,cc._RF.pop()},{"../../App":"App","../../MXInterFace/DataManager":"DataManager","../../MXInterFace/InterFaceManager":"InterFaceManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst","../ui/UIScrollSelect":"UIScrollSelect","./BgCardItem":"BgCardItem"}],BuyUI:[function(e,t,n){"use strict";cc._RF.push(t,"cb2916OOb5HkqGuIBDy3bsK","BuyUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./../../MXInterFace/DataManager"),i=e("../../UIFrame/BaseUIForm"),s=e("../../UIFrame/config/SysDefine"),c=e("../../UIFrame/FormType"),u=e("../../App"),l=e("../../utils/DebugUtils"),p=e("../../sound/MusicConst"),d=e("../../MXInterFace/InterFaceManager"),f=cc._decorator,h=f.ccclass,g=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new c.UIType(s.UIFormType.PopUp,s.UIFormShowMode.ReverseChange,s.UIFormLucenyType.Translucence),t.coinNode=null,t.cashNode=null,t.cashIcon=null,t.coinIcon=null,t.numLabel=null,t.tipLabel=null,t}return o(t,e),t.prototype.init=function(e){l.log("obj",e),this.type=e.type,this.call=e.call,this.num=e.num,this.id=e.id},t.prototype.onShow=function(){this.numLabel.string=this.num.toString(),this.coinNode.active=this.coinIcon.active=this.type==a.MoneyType.coin,this.cashNode.active=this.cashIcon.active=this.type==a.MoneyType.cash,this.tipLabel.string=(this.type==a.MoneyType.coin?"Coin":"Cash")+" once redeemed will not be refunded",d.gamePurchaseClicked(this.type==a.MoneyType.coin?"Coin":"Cash",this.id)},t.prototype.resume=function(){u.default.SoundManager.playEffect(p.MusicConst.button),u.default.UIManager.closeUIForm(this.UIFormName),this.call&&this.call()},t.prototype.closeUIForm=function(){e.prototype.closeUIForm.call(this),d.gamePurchaseFailed(1)},r([g(cc.Node)],t.prototype,"coinNode",void 0),r([g(cc.Node)],t.prototype,"cashNode",void 0),r([g(cc.Node)],t.prototype,"cashIcon",void 0),r([g(cc.Node)],t.prototype,"coinIcon",void 0),r([g(cc.Label)],t.prototype,"numLabel",void 0),r([g(cc.Label)],t.prototype,"tipLabel",void 0),t=r([h],t)}(i.default);n.default=y,cc._RF.pop()},{"../../App":"App","../../MXInterFace/InterFaceManager":"InterFaceManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","./../../MXInterFace/DataManager":"DataManager"}],CWebSocket:[function(e,t,n){"use strict";cc._RF.push(t,"65ab688uJhB5bMfNapdpRC2","CWebSocket"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.ws=null,this.onConnect=null,this.onMessage=null,this.onError=null,this.onClose=null}return e.prototype.connect=function(e){var t=this;if(this.ws&&this.ws.readyState===WebSocket.CONNECTING)return cc.log("\u5df2\u7ecf\u8fde\u63a5\u4e0a\u7f51\u7edc, \u91cd\u65b0\u8fde\u63a5\u524d\u8bf7\u5148\u8c03\u7528close\u65b9\u6cd5!"),!1;var n="";return n="string"==typeof e?e:e.protocol+"://"+e.ip+":"+e.port,this.ws=new WebSocket(n),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onConnect,this.ws.onmessage=function(e){t.onMessage(e.data)},this.ws.onclose=this.onClose,this.ws.onerror=this.onError,!0},e.prototype.send=function(e){return this.ws&&this.ws.readyState===WebSocket.OPEN?(this.ws.send(JSON.stringify(e)),!0):(cc.log("\u7f51\u7edc\u8fde\u63a5\u5df2\u5173\u95ed, \u65e0\u6cd5\u53d1\u9001\u6d88\u606f"),!1)},e.prototype.close=function(){return this.ws&&this.ws.readyState!==WebSocket.CLOSED&&(this.ws.close(),this.ws=null),!0},e}();n.default=o,cc._RF.pop()},{}],CircleAvatar:[function(e,t,n){"use strict";cc._RF.push(t,"ffa22HpEtpBUoMGYTvglxwt","CircleAvatar");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.xRadius=0,t.yRadius=0,t}return o(t,e),t.prototype.start=function(){var e=this.node.getComponent(cc.RenderComponent),t=e.getMaterial(0);t.setProperty("xRadius",this.xRadius),t.setProperty("yRadius",this.yRadius),e.setMaterial(0,t)},r([s(cc.Integer)],t.prototype,"xRadius",void 0),r([s(cc.Integer)],t.prototype,"yRadius",void 0),t=r([i],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],CocosHelper:[function(e,t,n){"use strict";cc._RF.push(t,"7d011DLhkxFPakrCRw6PZqk","CocosHelper");var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./config/SysDefine"),i=function(){return function(){}}(),s=function(){function e(){}return e.sleep=function(e){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,n){cc.tween(new cc.Node).delay(e).call(function(){t(!0)}).start()})]})})},e.runSyncAction=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o(this,void 0,void 0,function(){return r(this,function(n){return!t||t.length<=0?[2]:[2,new Promise(function(n,o){t.push(cc.callFunc(function(){n(!0)})),e.runAction(cc.sequence(t))})]})})},e.runSyncAnim=function(t,n){return o(this,void 0,void 0,function(){var o,a,i,s;return r(this,function(r){switch(r.label){case 0:if(!(o=t.getComponent(cc.Animation)))return[2];if(a=null,n){if(i=o.getClips(),"number"==typeof n)a=i[n];else if("string"==typeof n)for(s=0;s<i.length;s++)if(i[s].name===n){a=i[s];break}}else a=o.defaultClip;return a?[4,e.sleep(a.duration)]:[2];case 1:return r.sent(),[2]}})})},e._progressCallback=function(t,n,o){e.loadProgress.completedCount=t,e.loadProgress.totalCount=n},e.findChildInNode=function(e,t){if(t.name==e)return t;for(var n=0;n<t.childrenCount;n++){var o=this.findChildInNode(e,t.children[n]);if(o)return o}return null},e.checkNodePrefix=function(e){return e[0]===a.SysDefine.SYS_STANDARD_Prefix},e.checkBindChildren=function(e){return e[e.length-1]!==a.SysDefine.SYS_STANDARD_End},e.getPrefixNames=function(e){if(null!==e)return e.split(a.SysDefine.SYS_STANDARD_Separator)},e._getComponentName=function(e){return e.name.match(/<.*>$/)[0].slice(1,-1)},e.setGray=function(e,t,n){var o=this;void 0===t&&(t=!0);var r=e,a=cc.Material.getBuiltinMaterial((t?cc.Material.BUILTIN_NAME.GRAY_SPRITE:cc.Material.BUILTIN_NAME.SPRITE)+"");e instanceof cc.Node?((r=e.getComponent(cc.Sprite))&&r.setMaterial(0,a),(r=e.getComponent(cc.Label))&&r.setMaterial(0,a),n&&e.children.forEach(function(e){o.setGray(e,t,n)},this)):r&&r.setMaterial(0,a)},e.loadProgress=new i,e.loadRes=function(t,n,o){if(t&&n)return e.loadProgress.url=t,o=o||e._progressCallback,new Promise(function(e,r){cc.resources.load(t,n,o,function(t,n){if(t)return cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t),void e(null);e(n)})});cc.log("\u53c2\u6570\u9519\u8bef",t,n)},e.loadResArray=function(t,n,o){if(t&&n)return e.loadProgress.url=t,o=o||e._progressCallback,new Promise(function(e,r){cc.resources.load(t,n,o,function(t,n){if(t)return cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t),void e(null);e(n)})});cc.log("\u53c2\u6570\u9519\u8bef",t,n)},e}();n.default=s,cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],CommonUtils:[function(e,t,n){"use strict";cc._RF.push(t,"a8a21ydfcpD6YbNnRfqOr0J","CommonUtils");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){var t=e.call(this)||this;return t.labelIsOverLenght=function(e,t){var n=null;n=t<1e5?t:t<1e6?Math.floor(t/1e3/10).toString()+"\u4e07":Math.floor(t/1e4).toString()+"\u4e07",e.text=n},t}return o(t,e),t.prototype.copyDataHandler=function(e){var t;if(e instanceof Array)t=[];else{if(!(e instanceof Object))return e;t={}}for(var n=Object.keys(e),o=0,r=n.length;o<r;o++){var a=n[o];t[a]=this.copyDataHandler(e[a])}return t},t.prototype.int64ToNumber=function(e){return parseInt(e.toString())},t.prototype.vibrate=function(){"vibrate"in window.navigator?window.navigator.vibrate(100):console.log("\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u9707\u52a8")},t}(e("../base/SingtonClass").default);n.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],ContentAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"4010diIR0ZMhJ1/d++3vQ8Y","ContentAdapter");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){if(cc.sys.isMobile||cc.view.getCanvasSize().height/cc.view.getCanvasSize().width>1.5){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,n=this.node.height*e;this.node.width=this.node.width*(cc.view.getCanvasSize().width/t),this.node.height=this.node.height*(cc.view.getCanvasSize().height/n)}},t=r([i],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],DataManager:[function(e,t,n){"use strict";cc._RF.push(t,"49235LoH8VPD6C78mNVnLJX","DataManager");var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.MoneyType=n.MoneyName=n.UnlockType=n.PropType=void 0;var a,i,s=e("../App"),c=function(){function e(){this.props=[{id:"10012",type:"mx_game_props",name:"Football",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:1,value:35},prices:[{type:"coins",value:35},{type:"cash",value:16}],offline:0,owned:0},{id:"20001",type:"mx_game_props",name:"Zero Dawn",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:2,unlockCondition:{type:999,value:0},prices:[{type:"coins",value:6}],offline:0,owned:1},{id:"10003",type:"mx_game_props",name:"Baseball",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:2,value:2},prices:[{type:"cash",value:1}],offline:0,owned:0},{id:"10006",type:"mx_game_props",name:"Black",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:5,value:2},prices:[{type:"coins",value:20}],offline:0,owned:0},{id:"20005",type:"mx_game_props",name:"SOHO",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:2,unlockCondition:{type:4,value:2},prices:[{type:"cash",value:7}],offline:0,owned:0},{id:"10002",type:"mx_game_props",name:"American Football",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:1,value:15},prices:[{type:"coins",value:10}],offline:0,owned:0},{id:"10016",type:"mx_game_props",name:"Multicolored",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:5,value:8},prices:[{type:"coins",value:40},{type:"cash",value:5}],offline:0,owned:0},{id:"10011",type:"mx_game_props",name:"Disco",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:5,value:4},prices:[{type:"cash",value:4}],offline:0,owned:0},{id:"10014",type:"mx_game_props",name:"Golf",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:3,value:25},prices:[{type:"coins",value:3}],offline:0,owned:0},{id:"20004",type:"mx_game_props",name:"Night Cit",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:2,unlockCondition:{type:3,value:25},prices:[],offline:0,owned:0},{id:"10009",type:"mx_game_props",name:"Colourful Soccer",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:3,value:20},prices:[],offline:0,owned:0},{id:"10010",type:"mx_game_props",name:"Cricket",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:4,value:2},prices:[{type:"coins",value:2}],offline:0,owned:0},{id:"10017",type:"mx_game_props",name:"Polka Dot",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:1,value:45},prices:[],offline:0,owned:0},{id:"10001",type:"mx_game_props",name:"Basketball",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:999,value:0},prices:[],offline:0,owned:1},{id:"10013",type:"mx_game_props",name:"Golden",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:2,value:4},prices:[],offline:0,owned:0},{id:"20008",type:"mx_game_props",name:"Walled In",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:2,unlockCondition:{type:0,value:0},prices:[{type:"coins",value:60},{type:"cash",value:8}],offline:0,owned:0},{id:"10004",type:"mx_game_props",name:"Beach Ball",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:3,value:15},prices:[{type:"coins",value:15},{type:"cash",value:10}],offline:0,owned:0},{id:"20003",type:"mx_game_props",name:"Greenfield View",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:2,unlockCondition:{type:2,value:3},prices:[{type:"coins",value:40},{type:"cash",value:5}],offline:0,owned:0},{id:"10018",type:"mx_game_props",name:"Tennis",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:2,value:5},prices:[{type:"coins",value:4}],offline:0,owned:0},{id:"10019",type:"mx_game_props",name:"Volleyball-B",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:0,value:0},prices:[{type:"cash",value:5}],offline:0,owned:0},{id:"20006",type:"mx_game_props",name:"Spotlight Arena",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:2,unlockCondition:{type:5,value:6},prices:[{type:"coins",value:9}],offline:0,owned:0},{id:"10007",type:"mx_game_props",name:"Bowling",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:1,value:25},prices:[{type:"cash",value:3}],offline:0,owned:0},{id:"10020",type:"mx_game_props",name:"Volleyball",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:0,value:0},prices:[{type:"coins",value:5}],offline:0,owned:0},{id:"10015",type:"mx_game_props",name:"Light",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:4,value:3},prices:[{type:"cash",value:2}],offline:0,owned:0},{id:"20002",type:"mx_game_props",name:"Futurama Zone",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:2,unlockCondition:{type:1,value:25},prices:[{type:"cash",value:6}],offline:0,owned:0},{id:"20007",type:"mx_game_props",name:"Sunset Boulevard",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:2,unlockCondition:{type:0,value:0},prices:[{type:"cash",value:8}],offline:0,owned:0},{id:"10005",type:"mx_game_props",name:"Billiards",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:4,value:1},prices:[],offline:0,owned:0},{id:"10008",type:"mx_game_props",name:"Candy Ball",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:2,value:3},prices:[{type:"coins",value:25},{type:"cash",value:15}],offline:0,owned:0},{id:"10021",type:"mx_game_props",name:"Football",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:999,value:35},prices:[{type:"coins",value:35},{type:"cash",value:16}],offline:0,owned:0},{id:"10022",type:"mx_game_props",name:"Football",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:1,unlockCondition:{type:999,value:35},prices:[{type:"coins",value:35},{type:"cash",value:16}],offline:0,owned:0},{id:"20009",type:"mx_game_props",name:"Football",gameId:"56555f7f9cf07816aee70687a81fe5e7",category:2,unlockCondition:{type:999,value:35},prices:[{type:"coins",value:35},{type:"cash",value:16}],offline:0,owned:1}],this.propMap={},this.userData={currency:{coins:100,cash:100},data:{ads_award_coins:2,ads_count:2,ads_times_per_day:2,ads_times_remain:2,current_background:"",current_ball:"",max_score:2,number_of_games:2,perfect_score_count:2,through_basket_count:2,unlock_ball_count:2}},this.pefectCount=0,this.adCount=0,this.throughCount=0,this.clickBallShop=0,this.clickBgShop=0,this.unlockBall=0,this.unlockBg=0}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.initData=function(){return o(this,void 0,void 0,function(){var e,t,n=this;return r(this,function(o){switch(o.label){case 0:return s.default.PlatformManager.isLogin?[4,s.default.NetWorkManager.getProps()]:[2];case 1:return e=o.sent(),this.props=e.resources,this.props.forEach(function(e){e.unlockCondition.type==a.free&&(e.owned=1),n.propMap[e.id]=e}),this.props=this.props.filter(function(e){if(1==e.owned||0==e.offline)return e}),this.props.sort(function(e,t){return Number(e.id)-Number(t.id)}),t=this,[4,s.default.NetWorkManager.getUserData()];case 2:return t.userData=o.sent(),this.currentBall=this.userData.data.current_ball,this.currentBg=this.userData.data.current_background,s.default.RedPointManager.initRedData(),[2]}})})},e.prototype.initTestData=function(){var e=this;this.props.forEach(function(t){t.unlockCondition.type,a.free,e.propMap[t.id]=t})},e.prototype.getPropItemByID=function(e){return this.propMap[e]},Object.defineProperty(e.prototype,"currentBall",{get:function(){return this._currentBall||(this._currentBall="10001"),this._currentBall},set:function(e){this._currentBall=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentBg",{get:function(){return this._currentBg||(this._currentBg="20001"),this._currentBg},set:function(e){this._currentBg=e},enumerable:!1,configurable:!0}),e.prototype.getBallResById=function(e){return"res/balls/"+e},e.prototype.getBgResById=function(e){return"res/bg/"+e},e.prototype.getBgIconResById=function(e){return"res/bgIcon/"+e},e.prototype.getNumByUnlockType=function(e){var t=0;switch(e){case a.score:t=this.userData.data.max_score;break;case a.perfect:t=this.userData.data.perfect_score_count;break;case a.through:t=this.userData.data.through_basket_count;break;case a.adcount:t=this.userData.data.ads_count;break;case a.ballcount:t=this.userData.data.unlock_ball_count}return t},e.prototype.getTextByUnlockType=function(e,t){var n="";switch(e){case a.score:n="Score "+t+" Points in One game";break;case a.perfect:n="Chain "+t+" Perfects";break;case a.through:n="Score "+t+" Baskets in One game";break;case a.adcount:n="Watch "+t+" Ads to Unlock and Continue Playing";break;case a.ballcount:n="Play with "+t+" Different Balls"}return n},e.prototype.getMoneyType=function(e){var t=e.prices;return 0==t.length?i.none:2==t.length?i.fine:"coins"==t[0].type?i.coin:i.cash},e.prototype.getCoinNum=function(e){var t=e.prices;return 0==t.length?0:1==t.length?"coins"==t[0].type?t[0].value:0:2==t.length?"coins"==t[0].type?t[0].value:t[1].value:void 0},e.prototype.getCashNum=function(e){var t=e.prices;return 0==t.length?0:1==t.length?"cash"==t[0].type?t[0].value:0:2==t.length?"cash"==t[0].type?t[0].value:t[1].value:void 0},e}();n.default=c,function(e){e[e.ball=1]="ball",e[e.bg=2]="bg"}(n.PropType||(n.PropType={})),function(e){e[e.none=0]="none",e[e.score=1]="score",e[e.perfect=2]="perfect",e[e.through=3]="through",e[e.adcount=4]="adcount",e[e.ballcount=5]="ballcount",e[e.free=999]="free"}(a=n.UnlockType||(n.UnlockType={})),n.MoneyName="coins",function(e){e[e.coin=1]="coin",e[e.cash=2]="cash",e[e.fine=3]="fine",e[e.none=4]="none"}(i=n.MoneyType||(n.MoneyType={})),cc._RF.pop()},{"../App":"App"}],DateUtils:[function(e,t,n){"use strict";cc._RF.push(t,"1472ca+afxK5Kpe/6pYVija","DateUtils");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.getFormatBySecond=function(e,t){void 0===t&&(t=1);var n="";switch(t){case 1:n=this.getFormatBySecond1(e);break;case 2:n=this.getFormatBySecond2(e);break;case 3:n=this.getFormatBySecond3(e);break;case 4:n=this.getFormatBySecond4(e);break;case 5:n=this.getFormatBySecond5(e);break;case 6:n=this.getFormatBySecond6(e)}return n},t.prototype.getFormatBySecond1=function(e){void 0===e&&(e=0);var t,n=Math.floor(e/3600);t=0==n?"00":n<10?"0"+n:""+n;var o=Math.floor((e-3600*n)/60),r=Math.floor((e-3600*n)%60);return t+":"+(0==o?"00":o<10?"0"+o:""+o)+":"+(0==r?"00":r<10?"0"+r:""+r)},t.prototype.getFormatBySecond3=function(e){void 0===e&&(e=0);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=Math.floor((e-3600*t)%60);return(0==n?"00":n<10?"0"+n:""+n)+":"+(0==o?"00":o<10?"0"+o:""+o)},t.prototype.getFormatBySecond2=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},t.prototype.getFormatBySecond4=function(e){var t=Math.floor(e/3600);return t>0?t>24?Math.floor(t/24)+"\u5929\u524d":t+"\u5c0f\u65f6\u524d":Math.floor(e/60)+"\u5206\u949f\u524d"},t.prototype.getFormatBySecond5=function(e){var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),o=Math.floor((e-3600*n)/60),r=Math.floor((e-3600*n)%60),a="";return e>0?0==t?("",0==n?(a="",0==o?("",0==r?"":r<10?"0"+r+"\u79d2":r+"\u79d2"):o+"\u5206"+(0==r?"":r<10?"0"+r+"\u79d2":r+"\u79d2")):(a=n+"\u5c0f\u65f6",0==o?("",0==r?"":r<10?"0"+r+"\u79d2":r+"\u79d2"):a+(o<10?"0"+o+"\u5206":o+"\u5206"))):t+"\u5929"+(a=0==n?"":n<10?"0"+n+"\u5c0f\u65f6":n+"\u5c0f\u65f6"):""},t.prototype.getFormatBySecond6=function(e){void 0===e&&(e=0);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return(0==t?"00":t<10?"0"+t:""+t)+":"+(0==n?"00":n<10?"0"+n:""+n)},t.prototype.getDay=function(e){return new Date(e).getDay()},t.prototype.isSameDate=function(e,t){var n=new Date(e),o=new Date(t);return n.getFullYear()==o.getFullYear()&&n.getMonth()==o.getMonth()&&n.getDate()==o.getDate()},t.prototype.format=function(e,t){void 0===t&&(t="yyyy-MM-dd hh:mm:ss");var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},t.prototype.dateDifference=function(e,t){var n=Math.abs(t-e);return Math.ceil(n/864e5)},t}(e("../base/SingtonClass").default);n.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],DebugUtils:[function(e,t,n){"use strict";cc._RF.push(t,"765d17YWglEZoF8n2ttQSFK","DebugUtils");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.log=void 0;var r=e("../base/SingtonClass"),a=e("./Log");n.log=console.log.bind(console);var i=function(e){function t(){var t=e.call(this)||this;return t._threshold=3,t._startTimes={},t}return o(t,e),t.prototype.isOpen=function(e){this._isOpen=e,n.log=e?console.log.bind(console):function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}},Object.defineProperty(t.prototype,"isDebug",{get:function(){return this._isOpen},enumerable:!1,configurable:!0}),t.prototype.start=function(e){this._isOpen&&(this._startTimes[e]=cc.director.getTotalTime())},t.prototype.stop=function(e){if(!this._isOpen)return 0;if(!this._startTimes[e])return 0;var t=cc.director.getTotalTime()-this._startTimes[e];return t>this._threshold&&a.default.log(e+": "+t),t},t.prototype.setThreshold=function(e){this._threshold=e},t}(r.default);n.default=i,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass","./Log":"Log"}],DelayOptManager:[function(e,t,n){"use strict";cc._RF.push(t,"9a927YMf4JGIJiqqzuLkRv/","DelayOptManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../base/SingtonClass"),a=e("../App"),i=function(e){function t(){var t=e.call(this)||this;return t.TIME_THRESHOLD=2,t._delayOpts=[],a.default.TimerManager.doFrame(1,0,t.runCachedFun,t),t}return o(t,e),t.prototype.addDelayOptFunction=function(e,t,n,o,r){this._delayOpts.push({fun:t,funPara:n,thisObj:e,callBack:o,para:r})},t.prototype.clear=function(){this._delayOpts.length=0},t.prototype.stop=function(){a.default.TimerManager.remove(this.runCachedFun,this)},t.prototype.runCachedFun=function(e){if(0!=this._delayOpts.length)for(var t,n=cc.director.getTotalTime();this._delayOpts.length&&((t=this._delayOpts.shift()).funPara?t.fun.call(t.thisObj,t.funPara):t.fun.call(t.thisObj),t.callBack&&(void 0!=t.para?t.callBack.call(t.thisObj,t.para):t.callBack()),!(cc.director.getTotalTime()-n>this.TIME_THRESHOLD)););},t}(r.default);n.default=i,cc._RF.pop()},{"../App":"App","../base/SingtonClass":"SingtonClass"}],DetectorWang:[function(e,t,n){"use strict";cc._RF.push(t,"556abmzTtxBB5M62+7ES2/Y","DetectorWang");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../utils/DebugUtils"),i=e("../../App"),s=e("../gameConst/EventConst"),c=cc._decorator,u=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){a.log("start")},t.prototype.onCollisionStay=function(e,t){e.node.getComponent(cc.RigidBody).linearVelocity.y>10&&(a.log("\u78b0\u7f51\u5b502"),i.default.MessageCenter.dispatch(s.default.UpdateWang))},t=r([u],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../../App":"App","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],Detector:[function(e,t,n){"use strict";cc._RF.push(t,"aa6a3m8Ba1Pf4vkQSWDs8Sw","Detector");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../utils/DebugUtils"),i=e("../../App"),s=e("../gameConst/EventConst"),c=cc._decorator,u=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enterY=0,t}return o(t,e),t.prototype.start=function(){a.log("start")},t.prototype.onCollisionEnter=function(e,t){this.enterY=e.node.y},t.prototype.onCollisionExit=function(e,t){var n=this.enterY-e.node.y;e.node.getComponent(cc.RigidBody).linearVelocity.y<-10&&n>50&&i.default.MessageCenter.dispatch(s.default.UpdateScore)},t=r([u],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../../App":"App","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],DeviceUtils:[function(e,t,n){"use strict";cc._RF.push(t,"3bd0cTE3rJP5br2qc1qhZ+I","DeviceUtils");var o,r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.DeviceType=void 0,function(e){e[e.mxGame=1e3]="mxGame",e[e.taktakGame=1001]="taktakGame",e[e.webGame=1002]="webGame",e[e.telegramGame=1003]="telegramGame",e[e.GameDistribution=1004]="GameDistribution"}(o=n.DeviceType||(n.DeviceType={}));var a=function(e){function t(){var t=e.call(this)||this;return t.platform=o.webGame,t}return r(t,e),t.prototype.init=function(e){this.platform=e,console.log("init platform",e)},Object.defineProperty(t.prototype,"IsWxGame",{get:function(){return cc.sys.platform===cc.sys.WECHAT_GAME},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsMXGame",{get:function(){return this.platform==o.mxGame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsTaktakGame",{get:function(){return this.platform==o.taktakGame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsWebGame",{get:function(){return this.platform==o.webGame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsTelegramGame",{get:function(){return this.platform==o.telegramGame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsGameDistribution",{get:function(){return this.platform===o.GameDistribution},enumerable:!1,configurable:!0}),t.OS_IOS="ios",t.OS_Android="android",t}(e("../base/SingtonClass").default);n.default=a,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],EventConst:[function(e,t,n){"use strict";cc._RF.push(t,"25abfjYSUtDorXPVTaUQAbY","EventConst"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.Loading="Event_Loading",e.UpdateScore="Event_UpdateScore",e.CollisionFloor="Event_CollisionFloor",e.RestartGame="Event_RestatGame",e.UpdateBall="Event_UpdateBall",e.UpdateBg="Event_UpdateBg",e.UpdateWang="Event_UpdateWang",e.UnlockNewBall="Event_UnlockNewBall",e.ChangeCoinOrCash="Event_ChangeCoinOrCash",e.UpdateRedPoint="Event_UpdateRedPoint",e}();n.default=o,cc._RF.pop()},{}],Floor:[function(e,t,n){"use strict";cc._RF.push(t,"dd627JhidZOa68IqSJgKt4h","Floor");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../utils/DebugUtils"),i=e("../../App"),s=e("../gameConst/EventConst"),c=e("../../sound/MusicConst"),u=cc._decorator,l=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enterY=0,t}return o(t,e),t.prototype.start=function(){a.log("start")},t.prototype.onBeginContact=function(e,t,n){n.body.linearVelocity.y<=-300&&i.default.SoundManager.playEffect(c.MusicConst.floor),i.default.MessageCenter.dispatch(s.default.CollisionFloor)},t=r([l],t)}(cc.Component));n.default=p,cc._RF.pop()},{"../../App":"App","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],FormType:[function(e,t,n){"use strict";cc._RF.push(t,"b12f9jzzHlPt7ci08eWcy7a","FormType"),Object.defineProperty(n,"__esModule",{value:!0}),n.MaskType=n.UIType=void 0;var o=e("./config/SysDefine"),r=function(){return function(e,t,n,r){this.IsClearStack=!1,this.UIForms_Type=o.UIFormType.Normal,this.UIForms_ShowMode=o.UIFormShowMode.Normal,this.UIForm_LucencyType=o.UIFormLucenyType.Lucency,this.UIForms_Type=e||this.UIForms_Type,this.UIForms_ShowMode=t||this.UIForms_ShowMode,this.UIForm_LucencyType=n||this.UIForm_LucencyType,this.IsClearStack=r||this.IsClearStack}}();n.UIType=r;var a=function(){return function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=.3),this.ClickMaskClose=!1,this.IsEasing=!1,this.EasingTime=.3,this.ClickMaskClose=e,this.IsEasing=t,this.EasingTime=n}}();n.MaskType=a,cc._RF.pop()},{"./config/SysDefine":"SysDefine"}],GEventManager:[function(e,t,n){"use strict";cc._RF.push(t,"8901f2b+QdPa7+h6F20ROV5","GEventManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.ElementEvent=void 0;var o=function(){function e(){}return e.emit=function(e,t){var n=this._eventMap[e];if(void 0===n)return void 0===this._bufferEventMap[e]&&(this._bufferEventMap[e]=[]),this._bufferEventMap[e].push(t),void(this.openAutoClear&&this.autoClearBufferEvent(e));for(var o=0;o<n.length;o++){var r=n[o];r&&(r.callback.call(r.target,t),r.once&&n.splice(o,1)&&--o)}},e.on=function(e,t,n,o){if(void 0===o&&(o=!1),void 0===this._eventMap[e]&&(this._eventMap[e]=[]),this._eventMap[e].push(new r(t,n,o)),void 0!=this._bufferEventMap[e]){for(var a=0;a<this._bufferEventMap[e].length;a++)t.call(n,this._bufferEventMap[e][a]);this._bufferEventMap[e]=null,delete this._bufferEventMap[e]}},e.once=function(e,t,n){this.on(e,t,n,!0)},e.off=function(e,t,n){var o=this._eventMap[e];if(void 0!==o){for(var r=o.length-1;r>0;r--){var a=o[r];if(a&&a.callback===t&&a.target===n){o.splice(r,1);break}}0===o.length&&(this._eventMap[e]=null,delete this._eventMap[e])}},e.clear=function(e){this._eventMap[e]=null,delete this._eventMap[e]},e.autoClearBufferEvent=function(e){for(var t=this,n=0,o=this.clearTimers;n<o.length;n++){if(o[n].eventName===e)return}var r=setTimeout(function(){i(e)},1e3*this.autoClearTimeNumber);this.clearTimers.push(new a(e,r));var i=function(e){if(t._bufferEventMap[e]){t._bufferEventMap[e]=null,delete t._bufferEventMap[e];for(var n=t.clearTimers.length-1;n>=0;n--)t.clearTimers[n].eventName===e&&t.clearTimers.splice(n,1)}}},e._eventMap=cc.js.createMap(),e._bufferEventMap=cc.js.createMap(),e.openAutoClear=!1,e.clearTimers=[],e.autoClearTimeNumber=10,e}();n.default=o;var r=function(){return function(e,t,n){this.callback=e,this.target=t,this.once=n}}();n.ElementEvent=r;var a=function(){return function(e,t){this.eventName=e,this.timer=t}}();cc._RF.pop()},{}],GameDistribution:[function(e,t,n){"use strict";cc._RF.push(t,"8461byhHzZNvpW0FoRRYxhB","GameDistribution");var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameDistribution=void 0;var a=e("../App"),i=e("../UIFrame/UIIndependentManager");(function(e){function t(){"undefined"!==window.gdsdk&&"undefined"!==window.gdsdk.preloadAd&&window.gdsdk.preloadAd("rewarded").then(function(t){e.isAdPreloadComplete=!0,console.info("preloadRewardedAd Sucess")}).catch(function(e){console.error("preloadRewardedAd Fail")})}e.isAdPreloadComplete=!1,e.isSdkInitComplete=!1,e.init=function(){window.GD_OPTIONS={gameId:"3ddd77e15f134657b15b0a31d01574ca",loader:{enabled:!1},onEvent:function(n){switch(console.log(n.name,n,">>>>>>>>>>>>>>>>>>>>"),n.name){case"SDK_READY":e.isSdkInitComplete=!0,t();break;case"SDK_GAME_START":a.default.SoundManager.resumeMusic(),a.default.SoundManager.resumeLoopEffects();break;case"SDK_GAME_PAUSE":a.default.SoundManager.pauseMusic(),a.default.SoundManager.pauseLoopEffects();break;case"SDK_GDPR_TRACKING":case"SDK_GDPR_TARGETING":break;case"SDK_REWARDED_WATCH_COMPLETE":"success"===n.status&&cc.game.emit("Gamedistribution_SDK_REWARDED_COMPLETE",!0);break;case"AD_ERROR":cc.game.emit("Gamedistribution_SDK_REWARDED_COMPLETE",!1);break;case"AD_SDK_MANAGER_READY":case"SKIPPED":break;case"STARTED":"Fired when the ad starts playing."===n.message&&i.default.getInstance().hideLoadingForm()}}},function(e,t,n){var o,r=e.getElementsByTagName(t)[0];e.getElementById(n)||((o=e.createElement(t)).id=n,o.src="/main.min.js",r.parentNode.insertBefore(o,r))}(document,"script","gamedistribution-jssdk")},e.preloadRewardedAd=t,e.GDShowRewardedAd=function(){return new Promise(function(e){if(void 0!==window.gdsdk&&"undefined"!==window.gdsdk.showAd){i.default.getInstance().showLoadingForm();var t=!1;cc.game.once("Gamedistribution_SDK_REWARDED_COMPLETE",function(n){i.default.getInstance().hideLoadingForm(),n?t=!0:e(!1)}),window.gdsdk.showAd("rewarded").then(function(n){e(!!t),console.info('Ad process done. You can track "SDK_REWARDED_WATCH_COMPLETE" event if that event triggered, that means the user watched the advertisement completely, you can give reward there.')}).catch(function(t){e(!1),console.error("An error catched. Please don't give reward here.")})}})},e.GDShowAd=function(){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return void 0===window.gdsdk||"undefined"===window.gdsdk.showAd?[3,2]:(i.default.getInstance().showLoadingForm(),[4,window.gdsdk.showAd().then(function(){i.default.getInstance().hideLoadingForm()}).catch(function(e){console.error(e,"GDShowAd Error >>>>>>>>>>>>>"),i.default.getInstance().hideLoadingForm()})]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.GDShowDisplayAd=function(){document.getElementById("canvas-ad").style.transform="scale("+cc.view.getFrameSize().height/1e3+")",document.getElementById("out_canvas-ad").style.bottom=(cc.view.getFrameSize().height/1e3*90-90)/2+"px",void 0!==window.gdsdk&&"undefined"!==window.gdsdk.showAd&&window.gdsdk.showAd(window.gdsdk.AdType.Display,{containerId:"canvas-ad"}).then(function(){return console.info("showAd(window.gdsdk.AdType.Display) resolved.")}).catch(function(e){return console.info(e)})}})(n.GameDistribution||(n.GameDistribution={})),cc._RF.pop()},{"../App":"App","../UIFrame/UIIndependentManager":"UIIndependentManager"}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"657devewuZAKrUa6UcGYqsf","GameManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../App"),c=e("./gameConst/GameUIConst"),u=e("../MXInterFace/GameDistribution"),l=cc._decorator,p=l.ccclass,d=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=5,t.ballX=590,t.ballY=2050,t.changeScore=1,t.horizonNum=50,t.verticalOff=150,t.verticalTime=1,t.horizonOff=150,t.horizonTime=1,t.ballID=10020,t.bgID=20008,t.isOver=!1,t.preloadPrefabs=[],t.isPaused=!1,t}return o(t,e),t.prototype.onLoad=function(){(cc.sys.isMobile||cc.view.getCanvasSize().height/cc.view.getCanvasSize().width>1.5)&&(this.node.getChildByName("New Sprite(Splash)1").active=!1,this.node.getChildByName("New Sprite(Splash)2").active=!1),u.GameDistribution.init(),cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-640),cc.game.setFrameRate(61),cc.view.enableAntiAlias(!0)},t.prototype.start=function(){s.default.Init(),s.default.GameManager=this,cc.macro.ENABLE_MULTI_TOUCH=!1,this.loadGame()},t.prototype.loadGame=function(){return a(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,s.default.UIIndependentManager.setLoadingForm(c.default.LoadingIcon)];case 1:return e.sent(),[4,s.default.UIManager.showUIForm(c.default.LoadingUI)];case 2:return e.sent(),[2]}})})},t.prototype.puause=function(){this.isPaused=!0,cc.director.getPhysicsManager().enabled=!1},t.prototype.resume=function(){this.isOver||(this.isPaused=!1,cc.director.getPhysicsManager().enabled=!0)},r([d({displayName:"\u5012\u8ba1\u65f6\u65f6\u95f4"})],t.prototype,"time",void 0),r([d({displayName:"\u7bee\u7403\u6a2a\u5411\u901f\u5ea6"})],t.prototype,"ballX",void 0),r([d({displayName:"\u7bee\u7403\u7eb5\u5411\u901f\u5ea6"})],t.prototype,"ballY",void 0),r([d({displayName:"\u591a\u5c11\u5206\u5f00\u59cb\u79fb\u52a8\u7bee\u7b50"})],t.prototype,"changeScore",void 0),r([d({displayName:"\u7bee\u7b50\u5de6\u53f3\u79fb\u52a8\u7684\u6982\u7387"})],t.prototype,"horizonNum",void 0),r([d({displayName:"\u5782\u76f4\u79fb\u52a8\u7bee\u7b50\u5e45\u5ea6"})],t.prototype,"verticalOff",void 0),r([d({displayName:"\u5782\u76f4\u79fb\u52a8\u7bee\u7b50\u65f6\u95f4"})],t.prototype,"verticalTime",void 0),r([d({displayName:"\u6a2a\u5411\u79fb\u52a8\u7bee\u7b50\u5e45\u5ea6"})],t.prototype,"horizonOff",void 0),r([d({displayName:"\u6a2a\u5411\u79fb\u52a8\u7bee\u7b50\u65f6\u95f4"})],t.prototype,"horizonTime",void 0),r([d({displayName:"\u6700\u540e\u4e00\u4e2a\u7403id"})],t.prototype,"ballID",void 0),r([d({displayName:"\u6700\u540e\u4e00\u4e2a\u80cc\u666fID"})],t.prototype,"bgID",void 0),r([d(cc.Prefab)],t.prototype,"preloadPrefabs",void 0),t=r([p],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../App":"App","../MXInterFace/GameDistribution":"GameDistribution","./gameConst/GameUIConst":"GameUIConst"}],GameOverUI:[function(e,t,n){"use strict";cc._RF.push(t,"4c38eHNLXBDi5OHuJABNVRj","GameOverUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../UIFrame/BaseUIForm"),i=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../gameConst/EventConst"),l=e("../../utils/DebugUtils"),p=e("../../sound/MusicConst"),d=cc._decorator,f=d.ccclass,h=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(i.UIFormType.PopUp,i.UIFormShowMode.HideOther,i.UIFormLucenyType.Translucence),t.score=null,t.bestScore=null,t}return o(t,e),t.prototype.onShow=function(){e.prototype.onShow.call(this),l.log("onshow",c.default.PlatformManager.score),this.score.string=""+c.default.PlatformManager.score,this.bestScore.string=""+c.default.PlatformManager.bestScore},t.prototype.restart=function(){c.default.SoundManager.playEffect(p.MusicConst.button),c.default.MessageCenter.dispatch(u.default.RestartGame),this.closeUIForm(),c.default.PlatformManager.clickRestart()},t.prototype.exit=function(){c.default.DeviceUtils.IsTaktakGame&&c.default.TaktakReport.gameOver()},t.prototype.onDestroy=function(){},r([h(cc.Label)],t.prototype,"score",void 0),r([h(cc.Label)],t.prototype,"bestScore",void 0),t=r([f],t)}(a.default);n.default=g,cc._RF.pop()},{"../../App":"App","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],GameUIConst:[function(e,t,n){"use strict";cc._RF.push(t,"9b24bvXQhREK4e3l5AoYHmq","GameUIConst"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.LoadingUI="prefab/loading/LoadingUI",e.LoadingIcon="prefab/loading/LoadIcon",e.GameView="prefab/game/GameView",e.PauseUI="prefab/pause/PauseUI",e.QuitUI="prefab/pause/QuitUI",e.RestartUI="prefab/pause/RestartUI",e.RewardUI="prefab/pause/RewardUI",e.PowerUpUI="prefab/pause/PowerUpUI",e.BallUI="prefab/ball/BallUI",e.BallInfoUI="prefab/ball/BallInfoUI",e.BgShopUI="prefab/bg/BgShopUI",e.GetNewUI="prefab/ball/GetNewUI",e.GameOverUI="prefab/pause/GameOverUI",e.BuyUI="prefab/pause/BuyUI",e.TelegramCommonUI="prefab/telegram/TelegramCommonUI",e}();n.default=o,cc._RF.pop()},{}],GameView:[function(e,t,n){"use strict";cc._RF.push(t,"620291gYEpNw4J5uvUOzw4O","GameView");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../utils/DebugUtils"),p=e("../../App"),d=e("../gameConst/GameUIConst"),f=e("../gameConst/EventConst"),h=e("./Ball"),g=e("../../MXInterFace/InterFaceManager"),y=e("../../sound/MusicConst"),m=e("../../MXInterFace/GameDistribution"),_=cc._decorator,v=_.ccclass,b=_.property,I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.Normal,c.UIFormShowMode.Independent,c.UIFormLucenyType.Lucency),t.ball=null,t.ballShadow=null,t.basketLeft1=null,t.basketLeft2=null,t.basketRigdbody1=null,t.leftNetAni=null,t.basketright1=null,t.basketright2=null,t.basketRigdbody2=null,t.rightNetAni=null,t.scoreLabel=null,t.redProBar=null,t.yellowProBar=null,t.comboAni=null,t.perfectNode=null,t.yashaoNode=null,t.guideNode=null,t.comboLabel=null,t.particle1=null,t.particle2=null,t.particle3=null,t.ballScript=null,t.characterArr=[],t.timeUpAni=null,t.bestScoreAni=null,t.bg=null,t.snow=null,t.proWidth=669,t.leftX=-540,t.rightX=540,t.off=300,t.initBasketY=250.33,t.direction=-1,t._score=0,t.isPlayBest=!1,t.perfectCombo=0,t.yashaoCombo=0,t.allTime=5,t.time=5,t.isStartTime=!1,t.proTween=null,t.isOver=!1,t}return o(t,e),Object.defineProperty(t.prototype,"score",{get:function(){return this._score},set:function(e){var t=this;this._score=e,p.default.PlatformManager.score=e,this.setLabel(this.scoreLabel,e.toString()),e>p.default.PlatformManager.bestScore&&(0==this.isPlayBest&&(this.isPlayBest=!0,p.default.PlatformManager.bestScore&&p.default.TimerManager.doTimer(1e3,1,function(){t.bestScoreAni.node.active=!0,t.bestScoreAni.setAnimation(0,"New best score",!1),p.default.SoundManager.playEffect(y.MusicConst.unlock)},this)),p.default.PlatformManager.bestScore=e)},enumerable:!1,configurable:!0}),t.prototype.init=function(e){l.log("init ",e)},t.prototype.load=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return[2]})})},t.prototype.onLoad=function(){this.leftX=-this.node.width/2,this.rightX=this.node.width/2,this.time=p.default.GameManager.time,this.allTime=p.default.GameManager.time,this.proWidth=this.yellowProBar.width,this.initPos=this.ball.node.position,this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.POSITION_CHANGED,this.changePos,this),this.basketLeft2.node.on(cc.Node.EventType.POSITION_CHANGED,this.changeLeft,this),this.basketright2.node.on(cc.Node.EventType.POSITION_CHANGED,this.changeRight,this),p.default.MessageCenter.addListener(f.default.UpdateScore,this.updateScore,this),p.default.MessageCenter.addListener(f.default.UpdateWang,this.playWang,this),p.default.MessageCenter.addListener(f.default.CollisionFloor,this.collisionFloor,this),p.default.MessageCenter.addListener(f.default.RestartGame,this.restatGame,this),p.default.MessageCenter.addListener(f.default.UpdateBg,this.updateIcon,this)},t.prototype.start=function(){this.showBasket(this.isLeft),this.guideNode.active=g.is_Guide,g.is_Guide&&(p.default.GameManager.puause(),this.ball.node.x=this.leftX+540,this.guideNode.x=this.ball.node.x,this.guideNode.y=this.ball.node.y-this.node.height/2),this.score=0,p.default.SoundManager.playMusic(y.MusicConst.bg),p.default.SoundManager.playEffect(y.MusicConst.start),this.loadUI(),m.GameDistribution.GDShowDisplayAd(),this.schedule(function(){m.GameDistribution.GDShowDisplayAd()},10)},t.prototype.loadUI=function(){p.default.UIManager.preloadUIForms(d.default.PauseUI),p.default.DeviceUtils.IsTaktakGame&&p.default.UIManager.preloadUIForms(d.default.GameOverUI),p.default.UIManager.preloadUIForms(d.default.GetNewUI)},t.prototype.restatGame=function(e){void 0===e&&(e=!0),p.default.GameManager.puause(),e&&(this.score=0),this.isPlayBest=!1,this.isOver=!1,this.resetCombo(),this.resetTime(),this.resetParticle(),this.ball.node.y=this.initPos.y,this.ball.node.x=this.leftX+540,g.setGuide(!0),this.hideBasket(!this.isLeft),this.showBasket(this.isLeft)},t.prototype.updateIcon=function(){var e=this,t=p.default.DataManager.getBgResById(p.default.DataManager.currentBg);this.snow.active="20009"==p.default.DataManager.currentBg,cc.resources.load(t,cc.SpriteFrame,function(t,n){t?cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t):e.bg.spriteFrame=n})},t.prototype.resetCombo=function(){this.perfectCombo=0,this.yashaoCombo=0},t.prototype.resetTime=function(){this.isStartTime=!1,this.direction=-1,this.time=p.default.GameManager.time,this.allTime=p.default.GameManager.time,this.updateProBar()},t.prototype.resetParticle=function(){this.particle1.node.active=!1,this.particle2.node.active=!1,this.particle3.node.active=!1},t.prototype.setRigidBodyActive=function(e){this.isLeft?(this.basketLeft2.active=e,this.basketRigdbody1.active=e):(this.basketright2.active=e,this.basketRigdbody2.active=e)},t.prototype.showBasket=function(e){var t=this;this.setRigidBodyActive(!0);var n=g.is_Guide?this.initBasketY:p.default.RandomUtils.limit(-360,500),o=e?this.basketLeft2.node:this.basketright2.node,r=e?this.leftX-this.off:this.rightX+this.off;o.x=r,o.y=n;var a=e?this.leftX:this.rightX;cc.tween(o).to(.15,{x:a}).call(function(){t.playIdle(),t.playFreeMove()}).start()},t.prototype.hideBasket=function(e){cc.Tween.stopAllByTarget(this.basketLeft2.node),cc.Tween.stopAllByTarget(this.basketright2.node),this.setRigidBodyActive(!1);var t=e?this.basketLeft2.node:this.basketright2.node,n=e?this.leftX-this.off:this.rightX+this.off;cc.tween(t).delay(.3).to(.15,{x:n}).start()},Object.defineProperty(t.prototype,"isLeft",{get:function(){return-1==this.direction},enumerable:!1,configurable:!0}),t.prototype.playFreeMove=function(){this.score>p.default.GameManager.changeScore&&(l.log("\u5f00\u59cb\u81ea\u7531\u79fb\u52a8"),p.default.RandomUtils.limitInteger(0,100)<p.default.GameManager.horizonNum?this.horizonMove():this.verticalMove())},t.prototype.verticalMove=function(){l.log("\u4e0a\u4e0b");var e=this.isLeft?this.basketLeft2.node:this.basketright2.node,t=e.y,n=t+(p.default.RandomUtils.limitInteger(0,100)<50?-p.default.GameManager.verticalOff:p.default.GameManager.verticalOff),o=p.default.GameManager.verticalTime;cc.tween(e).repeatForever(cc.tween().to(o,{y:n}).to(o,{y:t})).start()},t.prototype.horizonMove=function(){l.log("\u5de6\u53f3");var e=this.isLeft?this.basketLeft2.node:this.basketright2.node,t=e.x,n=p.default.GameManager.horizonOff,o=this.isLeft?t+n:t-n,r=p.default.GameManager.horizonTime;cc.tween(e).repeatForever(cc.tween().to(r,{x:o}).to(r,{x:t})).start()},t.prototype.playIdle=function(){this.isLeft?this.leftNetAni.setAnimation(0,"Wang Idle",!1):this.rightNetAni.setAnimation(0,"Wang Idle",!1)},t.prototype.playWang=function(){(this.isLeft?this.leftNetAni:this.rightNetAni).setAnimation(0,"Wang xia",!1)},t.prototype.playScore=function(){p.default.SoundManager.playEffect(y.MusicConst.shuawang),this.isLeft?this.leftNetAni.setAnimation(0,"Wang shang",!1):this.rightNetAni.setAnimation(0,"Wang shang",!1)},t.prototype.updateRigdbodyPos=function(){this.basketLeft2.syncPosition(!0),this.basketright2.syncPosition(!0)},t.prototype.update=function(e){this.updateShadow(),this.updateTime(e)},t.prototype.updateShadow=function(){this.ballPos=this.ball.node.getPosition(),this.ballPos.y<1200&&(this.ballShadow.x=this.ballPos.x,this.ballShadow.scale=(1200-this.ballPos.y)/550)},Object.defineProperty(t.prototype,"isYashao",{get:function(){return this.time<=0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPefect",{get:function(){return this.ballScript.isPerfect},enumerable:!1,configurable:!0}),t.prototype.showComboParticle=function(){this.particle1.node.active=!1,this.particle2.node.active=!1,this.particle3.node.active=!1,1==this.perfectCombo?(p.default.SoundManager.playEffect(y.MusicConst.fire),this.particle1.node.active=!0):2==this.perfectCombo?(p.default.SoundManager.playEffect(y.MusicConst.fire),this.particle2.node.active=!0):this.perfectCombo>=3&&(p.default.SoundManager.playEffect(y.MusicConst.fire),this.particle3.node.active=!0)},t.prototype.playComboAni=function(){var e=this;this.isYashao?(this.timeUpAni.node.active=!1,this.perfectNode.active=!1,this.yashaoNode.active=!0,this.setLabel(this.comboLabel,this.yashaoCombo.toString())):this.isPefect&&(this.perfectNode.active=!0,this.yashaoNode.active=!1,this.setLabel(this.comboLabel,this.perfectCombo.toString())),cc.tween(this.comboAni).set({scale:0,opacity:255}).to(.166,{scale:1}).to(.07,{scale:1.2}).to(.07,{scale:1}).delay(.3).to(.2,{opacity:0}).call(function(){e.comboAni.active=!1}).start()},t.prototype.addScore=function(){var e=1;this.isYashao?(this.yashaoCombo++,this.perfectCombo=0,this.playComboAni()):this.isPefect?(this.perfectCombo++,this.yashaoCombo=0,e=2*this.perfectCombo,this.playComboAni(),p.default.DataManager.pefectCount=Math.max(this.perfectCombo,p.default.DataManager.pefectCount)):(e=1,this.perfectCombo=0,this.yashaoCombo=0),e=e>=8?8:e,this.showComboParticle(),this.score+=e,this.updateTotalTime(),cc.tween(this.scoreLabel.node).to(.15,{scale:1.8}).to(.15,{scale:1}).start(),this.comboAni.scale=0,this.comboAni.active=!0,this.playScore()},t.prototype.updateTotalTime=function(){this.allTime=p.default.GameManager.time;var e=Math.floor(this.score/10);this.allTime-=e,this.allTime<=2&&(this.allTime=2),this.time=this.allTime},t.prototype.updateScore=function(){p.default.DataManager.throughCount++,this.addScore(),this.playCharacter();var e=this.isLeft;this.hideBasket(e),this.direction=-1*this.direction,this.showBasket(this.isLeft),this.shakeEffect2(),this.isStartTime=!0},t.prototype.playCharacter=function(){p.default.SoundManager.playEffect(y.MusicConst.tiaowu),this.characterArr.forEach(function(e){e.setAnimation(0,"celebration",!1),e.addAnimation(0,"Idle",!0)})},t.prototype.updateTime=function(e){p.default.GameManager.isPaused||!this.isStartTime||this.time<=0||(this.time-=e,this.time<=0&&(this.time=0,l.log("\u65f6\u95f4\u7ed3\u675f"),this.showTimeUp()),this.updateProBar())},t.prototype.updateProBar=function(){var e=this.time/this.allTime,t=e>=.5;this.yellowProBar.active=t,this.redProBar.active=!t,this.yellowProBar.width=this.redProBar.width=e*this.proWidth,e>0&&e<.5?this.proTween||(this.proTween=cc.tween(this.redProBar.parent).repeatForever(cc.tween().to(.15,{scale:1.1}).to(.15,{scale:1})).start()):this.resetProTween()},t.prototype.resetProTween=function(){this.proTween&&(this.proTween.stop(),this.proTween=null),1!=this.redProBar.parent.scale&&(this.redProBar.parent.scale=1)},t.prototype.touchStart=function(){p.default.SoundManager.playEffect(y.MusicConst.click),this.guideNode.active=!1,g.setGuide(!1),this.time<=0?l.log("\u4e0d\u80fd\u70b9\u4e86"):(p.default.GameManager.isPaused&&p.default.GameManager.resume(),this.ball.linearVelocity=cc.v2(this.direction*p.default.GameManager.ballX,p.default.GameManager.ballY),this.ball.angularVelocity=700*this.direction,this.ballScript.isPerfect=!0)},t.prototype.showTimeUp=function(){var e=this;p.default.SoundManager.playEffect(y.MusicConst.timeup),p.default.TimerManager.doTimer(500,1,function(){e.time<=0&&(e.timeUpAni.node.active=!0,e.timeUpAni.setAnimation(0,"Crazy Dunk time is up",!1))},this)},t.prototype.collisionFloor=function(){var e=this;this.time<=0&&!this.isOver&&(this.isOver=!0,p.default.TimerManager.doTimer(2e3,1,function(){e.hideBasket(e.isLeft),p.default.PlatformManager.gameOver()},this))},t.prototype.shakeEffect2=function(){p.default.CommonUtils.vibrate(),this.shake(this.node)},t.prototype.shake=function(e){cc.tween(e).by(0,{x:-10}).delay(.02).by(0,{y:10}).delay(.02).by(0,{x:20}).delay(.02).by(0,{y:-20}).delay(.02).by(0,{x:-15}).delay(.02).by(0,{y:15}).delay(.02).by(0,{x:15}).delay(.02).by(0,{y:-15}).delay(.02).to(0,{x:0}).delay(.02).to(0,{y:0}).start()},t.prototype.changePos=function(){this.updateRigdbodyPos()},t.prototype.changeLeft=function(){this.basketLeft1.x=this.basketLeft2.node.x,this.basketLeft1.y=this.basketLeft2.node.y},t.prototype.changeRight=function(){this.basketright1.x=this.basketright2.node.x,this.basketright1.y=this.basketright2.node.y},t.prototype.pause=function(){p.default.GameManager.puause(),p.default.SoundManager.playEffect(y.MusicConst.button),p.default.UIManager.showUIForm(d.default.PauseUI)},r([b(cc.RigidBody)],t.prototype,"ball",void 0),r([b(cc.Node)],t.prototype,"ballShadow",void 0),r([b(cc.Node)],t.prototype,"basketLeft1",void 0),r([b(cc.RigidBody)],t.prototype,"basketLeft2",void 0),r([b(cc.Node)],t.prototype,"basketRigdbody1",void 0),r([b(sp.Skeleton)],t.prototype,"leftNetAni",void 0),r([b(cc.Node)],t.prototype,"basketright1",void 0),r([b(cc.RigidBody)],t.prototype,"basketright2",void 0),r([b(cc.Node)],t.prototype,"basketRigdbody2",void 0),r([b(sp.Skeleton)],t.prototype,"rightNetAni",void 0),r([b(cc.Label)],t.prototype,"scoreLabel",void 0),r([b(cc.Node)],t.prototype,"redProBar",void 0),r([b(cc.Node)],t.prototype,"yellowProBar",void 0),r([b(cc.Node)],t.prototype,"comboAni",void 0),r([b(cc.Node)],t.prototype,"perfectNode",void 0),r([b(cc.Node)],t.prototype,"yashaoNode",void 0),r([b(cc.Node)],t.prototype,"guideNode",void 0),r([b(cc.Label)],t.prototype,"comboLabel",void 0),r([b(cc.ParticleSystem)],t.prototype,"particle1",void 0),r([b(cc.ParticleSystem)],t.prototype,"particle2",void 0),r([b(cc.ParticleSystem)],t.prototype,"particle3",void 0),r([b(h.default)],t.prototype,"ballScript",void 0),r([b(sp.Skeleton)],t.prototype,"characterArr",void 0),r([b(sp.Skeleton)],t.prototype,"timeUpAni",void 0),r([b(sp.Skeleton)],t.prototype,"bestScoreAni",void 0),r([b(cc.Sprite)],t.prototype,"bg",void 0),r([b(cc.Node)],t.prototype,"snow",void 0),r([b],t.prototype,"direction",void 0),t=r([v],t)}(s.default);n.default=I,cc._RF.pop()},{"../../App":"App","../../MXInterFace/GameDistribution":"GameDistribution","../../MXInterFace/InterFaceManager":"InterFaceManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst","./Ball":"Ball"}],GetNewUI:[function(e,t,n){"use strict";cc._RF.push(t,"c971fj7xEBCIoK1LVzmZsEX","GetNewUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../App"),i=e("../../MXInterFace/DataManager"),s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../utils/DebugUtils"),p=e("../gameConst/GameUIConst"),d=cc._decorator,f=d.ccclass,h=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.PopUp,c.UIFormShowMode.ReverseChange,c.UIFormLucenyType.Translucence),t.ballIcon=null,t.ballName=null,t.bgIcon=null,t.bgName=null,t}return o(t,e),t.prototype.onLoad=function(){l.log("onload")},t.prototype.start=function(){l.log("start")},t.prototype.init=function(e){l.log("init",e),this.data=e},t.prototype.onShow=function(){var e=this.data.shift();l.log("onshow",e);var t=a.default.DataManager.getPropItemByID(e);if(!t)return this.closeUIForm(),void l.log(e+"\u4e0d\u5b58\u5728");this.ballIcon.node.parent.active=t.category==i.PropType.ball,this.bgIcon.node.parent.active=t.category==i.PropType.bg,t.category==i.PropType.ball?(this.updateIcon(this.ballIcon,e,!0),this.ballName.string=t.name):(this.updateIcon(this.bgIcon,e,!1),this.bgName.string=t.name)},t.prototype.updateIcon=function(e,t,n){var o=n?a.default.DataManager.getBallResById(t):a.default.DataManager.getBgIconResById(t);cc.resources.load(o,cc.SpriteFrame,function(t,n){t?cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+t):e.spriteFrame=n})},t.prototype.closeUIForm=function(){e.prototype.closeUIForm.call(this),this.data.length?a.default.UIManager.showUIFormWithLoading(p.default.GetNewUI,this.data):a.default.PlatformManager.gameEndPost()},r([h(cc.Sprite)],t.prototype,"ballIcon",void 0),r([h(cc.Label)],t.prototype,"ballName",void 0),r([h(cc.Sprite)],t.prototype,"bgIcon",void 0),r([h(cc.Label)],t.prototype,"bgName",void 0),t=r([f],t)}(s.default);n.default=g,cc._RF.pop()},{"../../App":"App","../../MXInterFace/DataManager":"DataManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../utils/DebugUtils":"DebugUtils","../gameConst/GameUIConst":"GameUIConst"}],GoogleAdsManager:[function(e,t,n){"use strict";cc._RF.push(t,"8885eHPvB9PCJcpNLNvP9tS","GoogleAdsManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.Google_Ima_Ad=void 0,function(e){var t,n,o,r;e.isAdLoadComplete=!1,e.adShowCompleteCount=100,e.init=function(){n=document.getElementById("contentElement"),cc.game.on(cc.game.EVENT_SHOW,function(){o&&o.resume()})},e.loadAds=function(){e.isAdLoadComplete=!1,a()},e.showAds=function(t,n,r,a,i,s){e.isAdLoadComplete&&(o&&o.start(),document.getElementById("content").style.visibility="visible",document.getElementById("adContainer").style.visibility="visible",cc.game.once("GOOGLE_AD_COMPLETE",n))};var a=function(){google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),i(),(r=new google.ima.AdsLoader(t)).addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,l,!1),r.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,d,!1),n.onended=f;var e=new google.ima.AdsRequest;e.adTagUrl="https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_preroll_skippable&sz=640x480&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=",e.linearAdSlotWidth=340,e.linearAdSlotHeight=400,e.nonLinearAdSlotWidth=340,e.nonLinearAdSlotHeight=150,r.requestAds(e)},i=function(){t=new google.ima.AdDisplayContainer(document.getElementById("adContainer"),n)},s=function(t){t.getAd();switch(t.type){case google.ima.AdEvent.Type.LOADED:console.log("\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),e.isAdLoadComplete=!0;break;case google.ima.AdEvent.Type.STARTED:console.log("\u5e7f\u544a\u5f00\u59cb\u64ad\u653e");break;case google.ima.AdEvent.Type.COMPLETE:console.log("\u5e7f\u544a\u64ad\u653e\u5b8c\u6210"),h();break;case google.ima.AdEvent.Type.SKIPPED:console.log("\u70b9\u51fb\u4e86\u8df3\u8fc7"),h();break;case google.ima.AdEvent.Type.CLICK:console.log("\u70b9\u51fb\u4e86\u5e7f\u544a")}},c=function(){},u=function(){},l=function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,(o=e.getAdsManager(n,t)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,d),o.addEventListener(google.ima.AdEvent.Type.CLICK,s),o.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,c),o.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,u),o.addEventListener(google.ima.AdEvent.Type.SKIPPED,s),o.addEventListener(google.ima.AdEvent.Type.LOADED,s),o.addEventListener(google.ima.AdEvent.Type.STARTED,s),o.addEventListener(google.ima.AdEvent.Type.COMPLETE,s),p()},p=function(){t.initialize();try{var n=cc.game.canvas.getBoundingClientRect();o.init(n.width,n.height,window.google.ima.ViewMode.NORMAL)}catch(t){e.isAdLoadComplete=!1,document.getElementById("content").style.visibility="hidden",document.getElementById("adContainer").style.visibility="hidden"}},d=function(t){console.log(t.getError()),o.destroy(),document.getElementById("content").style.visibility="hidden",document.getElementById("adContainer").style.visibility="hidden",e.isAdLoadComplete=!1},f=function(){n.onended=null,r&&r.contentComplete()},h=function(){o.destroy(),r.destroy(),t.destroy(),document.getElementById("content").style.visibility="hidden",document.getElementById("adContainer").style.visibility="hidden",cc.game.emit("GOOGLE_AD_COMPLETE"),e.adShowCompleteCount++}}(n.Google_Ima_Ad||(n.Google_Ima_Ad={})),cc._RF.pop()},{}],InterFaceManager:[function(e,t,n){"use strict";cc._RF.push(t,"96e6a0K7pZAVr2ruI5G/hfk","InterFaceManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.finalAccheived=n.gamePurchaseFailed=n.gamePurchaseSucceed=n.gamePurchaseClicked=n.gameDetailsViewed=n.gameShopClicked=n.gameShopViewd=n.startBounsCliked=n.startBounsShown=n.hideStickyAd=n.displayStickyAd=n.setStickyAds=n.initBanner=n.getAdSeting=n.ad_tool_number_1=n.ad_tool_limit_number_1=n.ads_start_tools_numb=n.ads_start_tools_type=n.ads_end_chance=n.ads_start_chance=n.getGameSettings=n.commonEventInterface=n.onError=n.onCheckRewardedVideoAds=n.onGameRequestAds=n.check_time=n.onShowRewardedVideoAds=n.onGameOver=n.onGameOverTrack=n.gamePlayTime=n.onGameExit=n.gameResume=n.gamePause=n.onGameStartTrack=n.onGameInit=n.onGameStart=n.ifRevive=n.setRevive_number=n.set_revive_max_number=n.setGuide=n.setHighScore=n.setPauseTime=n.isAdClaimed=n.roomType=n.pausTime=n.pause_time=n.setADPlayeNumber=n.ad_play_number=n.tournamentId=n.revive_max_number=n.revive_number=n.start_time=n.isAdTrack=n.appVersion=n.is_Guide=n.gameInitComplete=n.highest_num=n.user_id=n.game_id=n.room_id=void 0;var a=e("./encryption/encryption_1"),i=e("../App"),s=e("./WebInterFaceManager"),c=cc._decorator,u=c.ccclass;c.property;n.room_id="30e7adf74283f32c36e4838d25782df9_new_bvm330g7tmfrd5ru7nj0_n",n.game_id="56555f7f9cf07816aee70687a81fe5e7",n.user_id="{gl}{105703864268857411278}",n.highest_num=0,n.gameInitComplete=!1,n.is_Guide=!0,n.appVersion=0,n.isAdTrack=!0,n.start_time=(new Date).getTime(),n.revive_number=0,n.revive_max_number=2,n.tournamentId="",n.ad_play_number=0,n.setADPlayeNumber=function(){n.ad_play_number++},n.pause_time=0,n.pausTime=0,n.roomType="",n.isAdClaimed=0,n.setPauseTime=function(e){n.pause_time=e},n.setHighScore=function(e){n.highest_num=Math.max(n.highest_num,e)},n.setGuide=function(e){n.is_Guide=e},n.set_revive_max_number=function(e){n.revive_max_number=e<0?Math.floor(Number.MAX_VALUE):Math.floor(e)},n.setRevive_number=function(){n.revive_number++},n.ifRevive=function(){var e=n.revive_number<n.revive_max_number;return console.log(e+" ssssssss  "+n.revive_number+"   "+n.revive_max_number),e},n.onGameStart=function(){console.log("SSSSSSSSSSSSSSSSSSSSSSSSS:"+i.default.DeviceUtils.IsMXGame),i.default.DeviceUtils.IsMXGame&&window.gameManager&&(window.gameManager.onGameStart(),cc.game.on("commonEventInterface",this.commonEventInterface,this))},n.onGameInit=function(){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var e=window.gameManager.onGameInit(),t=JSON.parse(e);n.room_id=t.roomId,n.game_id=t.gameId,n.user_id=t.userId,n.highest_num=t.highestScore,n.tournamentId=t.tournamentId,t.isFirstOpen&&(n.is_Guide=t.isFirstOpen),t.roomType&&(n.roomType=t.roomType),t.appVersion&&(n.appVersion=Number(t.appVersion)%1e4,n.appVersion>1174&&(n.isAdTrack=!1)),n.gameInitComplete=!0,console.log("onGameInit"+t),s.INIT_WEB_RUL()}},n.onGameStartTrack=function(e){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var t={gameID:n.game_id,roomID:n.room_id,userID:n.user_id,startType:e,tournamentType:n.roomType},o=JSON.stringify(t);window.gameManager.onTrack("gameStart",o)}},n.gamePause=function(){n.setPauseTime((new Date).getTime())},n.gameResume=function(){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var e=Date.parse((new Date).toString()),t=Math.floor((e-n.pause_time)/1e3);n.pausTime+=t;var o={gameID:n.game_id,roomID:n.room_id,userID:n.user_id,currentTime:t},r=JSON.stringify(o);window.gameManager.onTrack("gamePause",r)}},n.onGameExit=function(e,t,o){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var r=Date.parse((new Date).toString()),a=Math.floor((r-n.start_time)/1e3),s=0,c=0;n.ad_play_number>0&&(c=1);var u=0;e>n.highest_num?(u=e,s=1):u=n.highest_num;var l={gameID:n.game_id,roomID:n.room_id,currentScore:e,highScore:u,playtime:a,currentTime:r,currentLevel:t,userID:n.user_id,isbreak:s,adClaimed:c,type:o},p=JSON.stringify(l);window.gameManager.onTrack("gameExit",p)}},n.gamePlayTime=function(){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var e=Date.parse((new Date).toString()),t=Math.floor((e-n.start_time)/1e3)-n.pausTime,o={gameID:n.game_id,roomID:n.room_id,userID:n.user_id,playtime:t},r=JSON.stringify(o);window.gameManager.onTrack("gamePlayTime",r)}},n.onGameOverTrack=function(e){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var t=Date.parse((new Date).toString()),o=Math.floor((t-n.start_time)/1e3),r={gameID:n.game_id,roomID:n.room_id,userID:n.user_id,currentScore:e,highScore:n.highest_num,playtime:o,currentTime:t},a=JSON.stringify(r);window.gameManager.onTrack("gameOver",a)}},n.onGameOver=function(e){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var t=Date.parse((new Date).toString()),o=Math.floor((t-n.start_time)/1e3),r=0;r=e>n.highest_num?e:n.highest_num;var s={gameID:n.game_id,roomID:n.room_id,userID:n.user_id,score:e,highScore:r,info:a.getInfo(e,o,n.revive_number)},c=JSON.stringify(s);window.gameManager.onGameOver(c)}},n.onShowRewardedVideoAds=function(e,t,o){if(void 0===o&&(o=!1),i.default.DeviceUtils.IsMXGame&&window.gameManager){var r={gameID:n.game_id,roomID:n.room_id,userID:n.user_id,position:t,autoPlay:o,tournamentID:n.tournamentId},a=JSON.stringify(r);window.gameManager.onShowRewardedVideoAds(e,a)}},n.check_time=0,n.onGameRequestAds=function(e){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var t,o=(new Date).getTime()-n.check_time;t={gameID:n.game_id,loadingtime:o,type:e};var r=JSON.stringify(t);window.gameManager.onTrack("gameRequestAds",r)}},n.onCheckRewardedVideoAds=function(e){i.default.DeviceUtils.IsMXGame&&window.gameManager&&(window.gameManager.onCheckRewardedVideoAds&&void 0!==window.gameManager.onCheckRewardedVideoAds&&"function"==typeof window.gameManager.onCheckRewardedVideoAds?(n.check_time=(new Date).getTime(),window.gameManager.onCheckRewardedVideoAds(e)):cc.game.emit(e,{status:1}))},n.onError=function(e){i.default.DeviceUtils.IsMXGame&&window.gameManager&&window.gameManager.onError(e)},n.commonEventInterface=function(e,t){switch(console.log("TTTTTTTTTTTTTTTTTTTTTT:"+e),e){case"backPressed":cc.game.emit("userGamePausedCall"),cc.game.emit("userPausedViewShowCall");break;case"screenOn":break;case"screenOff":cc.game.emit("userGamePausedCall"),cc.game.emit("userPausedViewShowCall");break;case"pagePause":cc.game.emit("eventGamePausedCall"),cc.game.emit("eventMusicPausedCall");break;case"pageResume":cc.game.emit("eventGameResumeCall"),cc.game.emit("eventMusicResumeCall")}},n.getGameSettings=function(){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var e=window.gameManager.getGameSettings(),t=JSON.parse(e);if(void 0!=t.maxRevivesAllowed){var o=t.maxRevivesAllowed;n.set_revive_max_number(o)}}},n.ads_start_chance=0,n.ads_end_chance=100,n.ads_start_tools_type=1,n.ads_start_tools_numb=1,n.ad_tool_limit_number_1=2,n.ad_tool_number_1=2,n.getAdSeting=function(){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var e=window.gameManager.getGameSettings(),t=JSON.parse(e);n.ads_start_chance=t.ads_start_chance,n.ads_end_chance=t.ads_end_chance,n.ads_start_tools_type=t.ads_start_tools_type,n.ads_start_tools_numb=t.ads_start_tools_numb,n.ad_tool_limit_number_1=t.ad_tool_limit_number_1,n.ad_tool_number_1=t.ad_tool_number_1,console.log("AAAAAAAAAAAA:"+n.ads_start_chance+" -- "+n.ads_end_chance+" -- "+n.ads_start_tools_type+" -- "+n.ads_start_tools_numb)}},n.initBanner=function(e,t){window.MXGame.stickyAds.initialize(e,t)},n.setStickyAds=function(e){window.MXGame.stickyAds.setStickyAd(e)},n.displayStickyAd=function(){window.MXGame.stickyAds.displayStickyAd()},n.hideStickyAd=function(){window.MXGame.stickyAds.hideStickyAd()},n.startBounsShown=function(){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var e={gameID:n.game_id,roomID:n.room_id},t=JSON.stringify(e);window.gameManager.onTrack("startBounsShown",t)}},n.startBounsCliked=function(e){if(i.default.DeviceUtils.IsMXGame&&window.gameManager){var t={gameID:n.game_id,roomID:n.room_id,type:e},o=JSON.stringify(t);window.gameManager.onTrack("startBounsCliked",o)}},n.gameShopViewd=function(e){if(console.log("\u770b\u89c1\u5546\u57ce\u7684icon   "+e),i.default.DeviceUtils.IsMXGame&&window.gameManager){var t={gameID:n.game_id,type:e},o=JSON.stringify(t);window.gameManager.onTrack("gameShopViewd",o)}},n.gameShopClicked=function(e){if(console.log("\u70b9\u51fb\u5546\u57ceicon   "+e),i.default.DeviceUtils.IsMXGame&&window.gameManager){var t={gameID:n.game_id,type:e},o=JSON.stringify(t);window.gameManager.onTrack("gameShopClicked",o)}},n.gameDetailsViewed=function(e){if(console.log("\u5546\u54c1\u8be6\u60c5\u9875\u5c55\u793a   "+e),i.default.DeviceUtils.IsMXGame&&window.gameManager){var t={gameID:n.game_id,type:e},o=JSON.stringify(t);window.gameManager.onTrack("gameDetailsViewed",o)}},n.gamePurchaseClicked=function(e,t){if(console.log("\u4ed8\u6b3e\u4e8c\u6b21\u786e\u8ba4\u754c\u9762   "+e+" id "+t),i.default.DeviceUtils.IsMXGame&&window.gameManager){var o={gameID:n.game_id,type:e,itemID:t},r=JSON.stringify(o);window.gameManager.onTrack("gamePurchaseClicked",r)}},n.gamePurchaseSucceed=function(e,t){if(console.log("\u4ea4\u6613\u6210\u529f   "+e+" id "+t),i.default.DeviceUtils.IsMXGame&&window.gameManager){var o={gameID:n.game_id,type:e,itemID:t},r=JSON.stringify(o);window.gameManager.onTrack("gamePurchaseSucceed",r)}},n.gamePurchaseFailed=function(e){if(console.log("\u5931\u8d25\u4ea4\u6613   "+e),i.default.DeviceUtils.IsMXGame&&window.gameManager){var t={gameID:n.game_id,type:e},o=JSON.stringify(t);window.gameManager.onTrack("gamePurchaseFailed",o)}},n.finalAccheived=function(){var e=i.default.PlatformManager.score,t=i.default.DataManager.throughCount,n=i.default.DataManager.pefectCount,o=i.default.DataManager.clickBallShop,r=i.default.DataManager.clickBgShop,a=i.default.DataManager.currentBall,s=i.default.DataManager.currentBg,c=i.default.DataManager.unlockBall,u=i.default.DataManager.unlockBg;if(console.log("\u7ed3\u675f\u4e0a\u62a5"+e+" + "+t+" + "+n+" + "+o+" + "+r+" + "+a+" + "+s+" + "+c+" + "+u),i.default.DeviceUtils.IsMXGame&&window.gameManager){var l={gameID:this.game_id,roomID:this.room_id,score:e,numA:t,numB:n,numC:o,numD:r,numE:a,numF:s,numG:c,numH:u},p=JSON.stringify(l);window.gameManager.onTrack("finalAccheived",p)}};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){},t=r([u],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../App":"App","./WebInterFaceManager":"WebInterFaceManager","./encryption/encryption_1":"encryption_1"}],KeyboardUtils:[function(e,t,n){"use strict";cc._RF.push(t,"6345fDWj3FK15/JjcFQHECT","KeyboardUtils");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){var t=e.call(this)||this;if(t.key_ups=new Array,t.key_downs=new Array,App.DeviceUtils.IsHtml5){var n=t;document.addEventListener("keyup",function(e){for(var t=0,o=n.key_ups.length;t<o;t++){var r=n.key_ups[t][0],a=n.key_ups[t][1];a?r.call(a,e.keyCode):r(e.keyCode)}}),document.addEventListener("keydown",function(e){for(var t=0,o=n.key_downs.length;t<o;t++){var r=n.key_downs[t][0],a=n.key_downs[t][1];a?r.call(a,e.keyCode):r(e.keyCode)}})}return t}return o(t,e),t.prototype.addKeyUp=function(e,t){this.key_ups.push([e,t])},t.prototype.addKeyDown=function(e,t){this.key_downs.push([e,t])},t.prototype.removeKeyUp=function(e,t){for(var n=0;n<this.key_ups.length;n++)this.key_ups[n][0]==e&&this.key_ups[n][1]==t&&(this.key_ups.splice(n,1),n--)},t.prototype.removeKeyDown=function(e,t){for(var n=0;n<this.key_downs.length;n++)this.key_downs[n][0]==e&&this.key_downs[n][1]==t&&(this.key_downs.splice(n,1),n--)},t}(e("../base/SingtonClass").default);n.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],LoadIcon:[function(e,t,n){"use strict";cc._RF.push(t,"fa582XyhANHFaXwJ0Shb8iX","LoadIcon");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../UIFrame/BaseUIForm"),i=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(i.UIFormType.Independent,i.UIFormShowMode.Independent,i.UIFormLucenyType.Lucency),t.icon=null,t}return o(t,e),t.prototype.onShow=function(){cc.tween(this.icon).by(1,{angle:360}).repeatForever().start()},r([l(cc.Node)],t.prototype,"icon",void 0),t=r([u],t)}(a.default);n.default=p,cc._RF.pop()},{"../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine"}],LoadingUI:[function(e,t,n){"use strict";cc._RF.push(t,"8718ck4791KD4irgiUp/bIG","LoadingUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../App"),p=e("../gameConst/EventConst"),d=e("../../utils/DebugUtils"),f=e("../gameConst/GameUIConst"),h=e("../../sound/MusicConst"),g=e("../../MXInterFace/InterFaceManager"),y=e("../../MXInterFace/GameDistribution"),m=cc._decorator,_=m.ccclass,v=m.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.Normal,c.UIFormShowMode.Independent,c.UIFormLucenyType.Lucency),t.bg=null,t.loadingGroup=null,t.playGroup=null,t.loadingBar=null,t.loadingText=null,t.ani=null,t.logo=null,t.percent=0,t}return o(t,e),t.prototype.init=function(e){d.log("init ",e)},t.prototype.load=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return d.log("load"),[2]})})},t.prototype.onLoad=function(){d.log("onLoad"),l.default.PlatformManager.start(),this.showLoadingBar(!0),l.default.MessageCenter.addListener(p.default.Loading,this.loading,this),l.default.MessageCenter.addListener(p.default.UpdateRedPoint,this.updateRedPoint,this),this.loadingWidth=this.loadingBar.width,this.loadingBar.width=0},t.prototype.start=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return this.setLabel(this.loadingText,"Downloading Game "+this.percent+"%"),this.loadingBar.width=0,this.loadGame(),this.updateRedPoint(),g.gameShopViewd(0),[2]})})},t.prototype.getRankPosName=function(e){return 1===e?"1st":2===e?"2nd":3===e?"3rd":e.toString()},t.prototype.updateRedPoint=function(){},t.prototype.showLoadingBar=function(e){this.loadingGroup.active=e},t.prototype.loadGame=function(){return a(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.loadingGroup.active=!0,e=[f.default.GameView],[4,l.default.UIManager.loadUIForms(e)];case 1:return t.sent(),this.setLabel(this.loadingText,"PLAY"),this.addClick(this.node,this.openGame),[2]}})})},t.prototype.openBall=function(){d.log("openball"),g.gameShopClicked(0),l.default.DataManager.clickBallShop++,l.default.PlatformManager.isLogin?l.default.UIManager.showUIFormWithLoading(f.default.BallUI):l.default.TipManager.showTip("Login to unlock more surprises",-650)},t.prototype.openSkin=function(){d.log("openskin"),g.gameShopClicked(1),l.default.DataManager.clickBgShop++,l.default.PlatformManager.isLogin?l.default.UIManager.showUIFormWithLoading(f.default.BgShopUI):l.default.TipManager.showTip("Login to unlock more surprises",-650)},t.prototype.openGame=function(){return a(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return l.default.DeviceUtils.IsGameDistribution?[4,y.GameDistribution.GDShowAd()]:[3,2];case 1:e.sent(),e.label=2;case 2:return d.log("opengame"),l.default.SoundManager.playEffect(h.MusicConst.button),this.closeUIForm(),l.default.PlatformManager.startGame(),[2]}})})},t.prototype.loading=function(e,t,n){Math.floor(e/t*100)>this.percent&&(this.percent=e/t,this.loadingBar.width=this.loadingWidth*this.percent,this.percent=Math.floor(100*this.percent),this.setLabel(this.loadingText,"Downloading Game "+this.percent+"%"))},t.prototype.openSound=function(){d.log("openSound"),l.default.SoundManager.playEffect(h.MusicConst.button);l.default.SoundManager.setPauseFlag(!0)},t.prototype.closeSound=function(){d.log("closeSound"),l.default.SoundManager.playEffect(h.MusicConst.button);l.default.SoundManager.setPauseFlag(!1)},t.prototype.onDestroy=function(){},r([v(cc.Node)],t.prototype,"bg",void 0),r([v(cc.Node)],t.prototype,"loadingGroup",void 0),r([v(cc.Node)],t.prototype,"playGroup",void 0),r([v(cc.Node)],t.prototype,"loadingBar",void 0),r([v(cc.Label)],t.prototype,"loadingText",void 0),r([v(sp.Skeleton)],t.prototype,"ani",void 0),r([v(cc.Node)],t.prototype,"logo",void 0),t=r([_],t)}(s.default);n.default=b,cc._RF.pop()},{"../../App":"App","../../MXInterFace/GameDistribution":"GameDistribution","../../MXInterFace/InterFaceManager":"InterFaceManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst"}],Log:[function(e,t,n){"use strict";cc._RF.push(t,"a9b87WtndpL1b80Bqbddveh","Log");var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,r++)o[r]=a[i];return o};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../App"),a=function(){function e(){}return e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.default.DebugUtils.isDebug},e.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="[Info]"+e.shift();console.log.apply(console,o([n],e))},e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="[Warn]"+e.shift();console.warn.apply(console,o([n],e))},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="[Error]"+e.shift();console.error.apply(console,o([n],e))},e}();n.default=a,cc._RF.pop()},{"../App":"App"}],MXAd:[function(e,t,n){"use strict";cc._RF.push(t,"bdfc01SzWdEB5k3PPpLKdfU","MXAd"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./InterFaceManager"),r=e("../utils/DebugUtils"),a=function(){function e(){this.autoPlayed=-1,this.watchType="",cc.game.on("onShowRewardedVideoAds",this.onShowRewardedVideoAds,this),cc.game.on("onCheckRewardedVideoAds",this.onCheckRewardedVideoAds,this)}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.show=function(e,t,n,r,a,i){this.callback=t,this.callObj=n,this.errorback=r,this.errorObj=a,this.watchType=e,this.autoPlayed=i?0:1,o.onShowRewardedVideoAds("onShowRewardedVideoAds",this.watchType,!i),cc.game.emit("eventMusicPausedCall")},e.prototype.checkAd=function(e,t,n,r,a){this.checkBack=t,this.checkObj=n,this.checkErrorBack=r,this.checErrorObj=a,this.watchType=e,o.onCheckRewardedVideoAds("onCheckRewardedVideoAds")},e.prototype.onCheckRewardedVideoAds=function(e){o.onGameRequestAds(this.watchType);var t=e.status;r.log("onCheckRewardedVideoAds   "+t),0==t?this.checkBack&&this.checkObj&&(this.checkBack.apply(this.checkObj),this.checkBack=null,this.checkObj=null):this.checkErrorBack&&this.checErrorObj&&(this.checkErrorBack.apply(this.checErrorObj),this.checkErrorBack=null,this.checErrorObj=null)},e.prototype.onShowRewardedVideoAds=function(e){cc.game.emit("eventMusicResumeCall");var t=e.status;0==t&&this.call(),1==t&&this.closeAd(),2==t&&r.log("2222222222222222222222"),3==t&&r.log("3333333333333333333333")},e.prototype.call=function(){this.callback&&this.callObj&&(this.callback.apply(this.callObj),this.callback=null,this.callObj=null)},e.prototype.closeAd=function(){this.errorback&&this.errorObj&&(this.errorback.apply(this.errorObj),this.errorback=null,this.errorObj=null)},e}();n.default=a,cc._RF.pop()},{"../utils/DebugUtils":"DebugUtils","./InterFaceManager":"InterFaceManager"}],MathUtils:[function(e,t,n){"use strict";cc._RF.push(t,"eed02FxLA1MzriaZ/5tQJlb","MathUtils");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getAngle=function(e){return 180*e/Math.PI},t.prototype.getRadian=function(e){return e/180*Math.PI},t.prototype.getRadian2=function(e,t,n,o){var r=n-e,a=o-t;return Math.atan2(a,r)},t.prototype.getDistance=function(e,t,n,o){var r=n-e,a=o-t,i=r*r+a*a;return Math.sqrt(i)},t}(e("../base/SingtonClass").default);n.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],MessageCenter:[function(e,t,n){"use strict";cc._RF.push(t,"d31a5tFM6pBf5aMCGG8izc0","MessageCenter");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../base/SingtonClass"),a=e("../App"),i=e("./Log"),s=e("./ObjectPool"),c=function(e){function t(t){var n=e.call(this)||this;return n.type=t,n.dict={},n.eVec=new Array,n.lastRunTime=0,0==n.type&&a.default.TimerManager.doFrame(1,0,n.run,n),n}return o(t,e),t.prototype.clear=function(){this.dict={},this.eVec.splice(0)},t.prototype.addListener=function(e,t,n){var o=this.dict[e];null==o&&(o=new Array,this.dict[e]=o);for(var r=0,a=o.length;r<a;r++)if(o[r][0]==t&&o[r][1]==n)return;o.push([t,n])},t.prototype.removeListener=function(e,t,n){var o=this.dict[e];if(null!=o){for(var r=0,a=o.length;r<a;r++)if(o[r][0]==t&&o[r][1]==n){o.splice(r,1);break}0==o.length&&(this.dict[e]=null,delete this.dict[e])}},t.prototype.removeAll=function(e){for(var t=Object.keys(this.dict),n=0,o=t.length;n<o;n++){for(var r=t[n],a=this.dict[r],i=0;i<a.length;i++)a[i][1]==e&&(a.splice(i,1),i--);0==a.length&&(this.dict[r]=null,delete this.dict[r])}},t.prototype.dispatch=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(null!=this.dict[e]){var o=s.default.pop("MessageVo");o.type=e,o.param=t,0==this.type?this.eVec.push(o):1==this.type?this.dealMsg(o):i.default.warn("MessageCenter\u672a\u5b9e\u73b0\u7684\u7c7b\u578b")}},t.prototype.run=function(){var e=cc.director.getTotalTime(),t=e-this.lastRunTime>100;if(this.lastRunTime=e,t)for(;this.eVec.length>0;)this.dealMsg(this.eVec.shift());else for(;this.eVec.length>0&&(this.dealMsg(this.eVec.shift()),!(cc.director.getTotalTime()-e>5)););},t.prototype.dealMsg=function(e){for(var t=this.dict[e.type],n=0,o=t.length,r=null;n<o;)(r=t[n])[0].apply(r[1],e.param),t.length!=o&&(o=t.length,n--),n++;e.dispose(),s.default.push(e)},t.prototype.isHasListener=function(e){return void 0!=this.dict[e]},t}(r.default);n.default=c,cc._RF.pop()},{"../App":"App","../base/SingtonClass":"SingtonClass","./Log":"Log","./ObjectPool":"ObjectPool"}],MessageVo:[function(e,t,n){"use strict";cc._RF.push(t,"ad0bew8VsZMirvhdmGpJIwJ","MessageVo");var o=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.MessageVo=void 0;var r=cc._decorator.ccclass,a=function(){function e(){}return e.prototype.dispose=function(){this.type=null,this.param=null},e=o([r("MessageVo")],e)}();n.MessageVo=a,cc._RF.pop()},{}],MultiResoultionCompat:[function(e,t,n){"use strict";cc._RF.push(t,"b6c42Wz64tDYYqUBUbC2YRW","MultiResoultionCompat");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return o(t,e),n=t,t.prototype.onLoad=function(){cc.view.setDesignResolutionSize(n.DEFAULT_RESOLUTION_WIDTH,n.DEFAULT_RESOLUTION_HEIGHT,cc.ResolutionPolicy.SHOW_ALL)},t.getShowAllModeScale=function(){return Math.min(cc.view.getCanvasSize().width/this.DEFAULT_RESOLUTION_WIDTH,cc.view.getCanvasSize().height/this.DEFAULT_RESOLUTION_HEIGHT)},t.getShowAllModeRealHeight=function(){return this.DEFAULT_RESOLUTION_HEIGHT*this.getShowAllModeScale()},t.getShowAllModeRealWidth=function(){return this.DEFAULT_RESOLUTION_WIDTH*this.getShowAllModeScale()},t.getShowAllModeVerticalBorderHeight=function(){return cc.view.getCanvasSize().height-this.getShowAllModeRealHeight()},t.getShowAllModeHorizontalBorderWidth=function(){return cc.view.getCanvasSize().width-this.getShowAllModeRealWidth()},t.getShowAllModeNodePositionCloseToBottom=function(e){var t=n.getShowAllModeScale(),o=n.getShowAllModeVerticalBorderHeight()/2,r=(e.y*t-o)/t;return cc.v2(e.x,r)},t.convertNodePosInDesignToNodePosInCanvas=function(e){return e.sub(cc.v2(this.getShowAllModeScale(),this.getShowAllModeScale()))},t.convertNodePosInCanvasToNodePosInDesign=function(e){},t.convertWidthInDesignToWidthInCanvas=function(e){return e*this.getShowAllModeScale()},t.convertWidthInCanvasToWidthInDesign=function(e){return e/this.getShowAllModeScale()},t.convertHeightInDesignToHeightInCanvas=function(e){return e*this.getShowAllModeScale()},t.convertHeightInCanvasToHeightInDesign=function(e){return e/this.getShowAllModeScale()},t.DEFAULT_RESOLUTION_WIDTH=720,t.DEFAULT_RESOLUTION_HEIGHT=1280,t=n=r([i],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],MusicConst:[function(e,t,n){"use strict";cc._RF.push(t,"b7d4cAkZFNDjof8MWF4xSYF","MusicConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.MusicConst=void 0,n.MusicConst={bg:"sound/bgm",bg1:"sound/Christmas",button:"sound/button",unlock:"sound/unlock",start:"sound/start",timeup:"sound/timeup",floor:"sound/floor",click:"sound/click",fire:"sound/fire",tiaowu:"sound/tiaowu",shuawang:"sound/shuawang",lanban:"sound/lanban"},cc._RF.pop()},{}],NetInterface:[function(e,t,n){"use strict";cc._RF.push(t,"8f1ecIEMhdDFqz2NkrYbjoP","NetInterface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],NetManager:[function(e,t,n){"use strict";cc._RF.push(t,"36926qTKX5EsJ+mV+wfKKQG","NetManager"),Object.defineProperty(n,"__esModule",{value:!0});var o,r=e("../GEventManager"),a=e("./CWebSocket");(function(e){e[e.Closed=0]="Closed",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected"})(o||(o={}));var i=function(){function e(){this.state=o.Closed,this.reconnectTimes=0,this.eventHandlers=cc.js.createMap()}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.connect=function(e,t){this.socket||(this.socket=new a.default,this.addEventToSocket()),this.connectOption=e,this.reconnectTimes=t,this.socket&&this.state===o.Closed&&this.socket.connect(this.connectOption),this.state=o.Connecting},e.prototype.send=function(e){return this.state!==o.Connected?(cc.log("\u7f51\u7edc\u672a\u8fde\u63a5\uff01\u65e0\u6cd5\u53d1\u9001\u6570\u636e"),!1):this.socket.send(e)},e.prototype.request=function(e,t,n){this.onEventHandler(e.cmd,t,n),this.send(e)},e.prototype.addEventToSocket=function(){var e=this;this.socket.onConnect=function(t){cc.log("\u8fde\u63a5\u7f51\u7edc\u6210\u529f!"),e.state=o.Connected,r.default.emit("NetWork_Connect",null)},this.socket.onMessage=function(t){var n=e.eventHandlers[t.cmd];if(n)for(var o=0,r=n;o<r.length;o++){var a=r[o];a.target?a.callback.call(a.target,t.data):a.callback(t.data)}else cc.log("\u6536\u5230\u4e00\u4e2a\u672a\u77e5\u547d\u4ee4:"+t.cmd)},this.socket.onClose=function(t){e.reconnectTimes<0?e.connect(e.connectOption,e.reconnectTimes):0!==e.reconnectTimes?(e.reconnectTimes--,e.connect(e.connectOption,e.reconnectTimes)):cc.log("\u8fde\u63a5\u5173\u95ed\uff01")},this.socket.onError=function(e){cc.log("\u7f51\u7edc\u9519\u8bef\uff01")}},e.prototype.onEventHandler=function(e,t,n,o){void 0===o&&(o=!1),this.eventHandlers[e]||(this.eventHandlers[e]=[]),this.eventHandlers[e].push(new s(t,n,o))},e.prototype.onceEventHandler=function(e,t,n){this.onEventHandler(e,t,n,!0)},e.prototype.offEventHandler=function(e,t,n){var o=this.eventHandlers[e];if(o){for(var r=o.length-1;r>=0;r--)o[r]&&o[r].callback===t&&o[r].target===n&&o.splice(r,1);0===o.length&&this.clearEventHandler[e]}else cc.log("\u6ca1\u6709\u8fd9\u4e2a\u547d\u4ee4"+e+"\uff0c\u8bf7\u6ce8\u610f")},e.prototype.clearEventHandler=function(e){this.eventHandlers[e]&&(this.eventHandlers[e]=null,delete this.eventHandlers[e])},e.instance=null,e}();n.default=i;var s=function(){return function(e,t,n){this.callback=e,this.target=t,this.once=n}}();cc._RF.pop()},{"../GEventManager":"GEventManager","./CWebSocket":"CWebSocket"}],NetTest:[function(e,t,n){"use strict";cc._RF.push(t,"792860pzepEeql1MnEMXfDm","NetTest"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],NetWorkManager:[function(e,t,n){"use strict";cc._RF.push(t,"f17e95XNXlFrZWHDMVUXEQj","NetWorkManager");var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./InterFaceManager"),i=e("./WebInterFaceManager"),s=e("../App"),c=e("../game/gameConst/EventConst"),u=function(){function e(){this.url=""}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.APIIntrerFaceCallTest=function(e,t){return void 0===t&&(t=""),o(this,void 0,Promise,function(){return r(this,function(n){switch(n.label){case 0:return[3,1];case 1:return[4,this.APIIntrerFaceCall(e,t)];case 2:return[2,n.sent()]}})})},e.prototype.APIIntrerFaceCall=function(e,t){return void 0===t&&(t=""),o(this,void 0,Promise,function(){var n,o,a,i=this;return r(this,function(r){return n=e.url,o=e.mothod,a=e.xgamecode,[2,new Promise(function(e,r){var s={"x-game-code":a},c={url:n,header:JSON.stringify(s),body:t,method:o};cc.game.on("network",function(t,n){console.log("network name"+t),console.log("network data"+JSON.stringify(n)),0!=n.status?(cc.game.emit("networkERR"),e(null)):200!=n.result.statusCode?(cc.game.emit("networkERR"),e(null)):e(n.result.data)},i),window.gameManager.invoke("network","request",JSON.stringify(c))})]})})},e.prototype.getProps=function(){return o(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return e={mothod:i.MOTHOD_GET,url:this.url+"v1/game/props?gameId="+a.game_id,xgamecode:"getProps"},[4,this.APIIntrerFaceCallTest(e)];case 1:return[2,t.sent()]}})})},e.prototype.getUserData=function(){return o(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return e={mothod:i.MOTHOD_GET,url:this.url+"v1/game/player/data?gameId="+a.game_id,xgamecode:"getUserData"},[4,this.APIIntrerFaceCallTest(e)];case 1:return[2,t.sent()]}})})},e.prototype.getToken=function(){return o(this,void 0,void 0,function(){var e,t;return r(this,function(n){switch(n.label){case 0:return e={mothod:i.MOTHOD_GET,url:this.url+"v1/game/scoretoken?type=mx_game_props&roomId="+a.room_id,xgamecode:"getToken"},[4,this.APIIntrerFaceCallTest(e)];case 1:return"ok"==(t=n.sent()).status?[2,t.data.token]:[2,null]}})})},e.prototype.postUserData=function(){return o(this,void 0,Promise,function(){var e,t,n,o,c,u,l,p,d,f,h,g;return r(this,function(r){switch(r.label){case 0:return e=new md5,[4,this.getToken()];case 1:return t=r.sent(),n=Math.max(s.default.PlatformManager.score,s.default.DataManager.userData.data.max_score),o=Math.max(s.default.DataManager.pefectCount,s.default.DataManager.userData.data.perfect_score_count),c=Math.max(s.default.DataManager.throughCount,s.default.DataManager.userData.data.through_basket_count),u=s.default.DataManager.adCount,l=t+a.user_id+a.room_id+n+o+c+u,p=e.hex_md5(l),d=e.hex_md5(p+t),f={game_id:a.game_id,room_id:a.room_id,max_score:n,perfect_score_count:o,through_basket_count:c,number_of_games:s.default.DataManager.userData.data.number_of_games+1,ads_count:u,current_ball:s.default.DataManager.currentBall,current_background:s.default.DataManager.currentBg,token:t,random:d+"0123456789"},h=f,g={mothod:i.MOTHOD_POST,url:this.url+"v1/game/player/data",xgamecode:"postUserData"},s.default.DataManager.userData.data.max_score=n,s.default.DataManager.userData.data.perfect_score_count=o,s.default.DataManager.userData.data.through_basket_count=c,s.default.DataManager.userData.data.ads_count+=u,[4,this.APIIntrerFaceCallTest(g,JSON.stringify(h))];case 2:return[2,r.sent()]}})})},e.prototype.postUnLockProp=function(e){return o(this,void 0,Promise,function(){var t,n,o;return r(this,function(r){switch(r.label){case 0:return t=s.default.DataManager.getPropItemByID(e),n={mothod:i.MOTHOD_POST,url:this.url+"v1/game/props/unlock",xgamecode:"postUnLockProp"},o={propsId:t.id,gameId:a.game_id,unlockValue:s.default.DataManager.getNumByUnlockType(t.unlockCondition.type),unlockType:t.unlockCondition.type},[4,this.APIIntrerFaceCallTest(n,JSON.stringify(o))];case 1:return[2,r.sent()]}})})},e.prototype.postBuyCoinProp=function(e){return o(this,void 0,Promise,function(){var t,n,o,u,l;return r(this,function(r){switch(r.label){case 0:return t=s.default.DataManager.getPropItemByID(e),0==(n=s.default.DataManager.getCoinNum(t))?(console.warn(e+"\u8fd9\u4e2a\u4e0d\u80fdcoin\u8d2d\u4e70"),[2]):(o={gameId:a.game_id,propsId:t.id,currencyType:"coins",currencyValue:n},u={mothod:i.MOTHOD_POST,url:this.url+"v1/game/props/buy",xgamecode:"postBuyProp"},[4,this.APIIntrerFaceCallTest(u,JSON.stringify(o))]);case 1:return"done"==(l=r.sent()).status?s.default.MessageCenter.dispatch(c.default.ChangeCoinOrCash,l):"reject"==l.status?(s.default.TipManager.showTip("Sorry\uff0cyou don\u2018t have enough coins"),a.gamePurchaseFailed(0)):s.default.TipManager.showTip("Something went wrong, please retry later"),[2,l]}})})},e.prototype.postBuyCashProp=function(e){return o(this,void 0,Promise,function(){var t,n,o,u,l;return r(this,function(r){switch(r.label){case 0:return t=s.default.DataManager.getPropItemByID(e),0==(n=s.default.DataManager.getCashNum(t))?(console.warn(e+"\u8fd9\u4e2a\u4e0d\u80fdcash\u8d2d\u4e70"),[2]):(o={gameId:a.game_id,propsId:t.id,currencyType:"cash",currencyValue:n},u={mothod:i.MOTHOD_POST,url:this.url+"v1/game/props/buy",xgamecode:"postBuyProp"},[4,this.APIIntrerFaceCallTest(u,JSON.stringify(o))]);case 1:return"done"==(l=r.sent()).status?s.default.MessageCenter.dispatch(c.default.ChangeCoinOrCash,l):"reject"==l.status?(s.default.TipManager.showTip("Sorry\uff0cyou don\u2018t have enough cash"),a.gamePurchaseFailed(0)):s.default.TipManager.showTip("Something went wrong, please retry later"),[2,l]}})})},e.prototype.postReward=function(){return o(this,void 0,void 0,function(){var e,t;return r(this,function(n){switch(n.label){case 0:return e={gameId:a.game_id,coins:s.default.DataManager.userData.data.ads_award_coins},t={mothod:i.MOTHOD_POST,url:this.url+"v1/game/ads/reward",xgamecode:"postBuyProp"},[4,this.APIIntrerFaceCallTest(t,JSON.stringify(e))];case 1:return[2,n.sent()]}})})},e}();n.default=u,cc._RF.pop()},{"../App":"App","../game/gameConst/EventConst":"EventConst","./InterFaceManager":"InterFaceManager","./WebInterFaceManager":"WebInterFaceManager"}],ObjectPool:[function(e,t,n){"use strict";cc._RF.push(t,"82cf0ziVX9Nz5risURr6d/s","ObjectPool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this._objs=new Array}return e.prototype.pushObj=function(e){this._objs.push(e)},e.prototype.popObj=function(){return this._objs.length>0?this._objs.pop():null},e.prototype.clear=function(){for(;this._objs.length>0;)this._objs.pop()},e.pop=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e._content[t]||(e._content[t]=[]);var r=e._content[t];if(r.length)return r.pop();var a=cc.js.getClassByName(t);if(!a)return console.warn("\u9700\u8981\u58f0\u660eccclass-----"+t),null;var i,s=n.length;return 0==s?i=new a:1==s?i=new a(n[0]):2==s?i=new a(n[0],n[1]):3==s?i=new a(n[0],n[1],n[2]):4==s?i=new a(n[0],n[1],n[2],n[3]):5==s&&(i=new a(n[0],n[1],n[2],n[3],n[4])),i.ObjectPoolKey=t,i},e.popWithExtraKey=function(t,n){var o;e._content[t]||(e._content[t]=[]);var r=e._content[t];if(r.length)for(var a=0;a<r.length;a++)if(r[a].extraKey==n){o=r[a],r.splice(a,1);break}if(!o){var i=cc.js.getClassByName(t);if(!i)return console.warn("\u9700\u8981\u58f0\u660eccclass-----"+t),null;(o=new i(n)).extraKey=n,o.ObjectPoolKey=t}return o},e.push=function(t){if(null==t)return!1;var n=t.ObjectPoolKey;return!!e._content[n]&&(e._content[n].push(t),!0)},e.clear=function(){e._content={}},e.clearClass=function(t,n){void 0===n&&(n=null);for(var o=e._content[t];o&&o.length;){var r=o.pop();n&&r[n](),r=null}e._content[t]=null,delete e._content[t]},e.dealFunc=function(t,n){var o=e._content[t];if(null!=o)for(var r=0,a=o.length;r<a;r++)o[r][n]()},e._content={},e}();n.default=o,window.ObjectPool=o,cc._RF.pop()},{}],PauseUI:[function(e,t,n){"use strict";cc._RF.push(t,"c88491r0vVDop68GmZr/XSB","PauseUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../UIFrame/BaseUIForm"),i=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../../utils/DebugUtils"),l=e("../gameConst/GameUIConst"),p=e("../../sound/MusicConst"),d=e("../../MXInterFace/InterFaceManager"),f=cc._decorator,h=f.ccclass,g=f.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(i.UIFormType.Normal,i.UIFormShowMode.HideOther,i.UIFormLucenyType.Translucence),t.soundOnBtn=null,t.soundOffBtn=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.onShow=function(){e.prototype.onShow.call(this),u.log("onshow"),c.default.GameManager.puause(),this.soundOffBtn.active=!c.default.SoundManager.pauseFlag,this.soundOnBtn.active=c.default.SoundManager.pauseFlag,c.default.PlatformManager.gamePause()},t.prototype.openSound=function(){c.default.SoundManager.playEffect(p.MusicConst.button),this.soundOnBtn.active=!0,this.soundOffBtn.active=!1,c.default.SoundManager.setPauseFlag(!0)},t.prototype.closeSound=function(){c.default.SoundManager.playEffect(p.MusicConst.button),this.soundOnBtn.active=!1,this.soundOffBtn.active=!0,c.default.SoundManager.setPauseFlag(!1)},t.prototype.resume=function(){c.default.SoundManager.playEffect(p.MusicConst.button),this.closeUIForm(),c.default.PlatformManager.gameResume(),c.default.GameManager.resume()},t.prototype.restart=function(){c.default.SoundManager.playEffect(p.MusicConst.button),c.default.UIManager.showUIFormWithLoading(l.default.RestartUI)},t.prototype.exit=function(){c.default.SoundManager.playEffect(p.MusicConst.button),c.default.UIManager.showUIFormWithLoading(l.default.QuitUI)},t.prototype.openBall=function(){u.log("openball"),d.gameShopClicked(0),c.default.DataManager.clickBallShop++,c.default.PlatformManager.isLogin?c.default.UIManager.showUIFormWithLoading(l.default.BallUI):c.default.TipManager.showTip("Unlock more surprises after login")},t.prototype.openSkin=function(){d.gameShopClicked(1),c.default.DataManager.clickBgShop++,u.log("openskin"),c.default.PlatformManager.isLogin?c.default.UIManager.showUIFormWithLoading(l.default.BgShopUI):c.default.TipManager.showTip("Unlock more surprises after login")},t.prototype.onDestroy=function(){},r([g(cc.Node)],t.prototype,"soundOnBtn",void 0),r([g(cc.Node)],t.prototype,"soundOffBtn",void 0),t=r([h],t)}(a.default);n.default=y,cc._RF.pop()},{"../../App":"App","../../MXInterFace/InterFaceManager":"InterFaceManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/GameUIConst":"GameUIConst"}],PlatformManager:[function(e,t,n){"use strict";cc._RF.push(t,"daefbWJupBNJLUU1wlnGKsC","PlatformManager");var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Watch_Type=void 0;var a=e("../App"),i=e("./InterFaceManager"),s=e("./MXAd"),c=e("../game/gameConst/GameUIConst"),u=e("../utils/DebugUtils"),l=e("../Telegram/GoogleAdsManager"),p=e("./GameDistribution"),d=function(){function e(){this.score=0,this.remainReliveCount=1,this._bestScore=0}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(e){a.default.DeviceUtils.init(e),a.default.DeviceUtils.IsTaktakGame&&a.default.TaktakReport.start()},Object.defineProperty(e.prototype,"bestScore",{get:function(){return a.default.DeviceUtils.IsMXGame?this._bestScore=i.highest_num:this._bestScore=Number(cc.sys.localStorage.getItem("CrazzyDunk_BestScore"))||0,this._bestScore},set:function(e){this._bestScore=e,a.default.DeviceUtils.IsMXGame?i.setHighScore(e):localStorage.setItem("CrazzyDunk_BestScore",e.toString())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLogin",{get:function(){return""!=i.user_id},enumerable:!1,configurable:!0}),e.prototype.start=function(){a.default.DeviceUtils.IsMXGame?(console.log("\u5f00\u59cb\u4e86------------"),i.onGameStart(),i.getGameSettings(),i.onGameInit(),i.getAdSeting(),i.onGameStartTrack("newGame")):a.default.DeviceUtils.IsTaktakGame?a.default.TaktakReport.gamePlayEnter():a.default.DeviceUtils.IsTelegramGame&&a.default.TelegramManager.start()},e.prototype.restart=function(){a.default.DeviceUtils.IsMXGame?(a.default.DataManager.adCount++,i.setRevive_number(),i.onGameStartTrack("restart")):a.default.DeviceUtils.IsTaktakGame},e.prototype.clickRestart=function(){a.default.DeviceUtils.IsMXGame?i.onGameStartTrack("restart"):a.default.DeviceUtils.IsTaktakGame?a.default.TaktakReport.playAgain():a.default.DeviceUtils.IsTelegramGame?(a.default.TelegramManager.game_start_time=Date.now(),a.default.TelegramManager.share_count=0):a.default.DeviceUtils.IsGameDistribution&&(p.GameDistribution.GDShowAd(),this.remainReliveCount=1)},e.prototype.gameEnd=function(){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return a.default.DeviceUtils.IsMXGame?(a.default.GameManager.isOver=!0,a.default.PlatformManager.isLogin?this.postUserData():this.gameEndPost(),[3,4]):[3,1];case 1:return a.default.DeviceUtils.IsTaktakGame?[3,4]:[3,2];case 2:return a.default.DeviceUtils.IsTelegramGame?[4,a.default.TelegramManager.upLoadScore(this.score)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}})})},e.prototype.postUserData=function(){return o(this,void 0,void 0,function(){var e,t=this;return r(this,function(n){switch(n.label){case 0:return[4,a.default.NetWorkManager.postUserData()];case 1:return"done"==(e=n.sent()).status&&e.unlocked.length?(u.log("\u89e3\u9501",e.unlocked),a.default.RedPointManager.updateRedPoints(e.unlocked),e.unlocked.forEach(function(e){Number(e)>2e4?a.default.DataManager.unlockBg++:a.default.DataManager.unlockBall++}),e.unlocked.forEach(function(e){return o(t,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,a.default.NetWorkManager.postUnLockProp(e)];case 1:return t.sent(),[2]}})})}),a.default.UIManager.showUIFormWithLoading(c.default.GetNewUI,e.unlocked.concat())):this.gameEndPost(),[2]}})})},e.prototype.gameEndPost=function(){i.onGameExit(this.score,1,"over"),i.onGameOver(this.score),i.finalAccheived(),i.gamePlayTime()},e.prototype.gameExit=function(){a.default.DeviceUtils.IsMXGame?(i.onGameExit(this.score,1,"exit"),i.onGameOver(this.score),i.finalAccheived(),i.gamePlayTime()):a.default.DeviceUtils.IsTaktakGame?a.default.TaktakReport.gameOver():a.default.UIManager.showUIFormWithLoading(c.default.GameOverUI)},e.prototype.startGame=function(){a.default.DeviceUtils.IsMXGame?a.default.RandomUtils.limitInteger(0,100)<i.ads_start_chance?this.checkAd(n.Watch_Type.Start,function(){a.default.UIManager.showUIFormWithLoading(c.default.PowerUpUI)},this,function(){a.default.UIManager.showUIFormWithLoading(c.default.GameView)},this):a.default.UIManager.showUIFormWithLoading(c.default.GameView):a.default.DeviceUtils.IsTaktakGame?a.default.UIManager.showUIFormWithLoading(c.default.GameView):(a.default.DeviceUtils.IsGameDistribution,a.default.UIManager.showUIFormWithLoading(c.default.GameView))},e.prototype.gameOver=function(){return o(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return console.log(l.Google_Ima_Ad.isAdLoadComplete,"GoogleAdsManager.isAdLoadComplete"),a.default.DeviceUtils.IsMXGame?(e=a.default.RandomUtils.limitInteger(0,100),e<i.ads_end_chance&&i.ifRevive()?this.checkAd(n.Watch_Type.Revive,function(){a.default.UIManager.showUIFormWithLoading(c.default.RewardUI)},this,this.gameEnd,this):(i.revive_number,this.gameEnd()),[3,7]):[3,1];case 1:return a.default.DeviceUtils.IsTaktakGame?(a.default.TaktakReport.gameExit(),a.default.UIManager.showUIFormWithLoading(c.default.GameOverUI),[3,7]):[3,2];case 2:return a.default.DeviceUtils.IsTelegramGame?l.Google_Ima_Ad.isAdLoadComplete&&l.Google_Ima_Ad.adShowCompleteCount<=0?(a.default.UIManager.showUIFormWithLoading(c.default.RewardUI),[3,5]):[3,3]:[3,6];case 3:return[4,this.gameEnd()];case 4:t.sent(),a.default.UIManager.showUIForm(c.default.TelegramCommonUI,"GameOver-"+this.score),t.label=5;case 5:return[3,7];case 6:a.default.DeviceUtils.IsGameDistribution?this.remainReliveCount<=0||!p.GameDistribution.isAdPreloadComplete?a.default.UIManager.showUIFormWithLoading(c.default.GameOverUI):a.default.UIManager.showUIFormWithLoading(c.default.RewardUI):a.default.UIManager.showUIFormWithLoading(c.default.GameOverUI),t.label=7;case 7:return[2]}})})},e.prototype.showAd=function(e,t,n,i,c,u){return o(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return a.default.DeviceUtils.IsMXGame?(s.default.instance.show(e,t,n,i,c,u),[3,6]):[3,1];case 1:return a.default.DeviceUtils.IsTelegramGame?(a.default.TelegramManager.showAd(e,t,n,i,c,u),[3,6]):[3,2];case 2:return a.default.DeviceUtils.IsTaktakGame?(t.apply(n),[3,6]):[3,3];case 3:return a.default.DeviceUtils.IsGameDistribution?[4,p.GameDistribution.GDShowRewardedAd()]:[3,5];case 4:return o.sent()?t.apply(n):i.apply(c),p.GameDistribution.preloadRewardedAd(),[3,6];case 5:t.apply(n),o.label=6;case 6:return[2]}})})},e.prototype.checkAd=function(e,t,n,i,c){return o(this,void 0,void 0,function(){return r(this,function(o){return a.default.DeviceUtils.IsMXGame?s.default.instance.checkAd(e,t,n,i,c):(a.default.DeviceUtils.IsTaktakGame,t.apply(n)),[2]})})},e.prototype.gameResume=function(){a.default.DeviceUtils.IsMXGame?i.gameResume():a.default.DeviceUtils.IsTaktakGame},e.prototype.gamePause=function(){a.default.DeviceUtils.IsMXGame?(i.gamePause(),i.gameShopViewd(1)):a.default.DeviceUtils.IsTaktakGame},e.prototype.onToolUsed=function(e){void 0===e&&(e="rotate"),a.default.DeviceUtils.IsMXGame||a.default.DeviceUtils.IsTaktakGame},e}();n.default=d,n.Watch_Type={Start:"start",Rotate:"rotate",Revive:"revive",Addrevice:"addrevice"},cc._RF.pop()},{"../App":"App","../Telegram/GoogleAdsManager":"GoogleAdsManager","../game/gameConst/GameUIConst":"GameUIConst","../utils/DebugUtils":"DebugUtils","./GameDistribution":"GameDistribution","./InterFaceManager":"InterFaceManager","./MXAd":"MXAd"}],PowerUpUI:[function(e,t,n){"use strict";cc._RF.push(t,"68db9psUtVBNb6hcQCDKFn5","PowerUpUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../UIFrame/BaseUIForm"),i=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../../utils/DebugUtils"),l=e("../gameConst/GameUIConst"),p=e("../../MXInterFace/PlatformManager"),d=e("../../MXInterFace/InterFaceManager"),f=e("../../sound/MusicConst"),h=cc._decorator,g=h.ccclass,y=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(i.UIFormType.PopUp,i.UIFormShowMode.HideOther,i.UIFormLucenyType.Translucence),t.ani=null,t.numLabel=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this;this.ani.setCompleteListener(function(){e.resume("countdown")}),this.setLabel(this.numLabel,"x"+d.ads_start_tools_numb)},t.prototype.onShow=function(){this.ani.paused=!1,this.ani.setAnimation(0,"Daojishi321",!1),d.startBounsShown()},t.prototype.resume=function(e){void 0===e&&(e="quit"),c.default.SoundManager.playEffect(f.MusicConst.button),this.close(),d.startBounsCliked(e)},t.prototype.close=function(){this.ani.paused=!0,this.closeUIForm(),c.default.UIManager.showUIFormWithLoading(l.default.GameView)},t.prototype.watchAd=function(){c.default.SoundManager.playEffect(f.MusicConst.button),u.log("\u770b\u5e7f\u544a"),this.ani.paused=!0,c.default.PlatformManager.showAd(p.Watch_Type.Start,this.addProp,this,this.close,this,!0),d.startBounsCliked("click")},t.prototype.addProp=function(){this.close()},r([y(sp.Skeleton)],t.prototype,"ani",void 0),r([y(cc.Label)],t.prototype,"numLabel",void 0),t=r([g],t)}(a.default);n.default=m,cc._RF.pop()},{"../../App":"App","../../MXInterFace/InterFaceManager":"InterFaceManager","../../MXInterFace/PlatformManager":"PlatformManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/GameUIConst":"GameUIConst"}],PrioritiyQueue:[function(e,t,n){"use strict";cc._RF.push(t,"544a89hatZCpo7NUgSw8Ymn","PrioritiyQueue"),Object.defineProperty(n,"__esModule",{value:!0}),n.PrioritiyQueue=void 0;var o=function(){function e(e){void 0===e&&(e=10),this.front=0,this.rear=0,this.size=0,this.length=0,this.queue=new Array(e),this.length=e}return e.prototype.enqueue=function(e){if(this.size>=this.length)return!1;for(var t=this.rear,n=this.front;n<this.rear;n=(n+1)%this.length)if(e.priority<this.queue[n].priority){t=n;break}for(n=t;n<this.rear;n=(n+1)%this.length)this.queue[(n+1)%this.length]=this.queue[n];return this.queue[t]=e,this.size++,this.rear=(this.rear+1)%this.length,!0},e.prototype.dequeue=function(){if(0===this.size)return null;this.size--;var e=this.queue[this.front];return this.front=(this.front+1)%this.length,e},e.prototype.getSize=function(){return this.size},e.prototype.isEmpty=function(){return 0===this.size},e.prototype.walkAllItem=function(e){for(var t=0,n=this.front;n<this.rear&&e(t++,this.queue[n]);n=(n+1)%this.length);},e}();n.PrioritiyQueue=o,cc._RF.pop()},{}],PropUI:[function(e,t,n){"use strict";cc._RF.push(t,"c0905hxmJJJLKlibNHBPTkA","PropUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../UIFrame/BaseUIForm"),i=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../../utils/DebugUtils"),l=e("../../MXInterFace/PlatformManager"),p=e("../../sound/MusicConst"),d=e("../gameConst/EventConst"),f=e("../../MXInterFace/InterFaceManager"),h=cc._decorator,g=h.ccclass,y=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(i.UIFormType.PopUp,i.UIFormShowMode.HideOther,i.UIFormLucenyType.Translucence),t.numLabel=null,t.tipLabel=null,t.watchBtn=null,t.watchNum=0,t}return o(t,e),t.prototype.onLoad=function(){this.setLabel(this.numLabel,""+f.ad_tool_number_1)},t.prototype.onShow=function(){this.watchBtn.active=this.watchNum<f.ad_tool_limit_number_1,this.setLabel(this.tipLabel,f.ad_tool_limit_number_1-this.watchNum+"/"+f.ad_tool_limit_number_1),u.log("\u89c2\u770b\u6b21\u6570",this.watchNum+"/"+f.ad_tool_limit_number_1)},t.prototype.resume=function(e){void 0===e&&(e="quit"),c.default.SoundManager.playEffect(p.MusicConst.button),this.closeUIForm()},t.prototype.watchAd=function(){var e=this;c.default.SoundManager.playEffect(p.MusicConst.button),u.log("\u770b\u5e7f\u544a"),c.default.PlatformManager.checkAd(l.Watch_Type.Rotate,function(){e.closeUIForm(),c.default.PlatformManager.showAd(l.Watch_Type.Rotate,e.addProp,e,e.closeUIForm,e,!0)},this,function(){u.log("\u6ca1\u6709\u68c0\u6d4b\u5230\u5e7f\u544a"),e.closeUIForm(),c.default.MessageCenter.dispatch(d.default.ShowAdTip)},this)},t.prototype.addProp=function(){c.default.PlatformManager.propNum+=f.ad_tool_number_1,this.watchNum++,c.default.MessageCenter.dispatch(d.default.UpdateProp)},r([y(cc.Label)],t.prototype,"numLabel",void 0),r([y(cc.Label)],t.prototype,"tipLabel",void 0),r([y(cc.Node)],t.prototype,"watchBtn",void 0),t=r([g],t)}(a.default);n.default=m,cc._RF.pop()},{"../../App":"App","../../MXInterFace/InterFaceManager":"InterFaceManager","../../MXInterFace/PlatformManager":"PlatformManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],QueueExecutor:[function(e,t,n){"use strict";cc._RF.push(t,"c82d1NgNY9EeZV+IdwIvW6p","QueueExecutor"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this._functions=new Array}return e.prototype.setCallBack=function(e,t){this._callBack=e,this._callBackTarget=t},e.prototype.regist=function(e,t){this._functions.push([e,t])},e.prototype.start=function(){this.next()},e.prototype.next=function(){if(this._functions)if(0==this._functions.length)this._callBack&&this._callBack.call(this._callBackTarget),this._callBack=null,this._callBackTarget=null,this._functions=null;else{var e=this._functions.shift();e[0].call(e[1])}},e}();n.default=o,cc._RF.pop()},{}],Queue:[function(e,t,n){"use strict";cc._RF.push(t,"27a40pUrZJACJHFnL98WD82","Queue"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.count=0,this.lowestCount=0,this.items={}}return e.prototype.enqueue=function(e){this.items[this.count]=e,this.count++},e.prototype.dequeue=function(){if(!this.isEmpty()){var e=this.items[this.lowestCount];return delete this.items[this.lowestCount],this.lowestCount++,e}},e.prototype.peek=function(){if(!this.isEmpty())return this.items[this.lowestCount]},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.clear=function(){this.items={},this.count=0,this.lowestCount=0},e.prototype.size=function(){return this.count-this.lowestCount},e.prototype.toString=function(){if(this.isEmpty())return"";for(var e=""+this.items[this.lowestCount],t=this.lowestCount+1;t<this.count;t++)e=e+","+this.items[t];return e},e}();n.default=o,cc._RF.pop()},{}],QuitUI:[function(e,t,n){"use strict";cc._RF.push(t,"d3731dbH7JGco76voYzzzFV","QuitUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../UIFrame/BaseUIForm"),i=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../../sound/MusicConst"),l=cc._decorator,p=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(i.UIFormType.PopUp,i.UIFormShowMode.HideOther,i.UIFormLucenyType.Translucence),t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.resume=function(){c.default.SoundManager.playEffect(u.MusicConst.button),this.closeUIForm(),c.default.GameManager.resume()},t.prototype.exit=function(){c.default.SoundManager.playEffect(u.MusicConst.button),this.closeUIForm(),c.default.PlatformManager.gameEnd()},t.prototype.onDestroy=function(){},t=r([p],t)}(a.default));n.default=d,cc._RF.pop()},{"../../App":"App","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst"}],RandomUtils:[function(e,t,n){"use strict";cc._RF.push(t,"c8109gz6eFO1JbcVYjJ0TAR","RandomUtils");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.limit=function(e,t){e=Math.min(e,t);var n=(t=Math.max(e,t))-e;return e+Math.random()*n},t.prototype.limitInteger=function(e,t){return Math.floor(this.limit(e,t+1))},t.prototype.randomArray=function(e){return e?e[Math.floor(Math.random()*e.length)]:null},t.prototype.shuffle=function(e){for(var t,n=e.length,o=Array(n),r=0;r<n;r++)(t=~~(Math.random()*(r+1)))!==r&&(o[r]=o[t]),o[t]=e[r];return o},t}(e("../base/SingtonClass").default);n.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],RedPointManager:[function(e,t,n){"use strict";cc._RF.push(t,"38617IXOtdFWrVKTIrVoYC/","RedPointManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../App"),a=e("../base/SingtonClass"),i=e("../MXInterFace/DataManager"),s=e("./gameConst/EventConst"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.initRedData=function(){var e=this;this.loadRedPointData(),r.default.DataManager.props.forEach(function(t){e.redMap[t.id]?!t.owned&&delete e.redMap[t.id]:t.unlockCondition.type==i.UnlockType.none||t.owned||0!=t.offline||r.default.DataManager.getNumByUnlockType(t.unlockCondition.type)>=t.unlockCondition.value&&(e.redMap[t.id]=!0)})},t.prototype.loadRedPointData=function(){if(!this.redMap){var e=cc.sys.localStorage.getItem("CrazzyDunk_RedPoint");this.redMap=e?JSON.parse(e):{}}},t.prototype.getRedPointById=function(e){return this.redMap||this.initRedData(),this.redMap[e]},t.prototype.closeRedPointById=function(e){this.redMap&&this.redMap[e]&&(delete this.redMap[e],r.default.MessageCenter.dispatch(s.default.UpdateRedPoint),this.saveRedPoint())},t.prototype.saveRedPoint=function(){this.redMap&&cc.sys.localStorage.setItem("CrazzyDunk_RedPoint",JSON.stringify(this.redMap))},t.prototype.updateRedPoints=function(e){var t=this;e.forEach(function(e){t.redMap[e]=!0}),r.default.MessageCenter.dispatch(s.default.UpdateRedPoint),this.saveRedPoint()},t.prototype.updateRedPoint=function(e){this.redMap[e]=!0,r.default.MessageCenter.dispatch(s.default.UpdateRedPoint),this.saveRedPoint()},t.prototype.getAllBallRedPoint=function(){for(var e in this.redMap){if(this.redMap.hasOwnProperty(e))if(this.redMap[e])if(r.default.DataManager.getPropItemByID(e).category==i.PropType.ball)return!0}return!1},t.prototype.getAllBgRedPoint=function(){for(var e in this.redMap){if(this.redMap.hasOwnProperty(e))if(this.redMap[e])if(r.default.DataManager.getPropItemByID(e).category==i.PropType.bg)return!0}return!1},t.prototype.checkChristmasBallRed=function(){return!1},t.prototype.checkChristmasBgRed=function(){return!1},t}(a.default);n.default=c,cc._RF.pop()},{"../App":"App","../MXInterFace/DataManager":"DataManager","../base/SingtonClass":"SingtonClass","./gameConst/EventConst":"EventConst"}],ResManager:[function(e,t,n){"use strict";cc._RF.push(t,"916432YLLBG8YrQouVQlFrB","ResManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.loadPrefab=function(){},e}();n.default=o,cc._RF.pop()},{}],Resources:[function(e,t,n){"use strict";cc._RF.push(t,"64f0c1/4YVCnIKqCr4JPart","Resources");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefabs=[],t.textures=[],t.audioClips=[],t}return o(t,e),t.prototype.start=function(){},r([s([cc.Prefab])],t.prototype,"prefabs",void 0),r([s({type:[cc.Texture2D]})],t.prototype,"textures",void 0),r([s({type:[cc.AudioClip]})],t.prototype,"audioClips",void 0),t=r([i],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],RestartUI:[function(e,t,n){"use strict";cc._RF.push(t,"854c3PvpxlAMbLEMZf4iolK","RestartUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../App"),p=e("../gameConst/EventConst"),d=e("../../utils/DebugUtils"),f=e("../../sound/MusicConst"),h=cc._decorator,g=h.ccclass,y=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.PopUp,c.UIFormShowMode.HideOther,c.UIFormLucenyType.Translucence),t}return o(t,e),t.prototype.init=function(e){},t.prototype.load=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return[2]})})},t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.resume=function(){l.default.SoundManager.playEffect(f.MusicConst.button),this.closeUIForm(),l.default.GameManager.resume()},t.prototype.restart=function(){d.log("\u91cd\u65b0\u5f00\u59cb"),l.default.GameManager.resume(),l.default.SoundManager.playEffect(f.MusicConst.button),l.default.MessageCenter.dispatch(p.default.RestartGame),this.closeUIForm(),l.default.PlatformManager.clickRestart()},t=r([g],t)}(s.default));n.default=y,cc._RF.pop()},{"../../App":"App","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst"}],RewardUI:[function(e,t,n){"use strict";cc._RF.push(t,"2c0acQI3+VPTLLBbbDpSDV0","RewardUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../UIFrame/BaseUIForm"),i=e("../../UIFrame/config/SysDefine"),s=e("../../UIFrame/FormType"),c=e("../../App"),u=e("../gameConst/EventConst"),l=e("../../utils/DebugUtils"),p=e("../../MXInterFace/PlatformManager"),d=e("../../sound/MusicConst"),f=e("../gameConst/GameUIConst"),h=cc._decorator,g=h.ccclass,y=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new s.UIType(i.UIFormType.PopUp,i.UIFormShowMode.HideOther,i.UIFormLucenyType.Translucence),t.ani=null,t}return o(t,e),t.prototype.onLoad=function(){var e=this;this.ani.setCompleteListener(function(){e.watchAd(!1)})},t.prototype.onShow=function(){c.default.GameManager.puause(),this.ani.paused=!1,this.ani.setAnimation(0,"Crazy Dunk Watch video daojishi",!1)},t.prototype.watchAd=function(e){void 0===e&&(e=!0),c.default.SoundManager.playEffect(d.MusicConst.button),this.ani.paused=!0,this.closeUIForm(),c.default.PlatformManager.showAd(p.Watch_Type.Revive,function(){c.default.MessageCenter.dispatch(u.default.RestartGame,!1),c.default.PlatformManager.remainReliveCount--,c.default.PlatformManager.restart(),c.default.GameManager.resume()},this,this.close,this,e)},t.prototype.close=function(){c.default.SoundManager.playEffect(d.MusicConst.button),l.log("\u8df3\u8fc7\u5e7f\u544a"),this.ani.paused=!0,this.closeUIForm(),c.default.PlatformManager.gameEnd(),c.default.DeviceUtils.IsTelegramGame?c.default.UIManager.showUIForm(f.default.TelegramCommonUI,"GameOver"):c.default.UIManager.showUIFormWithLoading(f.default.GameOverUI)},r([y(sp.Skeleton)],t.prototype,"ani",void 0),t=r([g],t)}(a.default);n.default=m,cc._RF.pop()},{"../../App":"App","../../MXInterFace/PlatformManager":"PlatformManager","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst"}],SingtonClass:[function(e,t,n){"use strict";cc._RF.push(t,"82a9ag0czRGrIJ4t+H8obDz","SingtonClass");var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,r++)o[r]=a[i];return o};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.getSingtonInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._instance||(this._instance=new(this.bind.apply(this,o([void 0],e)))),this._instance},e}();n.default=r,cc._RF.pop()},{}],SoundManager:[function(e,t,n){"use strict";cc._RF.push(t,"f75dedHjS1H368/JON+Pc9T","SoundManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.MusicType=void 0;var r,a=e("../base/SingtonClass"),i=e("./BaseSound"),s=e("./MusicConst");(function(e){e[e.SOUND=0]="SOUND",e[e.MUSIC=1]="MUSIC",e[e.LOOP_SOUND=2]="LOOP_SOUND"})(r=n.MusicType||(n.MusicType={}));var c=function(e){function t(){var t=e.call(this)||this;return t._musicPool=new Map,t._soundPool=new Map,t._loopSoundPool=new Map,t._curSound="",t._lastSoundTime=0,t._pauseFlag=!1,t._level=0,t}return o(t,e),Object.defineProperty(t.prototype,"pauseFlag",{get:function(){return this._pauseFlag},enumerable:!1,configurable:!0}),t.prototype.playEffect=function(e){if(!this._pauseFlag){var t=(new Date).getTime();if(e===this._curSound)if(t-this._lastSoundTime<150)return;this._curSound=e,this._lastSoundTime=t;var n=this.getEffectFromPool(e);n?n.play(!1):(n=new i.default(e,r.SOUND),this.addEffectToPool(e,n),n.play(!1))}},t.prototype.stopEffect=function(){this._soundPool.forEach(function(e,t,n){if(e)for(var o=0,r=e;o<r.length;o++){r[o].stop()}})},t.prototype.playLoopEffect=function(e){if(!this._pauseFlag){var t=this._loopSoundPool.get(e);t||(t=new i.default(e,r.LOOP_SOUND),this._loopSoundPool.set(e,t),t.play(!0))}},t.prototype.stopLoopEffect=function(e){var t=this._loopSoundPool.get(e);t&&(t.destroy(),this._loopSoundPool.delete(e))},t.prototype.playMusic=function(e){if(!this._pauseFlag){this._curMusic&&this._curMusic.stop();var t=this._musicPool.get(e);t?t.play(!0):(t=new i.default(e,r.MUSIC),this._musicPool.set(e,t),t.play(!0)),this._curMusic=t}},t.prototype.stopMusic=function(){this._curMusic&&this._curMusic.stop()},t.prototype.pauseMusic=function(){this._curMusic&&this._curMusic.pause()},t.prototype.resumeMusic=function(){this._curMusic&&!this._pauseFlag&&this._curMusic.resume()},t.prototype.getEffectFromPool=function(e){var t=this._soundPool.get(e);if(t)for(var n=0,o=t;n<o.length;n++){var r=o[n];if(!r.isPlaying())return r}return null},t.prototype.addEffectToPool=function(e,t){var n=this._soundPool.get(e);n?n.push(t):((n=[]).push(t),this._soundPool.set(e,n))},t.prototype.setPauseFlag=function(e,t){void 0===t&&(t=0),this._level=t,this._pauseFlag=e,e?(this._curMusic&&this._curMusic.pause(),this.pauseLoopEffects()):(this._curMusic?this._curMusic.resume():this.playMusic(s.MusicConst.bg),this.resumeLoopEffects())},t.prototype.pauseLoopEffects=function(){this._loopSoundPool.forEach(function(e,t){e.pause()})},t.prototype.resumeLoopEffects=function(){this._pauseFlag||this._loopSoundPool.forEach(function(e,t){e.resume()})},t}(a.default);n.default=c,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass","./BaseSound":"BaseSound","./MusicConst":"MusicConst"}],StringUtils:[function(e,t,n){"use strict";cc._RF.push(t,"212bfdieoVE0qAU8Fi7ZqJu","StringUtils");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.trimSpace=function(e){return e.replace(/^\s*(.*?)[\s\n]*$/g,"$1")},t.prototype.getStringLength=function(e){for(var t=e.split(""),n=0,o=0;o<t.length;o++){var r=t[o];this.isChinese(r)?n+=2:n+=1}return n},t.prototype.isChinese=function(e){return/^.*[\u4E00-\u9FA5]+.*$/.test(e)},t.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=0,r=t.length;o<r;o++){var a=new RegExp("({)"+o+"(})","g");e=e.replace(a,t[o])}return e},t}(e("../base/SingtonClass").default);n.default=r,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass"}],SysDefine:[function(e,t,n){"use strict";cc._RF.push(t,"7f8ffNRvZxCz4zNi1L6dBHr","SysDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.SysDefine=n.UIFormLucenyType=n.UIFormShowMode=n.UIFormType=void 0,function(e){e[e.Normal=0]="Normal",e[e.Fixed=1]="Fixed",e[e.PopUp=2]="PopUp",e[e.Independent=3]="Independent"}(n.UIFormType||(n.UIFormType={})),function(e){e[e.Normal=0]="Normal",e[e.ReverseChange=1]="ReverseChange",e[e.HideOther=2]="HideOther",e[e.Independent=3]="Independent"}(n.UIFormShowMode||(n.UIFormShowMode={})),function(e){e[e.Lucency=0]="Lucency",e[e.Translucence=1]="Translucence",e[e.ImPenetrable=2]="ImPenetrable",e[e.Pentrate=3]="Pentrate"}(n.UIFormLucenyType||(n.UIFormLucenyType={}));var o=function(){function e(){}return e.SYS_PATH_CANVAS="Canvas",e.SYS_PATH_UIFORMS_CONFIG_INFO="UIFormsConfigInfo",e.SYS_PATH_CONFIG_INFO="SysConfigInfo",e.SYS_UIROOT_NAME="Canvas/UIROOT",e.SYS_UIMASK_NAME="Canvas/UIROOT/UIMaskScript",e.SYS_UIAdaptation_NAME="Canvas/UIROOT/UIAdaptationScript",e.SYS_NORMAL_NODE="Normal",e.SYS_FIXED_NODE="Fixed",e.SYS_POPUP_NODE="PopUp",e.SYS_INDEPENDENT_NODE="Independent",e.SYS_TIPS_NODE="Tips",e.SYS_STANDARD_Prefix="_",e.SYS_STANDARD_Separator="$",e.SYS_STANDARD_End="#",e.SeparatorMap={_Node:"cc.Node",_Label:"cc.Label",_Button:"cc.Button",_Sprite:"cc.Sprite",_RichText:"cc.RichText",_Mask:"cc.Mask",_MotionStreak:"cc.MotionStreak",_TiledMap:"cc.TiledMap",_TiledTile:"cc.TiledTile",_Spine:"sp.Spine",_Graphics:"cc.Graphics",_Animation:"cc.Animation",_WebView:"cc.WebView",_EditBox:"cc.EditBox",_ScrollView:"cc.ScrollView",_VideoPlayer:"cc.VideoPlayer",_ProgressBar:"cc.ProgressBar",_PageView:"cc.PageView",_Slider:"cc.Slider",_Toggle:"cc.Toggle"},e}();n.SysDefine=o,cc._RF.pop()},{}],TaktakReport:[function(e,t,n){"use strict";cc._RF.push(t,"5e179Qj+RlAlqBtuHJ6gFmS","TaktakReport");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.TaktakReport=void 0;var r=e("../App"),a=e("../base/SingtonClass"),i=e("../utils/DebugUtils"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.is_Dot=!1,t.play_again_time=0,t.game_start_time=0,t.game_round=1,t.game_id="",t.user_id="",t.game_name="",t}return o(t,e),t.prototype.start=function(){this.is_Dot=void 0!=window.mxgame&&void 0!=window.mxgame.track,this.getGameInfo(),this.play_again_time=this.getCurrentTime()},t.prototype.playAgain=function(){this.play_again_time=this.getCurrentTime(),this.game_round++},t.prototype.gameOver=function(e){void 0===e&&(e=""),this.gamePlayTime(),this.is_Dot&&window.mxgame.gameOver(e)},t.prototype.onTrack=function(e,t){i.log("onTrack---"+e+"---"+t),this.is_Dot&&window.mxgame.track(e,t)},t.prototype.getGameInfo=function(){if(this.game_start_time=this.getCurrentTime(),this.is_Dot){var e=window.mxgame.gameInfo(),t=JSON.parse(e);this.game_id=t.game_id,this.game_name=t.game_name,this.user_id=t.userid,this.game_start_time=t.start_time}},t.prototype.getCurrentTime=function(){return this.is_Dot?window.mxgame.currentTime():Date.now()},t.prototype.gamePlayEnter=function(){var e=this.getCurrentTime()-this.game_start_time,t={gameID:this.game_id,gameName:this.game_name,loadingTime:e};this.onTrack("gamePlayEnter",JSON.stringify(t)),this.onGameStart()},t.prototype.gameExit=function(){var e=Math.floor((this.getCurrentTime()-this.play_again_time)/1e3),t={gameID:this.game_id,gameName:this.game_name,currentScore:r.default.PlatformManager.score,highscore:r.default.PlatformManager.bestScore,playtime:e};this.onTrack("gameExit",JSON.stringify(t))},t.prototype.gamePlayTime=function(){var e=Math.floor((this.getCurrentTime()-this.game_start_time)/1e3),t={gameID:this.game_id,gameName:this.game_name,playtime:e,round:this.game_round};this.onTrack("gamePlayTime",JSON.stringify(t))},t.prototype.onGameStart=function(){this.is_Dot&&window.mxgame.gameStart()},t}(a.default);n.TaktakReport=s,cc._RF.pop()},{"../App":"App","../base/SingtonClass":"SingtonClass","../utils/DebugUtils":"DebugUtils"}],TaskQueue:[function(e,t,n){"use strict";cc._RF.push(t,"24a28jXt2dOmLTCmDK00JnZ","TaskQueue"),Object.defineProperty(n,"__esModule",{value:!0}),n.Command=n.CommandType=void 0,n.CommandType||(n.CommandType={});var o=function(){return function(e,t,n){void 0===n&&(n=10),this.commandType=e,this.data=t,this.prioritiy}}();n.Command=o;var r=function(){function e(){this.currCommand=null,this.commands=[],this.historyCommands=[]}return e.prototype.pushCommand=function(e){this.commands.push(e)},e}();n.default=r,cc._RF.pop()},{}],TelegramCommonUI:[function(e,t,n){"use strict";cc._RF.push(t,"f28a7CtbDFKU4d9wEqlQkNw","TelegramCommonUI");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../UIFrame/BaseUIForm"),c=e("../../UIFrame/config/SysDefine"),u=e("../../UIFrame/FormType"),l=e("../../App"),p=e("../gameConst/EventConst"),d=e("../../utils/DebugUtils"),f=e("../gameConst/GameUIConst"),h=e("../../sound/MusicConst"),g=e("../telegram/TelegramPlayerItem"),y=e("../../Telegram/AdsterraAD"),m=cc._decorator,_=m.ccclass,v=m.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIType=new u.UIType(c.UIFormType.Independent,c.UIFormShowMode.Independent,c.UIFormLucenyType.Translucence),t.soundOnBtn=null,t.soundOffBtn=null,t.loadingGroup=null,t.loadingBar=null,t.loadingText=null,t.playerItemNode=null,t.playerItemContent=null,t.rankItemNode=null,t.rankScrollViewContent=null,t.rank_loading=null,t.title=null,t.rankLabel1=null,t.rankLabel=null,t.TelegramCommonUI=null,t._uiType="Loading",t.rankPosY=0,t.percent=0,t}return o(t,e),t.prototype.init=function(e){this._uiType=e},t.prototype.load=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return[2]})})},t.prototype.onShow=function(){if(e.prototype.onShow.call(this),this.TelegramCommonUI.getChildByName("PlayBtn").active=!1,"Loading"!==this._uiType&&(this.node.setPosition(0,-2360),this.node.active=!0,cc.tween(this.node).to(.4,{position:cc.v3(0,0)},cc.easeElasticOut(3)).call(function(){y.AdsterraAD.show_UpBannerAD()}).start()),this.soundOffBtn.active=l.default.SoundManager.pauseFlag,this.soundOnBtn.active=!l.default.SoundManager.pauseFlag,"Loading"===this._uiType){this.title.getComponent(cc.Label).string="Crazy Dunk",this.TelegramCommonUI.getChildByName("Loading").active=!0,this.TelegramCommonUI.getChildByName("ContinueBtn").active=!1,this.TelegramCommonUI.getChildByName("PlayAgainBtn").active=!1,l.default.PlatformManager.start(),this.showLoadingBar(!0),this.loadingWidth=this.loadingBar.parent.width,this.loadingBar.width=0;var t=document.getElementById("loading");t&&t.parentElement.removeChild(t),this.setLabel(this.loadingText,"Downloading Game "+this.percent+"%"),this.loadingBar.width=0,this.loadGame(),this.refreshData()}else"Pause"===this._uiType?(this.title.getComponent(cc.Label).string="Pause",this.TelegramCommonUI.getChildByName("Loading").active=!1,this.TelegramCommonUI.getChildByName("ContinueBtn").active=!0,this.TelegramCommonUI.getChildByName("PlayAgainBtn").active=!1,l.default.GameManager.puause(),console.log(l.default.SoundManager.pauseFlag,"App.SoundManager.pauseFlag"),l.default.PlatformManager.gamePause(),y.AdsterraAD.hide_BottomBannerAD()):-1!==this._uiType.indexOf("GameOver")&&(this.refreshData(),this.title.getComponent(cc.Label).string=""+this._uiType.split("-")[1],this.TelegramCommonUI.getChildByName("Loading").active=!1,this.TelegramCommonUI.getChildByName("ContinueBtn").active=!1,this.TelegramCommonUI.getChildByName("PlayAgainBtn").active=!0,y.AdsterraAD.hide_BottomBannerAD())},t.prototype.refreshData=function(){var e=this;l.default.TelegramManager.getHighScores().then(function(t){if(t){-1===t.me.score?e.rankLabel1.string="-":e.rankLabel1.string=t.me.score.toString();for(var n=!1,o=0;o<t.rank.length;o++){var r=t.rank[o];if(r.me){t.rank.splice(o,1),t.rank.unshift(r),n=!0;break}}n||t.rank.unshift({rank:-1,user:{first_name:"You",last_name:""},score:t.me.score,me:!0}),t.rank.reverse(),e.playerItemContent.children.forEach(function(e){e.active&&"sendGameBtn"!==e.name&&e.destroy()}),t.rank.forEach(function(t){var n=cc.instantiate(e.playerItemNode);n.active=!0,n.y=0,e.playerItemContent.addChild(n),n.setSiblingIndex(cc.macro.MIN_ZINDEX),n.getComponent(g.default).setData(e.getRankPosName(t.rank),t.me?"You":t.user.first_name+" "+t.user.last_name,t.score)})}})},t.prototype.onLoad=function(){var e=this;this.TelegramCommonUI.getChildByName("PlayBtn").active=!1,this.node.getChildByName("TelegramRankLayer").setPosition(cc.v3(0,-this.node.height/2)),this.node.getChildByName("TelegramRankLayer").height=.9*this.node.height,this.node.getChildByName("TelegramRankLayer").width=this.node.width,this.scheduleOnce(function(){e.node.getChildByName("TelegramRankLayer").getComponent(cc.Widget).updateAlignment(),e.node.getChildByName("TelegramRankLayer").active=!1,e.rankPosY=e.node.getChildByName("TelegramRankLayer").position.y,d.log(e.rankPosY," this.rankPosY"),e.node.getChildByName("TelegramRankLayer").getComponent(cc.Widget).enabled=!1,e.node.getChildByName("TelegramRankLayer").setPosition(0,e.rankPosY-2360)}),this.loadingBar.parent.width=.9*this.node.width,this.loadingBar.x=-this.loadingBar.parent.width/2,l.default.MessageCenter.addListener(p.default.Loading,this.loading,this),l.default.MessageCenter.addListener(p.default.UpdateRedPoint,this.updateRedPoint,this),this.addClick(this.soundOffBtn,this.openSound),this.addClick(this.soundOnBtn,this.closeSound),this.node.getChildByName("TelegramCommonUI").getComponent(cc.Widget).updateAlignment(),this.node.getChildByName("TelegramCommonUI").getChildByName("bottomContent").getComponent(cc.Widget).updateAlignment(),y.AdsterraAD.upBannerConfig.top=this.node.getChildByName("TelegramCommonUI").getChildByName("upContent").height+(this.node.height-this.node.getChildByName("TelegramCommonUI").getChildByName("upContent").height-(this.node.getChildByName("TelegramCommonUI").getChildByName("bottomContent").getComponent(cc.Widget).bottom+this.node.getChildByName("TelegramCommonUI").getChildByName("bottomContent").height))/2,y.AdsterraAD.upBannerConfig.top*=cc.view.getDesignResolutionSize().width/1080,y.AdsterraAD.upBannerConfig.top-=y.AdsterraAD.upBannerConfig.height*(cc.view.getDesignResolutionSize().width/window.innerWidth)/2},t.prototype.start=function(){return a(this,void 0,void 0,function(){return i(this,function(e){return y.AdsterraAD.show_UpBannerAD(),[2]})})},t.prototype.telegramShare=function(){l.default.TelegramManager.share()},t.prototype.getRankPosName=function(e){return-1===e?"-":e.toString()},t.prototype.updateRedPoint=function(){},t.prototype.showLoadingBar=function(e){this.loadingGroup.active=e},t.prototype.loadGame=function(){return a(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return this.loadingGroup.active=!0,e=[f.default.GameView],[4,l.default.UIManager.loadUIForms(e)];case 1:return t.sent(),this.loadingGroup.active=!1,this.TelegramCommonUI.getChildByName("PlayBtn").active=!0,this.addClick(this.TelegramCommonUI.getChildByName("PlayBtn"),this.openGame),[2]}})})},t.prototype.openGame=function(){l.default.SoundManager.playEffect(h.MusicConst.button),this.closeUIForm(),l.default.PlatformManager.startGame(),l.default.TelegramManager.game_start_time=Date.now(),y.AdsterraAD.hide_UpBannerAD(),y.AdsterraAD.show_BottomBannerAD()},t.prototype.loading=function(e,t,n){this.percent=e/t,this.loadingBar.width=this.loadingWidth*this.percent,this.percent=Math.floor(100*this.percent),this.setLabel(this.loadingText,"Downloading Game "+this.percent+"%")},t.prototype.openSound=function(){d.log("openSound"),l.default.SoundManager.playEffect(h.MusicConst.button);this.soundOnBtn.active=!0,this.soundOffBtn.active=!1,l.default.SoundManager.setPauseFlag(!1)},t.prototype.closeSound=function(){d.log("closeSound"),l.default.SoundManager.playEffect(h.MusicConst.button);this.soundOnBtn.active=!1,this.soundOffBtn.active=!0,l.default.SoundManager.setPauseFlag(!0)},t.prototype.onDestroy=function(){},t.prototype.onOpenTelegramRank=function(){return a(this,void 0,void 0,function(){var e,t=this;return i(this,function(n){switch(n.label){case 0:return y.AdsterraAD.hide_UpBannerAD(),this.node.getChildByName("TelegramCommonUI").active=!1,cc.Tween.stopAllByTarget(this.node.getChildByName("TelegramRankLayer")),this.node.getChildByName("TelegramRankLayer").setPosition(0,this.rankPosY-2360),this.node.getChildByName("TelegramRankLayer").active=!0,cc.tween(this.node.getChildByName("TelegramRankLayer")).to(.3,{position:cc.v3(0,this.rankPosY)},cc.easeCircleActionOut()).start(),this.rankScrollViewContent.children.forEach(function(e){e.active&&e.destroy()}),this._showRankLoading(),[4,l.default.TelegramManager.getHighScores()];case 1:return(e=n.sent())?(-1===e.me.score?this.rankLabel.string="-":this.rankLabel.string=e.me.score.toString(),e.rank.forEach(function(e){var n=cc.instantiate(t.rankItemNode);n.active=!0,t.rankScrollViewContent.addChild(n),n.getComponent(g.default).setData(t.getRankPosName(e.rank),e.user.first_name+" "+e.user.last_name,e.score,e.me)}),this._hideRankLoading(),[2]):(this._hideRankLoading(),[2])}})})},t.prototype.onCloseTelegramRank=function(){var e=this;this.node.getChildByName("TelegramCommonUI").active=!0,cc.Tween.stopAllByTarget(this.node.getChildByName("TelegramRankLayer")),this._hideRankLoading(),cc.tween(this.node.getChildByName("TelegramRankLayer")).to(.3,{position:cc.v3(0,this.rankPosY-2360)},cc.easeQuadraticActionOut()).call(function(){e.node.getChildByName("TelegramRankLayer").active=!1,y.AdsterraAD.show_UpBannerAD()}).start()},t.prototype.resume=function(){l.default.SoundManager.playEffect(h.MusicConst.button),this.closeUIForm(),l.default.PlatformManager.gameResume(),l.default.GameManager.resume(),y.AdsterraAD.show_BottomBannerAD(),y.AdsterraAD.hide_UpBannerAD()},t.prototype.restart=function(){l.default.SoundManager.playEffect(h.MusicConst.button),l.default.MessageCenter.dispatch(p.default.RestartGame),this.closeUIForm(),l.default.PlatformManager.clickRestart(),y.AdsterraAD.show_BottomBannerAD(),y.AdsterraAD.hide_UpBannerAD()},t.prototype._showRankLoading=function(){cc.Tween.stopAllByTarget(this.rank_loading),this.rank_loading.active=!0,cc.tween(this.rank_loading).by(1,{angle:360}).repeatForever().start()},t.prototype._hideRankLoading=function(){this.rank_loading.angle=0,this.rank_loading.active=!1,cc.Tween.stopAllByTarget(this.rank_loading)},r([v(cc.Node)],t.prototype,"soundOnBtn",void 0),r([v(cc.Node)],t.prototype,"soundOffBtn",void 0),r([v(cc.Node)],t.prototype,"loadingGroup",void 0),r([v(cc.Node)],t.prototype,"loadingBar",void 0),r([v(cc.Label)],t.prototype,"loadingText",void 0),r([v(cc.Node)],t.prototype,"playerItemNode",void 0),r([v(cc.Node)],t.prototype,"playerItemContent",void 0),r([v(cc.Node)],t.prototype,"rankItemNode",void 0),r([v(cc.Node)],t.prototype,"rankScrollViewContent",void 0),r([v(cc.Node)],t.prototype,"rank_loading",void 0),r([v(cc.Node)],t.prototype,"title",void 0),r([v(cc.Label)],t.prototype,"rankLabel1",void 0),r([v(cc.Label)],t.prototype,"rankLabel",void 0),r([v(cc.Node)],t.prototype,"TelegramCommonUI",void 0),t=r([_],t)}(s.default);n.default=b,cc._RF.pop()},{"../../App":"App","../../Telegram/AdsterraAD":"AdsterraAD","../../UIFrame/BaseUIForm":"BaseUIForm","../../UIFrame/FormType":"FormType","../../UIFrame/config/SysDefine":"SysDefine","../../sound/MusicConst":"MusicConst","../../utils/DebugUtils":"DebugUtils","../gameConst/EventConst":"EventConst","../gameConst/GameUIConst":"GameUIConst","../telegram/TelegramPlayerItem":"TelegramPlayerItem"}],TelegramManager:[function(e,t,n){"use strict";cc._RF.push(t,"0db95eGzLZIyJlouQYbXFkJ","TelegramManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../base/SingtonClass"),a=e("./GoogleAdsManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.game_start_time=0,t.share_count=0,t}return o(t,e),t.prototype.start=function(){1},t.prototype.showAd=function(e,t,n,o,r,i){a.Google_Ima_Ad.showAds(e,t,n,o,r,i)},t.prototype.share=function(){window.TelegramGameProxy.shareScore(),this.share_count++},t.prototype.upLoadScore=function(e){var t=this;return new Promise(function(n){var o={score:e,playtime:Date.now()-t.game_start_time,sharecount:t.share_count},r=new window.XMLHttpRequest;r.open("POST","/api/game/match/upload/crazydunk",!0),r.responseType="text",r.setRequestHeader("Content-Type","application/json; charset=UTF-8"),r.send(JSON.stringify(o)),r.onreadystatechange=function(){if(4===r.readyState&&r.status>=200&&r.status<400){var e=r.response,t=JSON.parse(e);return 0===t.errno&&console.log("telegram \u4e0a\u62a5\u6e38\u620f\u6253\u70b9\u6210\u529f"),void n(t)}n(null)}})},t.prototype.getHighScores=function(){return new Promise(function(e){var t=new window.XMLHttpRequest;t.open("GET","/api/game/match/rank/crazydunk",!0),t.responseType="text",t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.send(),t.onreadystatechange=function(){if(4===t.readyState&&t.status>=200&&t.status<400){var n=t.response,o=JSON.parse(n);0===o.errno?e(o.result):e(null)}}})},t}(r.default);n.default=i,cc._RF.pop()},{"../base/SingtonClass":"SingtonClass","./GoogleAdsManager":"GoogleAdsManager"}],TelegramPlayerItem:[function(e,t,n){"use strict";cc._RF.push(t,"6a72cr5/xxM87XWUfnHvtGy","TelegramPlayerItem");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.position=null,t.nickName=null,t.score=null,t.yellowPeopleSF=null,t.bluePeopleSF=null,t.yellowCircleSF=null,t.blueCircleSF=null,t.isRank=!1,t}return o(t,e),t.prototype.start=function(){},t.prototype.setData=function(e,t,n,o){void 0===o&&(o=!1),this.position.string=e,this.nickName.string=t,this.score.string=-1===n?"-":n.toString(),this.node.getChildByName("avatar").getChildByName("whiteCircle").active="-"!==e;var r=null,a=null;switch(e){case"1":case"2":case"3":r=this.yellowPeopleSF,this.yellowCircleSF,new cc.Color(160,103,66),a=new cc.Color(237,152,85);break;default:r=this.bluePeopleSF,this.blueCircleSF,new cc.Color(66,92,160),a=new cc.Color(68,155,250)}this.node.getChildByName("avatar").getComponent(cc.Sprite).spriteFrame=r,this.node.getChildByName("avatar").getChildByName("whiteCircle").color=a,this.isRank&&(this.node.getComponent(cc.Sprite).enabled=Number(e)%2==0)},r([s(cc.Label)],t.prototype,"position",void 0),r([s(cc.Label)],t.prototype,"nickName",void 0),r([s(cc.Label)],t.prototype,"score",void 0),r([s(cc.SpriteFrame)],t.prototype,"yellowPeopleSF",void 0),r([s(cc.SpriteFrame)],t.prototype,"bluePeopleSF",void 0),r([s(cc.SpriteFrame)],t.prototype,"yellowCircleSF",void 0),r([s(cc.SpriteFrame)],t.prototype,"blueCircleSF",void 0),r([s(cc.Boolean)],t.prototype,"isRank",void 0),t=r([i],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],TimerHandle:[function(e,t,n){"use strict";cc._RF.push(t,"c614bg/d5JBaL8+PKU1hOYV","TimerHandle");var o=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.TimerHandle=void 0;var r=cc._decorator.ccclass,a=function(){function e(){this.delay=0,this.repeatCount=0,this.exeTime=0,this.dealTime=0}return e.prototype.clear=function(){this.method=null,this.methodObj=null,this.complateMethod=null,this.complateMethodObj=null},e=o([r("TimerHandle")],e)}();n.TimerHandle=a,cc._RF.pop()},{}],TimerManager:[function(e,t,n){"use strict";cc._RF.push(t,"f9bad1B5rpASKqwOt5RAP5y","TimerManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../base/SingtonClass"),a=e("../App"),i=e("./ObjectPool"),s=e("./Log"),c=function(e){function t(){var t=e.call(this)||this;return t._handlers=new Array,t._delHandlers=new Array,t._currTime=cc.director.getTotalTime(),t._currFrame=0,t._count=0,t._timeScale=1,cc.director.getScheduler().enableForTarget(t),cc.director.getScheduler().schedule(t.onEnterFrame,t,0,cc.macro.REPEAT_FOREVER,0,!1),t}return o(t,e),t.prototype.setTimeScale=function(e){this._timeScale=e},t.prototype.onEnterFrame=function(){if(!this._isPause){for(this._currFrame++,this._currTime=cc.director.getTotalTime(),a.default.DebugUtils.start("TimerManager:");this._delHandlers.length;)this.removeHandle(this._delHandlers.pop());for(var e=0;e<this._count;e++){var t=this._handlers[e];if(-1==this._delHandlers.indexOf(t))(t.userFrame?this._currFrame:this._currTime)>=t.exeTime&&(a.default.DebugUtils.start(t.method.toString()),t.method.call(t.methodObj,(this._currTime-t.dealTime)*this._timeScale),a.default.DebugUtils.stop(t.method.toString()),t.dealTime=this._currTime,t.exeTime+=t.delay,t.repeat||(t.repeatCount>1?t.repeatCount--:(t.complateMethod&&t.complateMethod.apply(t.complateMethodObj),-1==this._delHandlers.indexOf(t)&&this._delHandlers.push(t))))}a.default.DebugUtils.stop("TimerManager:")}},t.prototype.removeHandle=function(e){var t=this._handlers.indexOf(e);-1!=t?(this._handlers.splice(t,1),i.default.push(e),this._count--):s.default.warn("what????")},t.prototype.create=function(e,t,n,o,r,a,s){if(!(t<0||n<0||null==o)){this.remove(o,r);var c=i.default.pop("TimerHandle");c.userFrame=e,c.repeat=0==n,c.repeatCount=n,c.delay=t,c.method=o,c.methodObj=r,c.complateMethod=a,c.complateMethodObj=s,c.exeTime=t+(e?this._currFrame:this._currTime),c.dealTime=this._currTime,this._handlers.push(c),this._count++}},t.prototype.setTimeOut=function(e,t,n){this.doTimer(e,1,t,n)},t.prototype.setFrameOut=function(e,t,n){this.doFrame(e,1,t,n)},t.prototype.doTimer=function(e,t,n,o,r,a){void 0===r&&(r=null),void 0===a&&(a=null),this.create(!1,e,t,n,o,r,a)},t.prototype.doFrame=function(e,t,n,o,r,a){void 0===r&&(r=null),void 0===a&&(a=null),this.create(!0,e,t,n,o,r,a)},Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),t.prototype.remove=function(e,t){for(var n=0;n<this._count;n++){var o=this._handlers[n];if(o.method==e&&o.methodObj==t&&-1==this._delHandlers.indexOf(o)){this._delHandlers.push(o);break}}},t.prototype.removeAll=function(e){for(var t=0;t<this._count;t++){var n=this._handlers[t];n.methodObj==e&&-1==this._delHandlers.indexOf(n)&&this._delHandlers.push(n)}},t.prototype.isExists=function(e,t){for(var n=0;n<this._count;n++){var o=this._handlers[n];if(o.method==e&&o.methodObj==t&&-1==this._delHandlers.indexOf(o))return!0}return!1},t.prototype.pause=function(){this._isPause||(this._isPause=!0,this._pauseTime=cc.director.getTotalTime())},t.prototype.resume=function(){if(this._isPause){this._isPause=!1,this._currTime=cc.director.getTotalTime();for(var e=this._currTime-this._pauseTime,t=0;t<this._count;t++){var n=this._handlers[t];n.dealTime+=e,n.userFrame||(n.exeTime+=e)}}},t}(r.default);n.default=c,cc._RF.pop()},{"../App":"App","../base/SingtonClass":"SingtonClass","./Log":"Log","./ObjectPool":"ObjectPool"}],TipManager:[function(e,t,n){"use strict";cc._RF.push(t,"107e0sJhmhEcpIDTWiHsnsN","TipManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../App"),a=e("../base/SingtonClass"),i=e("../UIFrame/config/SysDefine"),s=function(e){function t(){var t=e.call(this)||this;t.root=null,t.label=null,t.node=null,t.root=cc.find(i.SysDefine.SYS_PATH_CANVAS),t.node=new cc.Node;var n=new cc.Node,o=n.addComponent(cc.Sprite);cc.resources.load("res/tipBg",cc.SpriteFrame,function(e,t){e?cc.log("[\u8d44\u6e90\u52a0\u8f7d] \u9519\u8bef "+e):o.spriteFrame=t}),t.node.addChild(n);var r=new cc.Node;r.width=650;var a=r.addComponent(cc.LabelOutline);return a.color=cc.color(43,118,21),a.width=4,t.label=r.addComponent(cc.Label),t.label.fontSize=60,t.label.lineHeight=60,t.label.enableBold=!0,t.label.enableItalic=!0,t.label.overflow=cc.Label.Overflow.RESIZE_HEIGHT,t.label.horizontalAlign=cc.Label.HorizontalAlign.CENTER,t.node.addChild(r),t}return o(t,e),t.prototype.showTip=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=1500),this.node.parent||this.root.addChild(this.node),this.label.string=e,r.default.TimerManager.remove(this.remove,this),r.default.TimerManager.doTimer(n,1,this.remove,this)},t.prototype.remove=function(){this.node.removeFromParent()},t}(a.default);n.default=s,cc._RF.pop()},{"../App":"App","../UIFrame/config/SysDefine":"SysDefine","../base/SingtonClass":"SingtonClass"}],TipsForm:[function(e,t,n){"use strict";cc._RF.push(t,"58ab8XpoRtLK54RafIHR3KV","TipsForm");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../CocosHelper"),c=e("../UIManager"),u=cc._decorator,l=u.ccclass,p=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tips=null,t}var n;return o(t,e),n=t,t.popUp=function(e,t){return a(this,void 0,void 0,function(){var o,r,a;return i(this,function(i){switch(i.label){case 0:return[4,s.default.loadRes(e,cc.Prefab)];case 1:return(o=i.sent())?(r=cc.instantiate(o),(a=r.getComponent(n)).tips.string=t,c.default.getInstance().addTips(r),[4,a.exitAnim()]):[2];case 2:return i.sent(),[2]}})})},t.prototype.start=function(){},t.prototype.exitAnim=function(){return a(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,s.default.runSyncAction(this.node,cc.moveBy(1.2,0,30))];case 1:return e.sent(),this.node.removeFromParent(),this.node.destroy(),[2]}})})},r([p(cc.Label)],t.prototype,"tips",void 0),t=n=r([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../CocosHelper":"CocosHelper","../UIManager":"UIManager"}],TouchPlus:[function(e,t,n){"use strict";cc._RF.push(t,"b1a73ASfNJPE5RHXhCWQA65","TouchPlus");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=15,t.isTouch=!1,t.isClick=!0,t}return o(t,e),t.prototype.addEvent=function(e,t){this.clickEvent=e,this.slideEvent=t},t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},t.prototype.touchStart=function(e){this.isTouch=!0,this.startPosition=e.getLocation()},t.prototype.touchMove=function(e){this.isTouch&&(e.getLocation().sub(this.startPosition).mag()>this.offset&&(this.isClick=!1,this.slideEvent&&this.slideEvent(e)))},t.prototype.touchEnd=function(e){this.isTouch&&(this.isTouch=!1,this.isClick&&this.clickEvent&&this.clickEvent(e),this.isClick=!0)},t.prototype.touchCancel=function(e){this.isTouch&&(this.isTouch=!1,this.isClick=!0)},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this)},t=r([i],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],UIHelper:[function(e,t,n){"use strict";cc._RF.push(t,"6344d3kagJNpJmP1iZjX58S","UIHelper"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./CocosHelper"),r=e("./config/SysDefine"),a=function(){function e(){}return e.getInstance=function(){return null===this.instance&&(this.instance=new e),this.instance},e.prototype.bindComponent=function(e){this.bindNode(e.node,e)},e.prototype.bindNode=function(e,t){t.$collector!==e.uuid?(t.$collector=e.uuid,this._bindSubNode(e,t)):cc.warn("\u91cd\u590d\u7ed1\u5b9a\u9000\u51fa."+e.name)},e.prototype._bindSubNode=function(e,t){var n=this,a=e.name;if(o.default.checkBindChildren(a)){if(o.default.checkNodePrefix(a)){var i=o.default.getPrefixNames(a);if(null===i||2!==i.length||!r.SysDefine.SeparatorMap[i[0]])return void cc.log(a+" \u547d\u4ee4\u4e0d\u89c4\u8303, \u8bf7\u4f7f\u7528_lab$xxx\u7684\u683c\u5f0f!");t[i[0]+"s"]||(cc.log(a[0]+"s\u6ca1\u6709\u5728BaseUIForm\u4e2d\u5b9a\u4e49, \u5e76\u4e0d\u4f1a\u5f71\u54cd\u8fd0\u884c"),t[i[0]+"s"]={}),t[i[0]+"s"][i[1]]&&cc.log(a+" \u5df2\u7ecf\u88ab\u7ed1\u5b9a\u4e86, \u8bf7\u68c0\u67e5\u60a8\u662f\u5426\u51fa\u73b0\u4e86\u91cd\u540d\u7684\u60c5\u51b5!"),"cc.Node"===r.SysDefine.SeparatorMap[i[0]]?t[i[0]+"s"][i[1]]=e:t[i[0]+"s"][i[1]]=e.getComponent(r.SysDefine.SeparatorMap[i[0]])}e.children.forEach(function(e){n._bindSubNode(e,t)})}},e.instance=null,e}();n.default=a,cc._RF.pop()},{"./CocosHelper":"CocosHelper","./config/SysDefine":"SysDefine"}],UIIndependentManager:[function(e,t,n){"use strict";cc._RF.push(t,"c2580keFPRPubhqZDTLO71z","UIIndependentManager");var o=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},r=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./UIManager"),s=cc._decorator,c=s.ccclass,u=(s.property,function(){function e(){}var t;return t=e,e.getInstance=function(){return null==this.Instance&&(this.Instance=new t),this.Instance},e.prototype.setLoadingForm=function(e){return r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.loadingFormName=e,[4,i.default.getInstance().loadUIForms(this.loadingFormName)];case 1:return t.sent(),[2]}})})},e.prototype.showLoadingForm=function(){return r(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,i.default.getInstance().showUIForm(this.loadingFormName)];case 1:return e.sent(),[2]}})})},e.prototype.hideLoadingForm=function(){i.default.getInstance().closeUIForm(this.loadingFormName)},e.Instance=null,e=t=o([c],e)}());n.default=u,cc._RF.pop()},{"./UIManager":"UIManager"}],UILoader:[function(e,t,n){"use strict";cc._RF.push(t,"55707VX9S9Az5YCwj6a3k1F","UILoader");var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./CocosHelper"),i=e("../App"),s=e("../game/gameConst/EventConst"),c=function(){function e(){this.staticDepends=cc.js.createMap(),this.dynamicDepends=cc.js.createMap(),this.tmpStaticDepends=[]}return e.getInstance=function(){return null===this.instance&&(this.instance=new e),this.instance},e.prototype._addTmpStaticDepends=function(e,t,n){this.tmpStaticDepends[this.tmpStaticDepends.length]=n.url,this.staticDepends[n.url]?this.staticDepends[n.url]++:this.staticDepends[n.url]=1,0!=t&&i.default.MessageCenter.dispatch(s.default.Loading,e,t,n)},e.prototype._clearTmpStaticDepends=function(){for(var e=0,t=this.tmpStaticDepends;e<t.length;e++){var n=t[e];this.staticDepends[n]&&0!==this.staticDepends[n]&&(this.staticDepends[n]--,0===this.staticDepends[n]&&delete this.staticDepends[n])}this.tmpStaticDepends=[]},e.prototype.loadForm=function(e){return o(this,void 0,void 0,function(){var t,n;return r(this,function(o){switch(o.label){case 0:return[4,a.default.loadRes(e,cc.Prefab,this._addTmpStaticDepends.bind(this))];case 1:return t=o.sent(),this._clearTmpStaticDepends(),n=cc.loader.getDependsRecursively(e),this.addStaticDepends(n),[2,t]}})})},e.prototype.loadForms=function(e){return o(this,void 0,void 0,function(){var t,n=this;return r(this,function(o){switch(o.label){case 0:return[4,a.default.loadResArray(e,cc.Prefab,this._addTmpStaticDepends.bind(this))];case 1:return t=o.sent(),e.forEach(function(e){n._clearTmpStaticDepends();var t=cc.loader.getDependsRecursively(e);n.addStaticDepends(t)}),[2,t]}})})},e.prototype.destoryForm=function(e){if(e){var t=cc.loader.getDependsRecursively(e.UIFormName);this.removeStaticDepends(t),e.node.destroy(),cc.loader.releaseRes(e.UIFormName)}else cc.log("\u53ea\u652f\u6301\u9500\u6bc1\u7ee7\u627f\u4e86BaseUIForm\u7684\u7a97\u4f53!")},e.prototype.addStaticDepends=function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t];this.staticDepends[o]?this.staticDepends[o]+=1:this.staticDepends[o]=1}},e.prototype.removeStaticDepends=function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t];this.staticDepends[o]&&0!==this.staticDepends[o]&&(this.staticDepends[o]--,0===this.staticDepends[o]&&(cc.loader.release(o),delete this.staticDepends[o]))}},e.prototype.loadDynamicRes=function(e,t,n){return o(this,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return[4,a.default.loadRes(e,t)];case 1:return o=r.sent(),n||(n=e),this.dynamicDepends[n]||(this.dynamicDepends[n]=[]),this.dynamicDepends[n].push(e),[2,o]}})})},e.prototype.destoryDynamicRes=function(e){if(!this.dynamicDepends[e])return!1;for(var t in this.dynamicDepends)cc.loader.release(this.dynamicDepends[t]);return!0},e.instance=null,e}();n.default=c,cc._RF.pop()},{"../App":"App","../game/gameConst/EventConst":"EventConst","./CocosHelper":"CocosHelper"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"f18581vC/JBkoXNDtnFIDo4","UIManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./BaseUIForm"),c=e("./config/SysDefine"),u=e("./UIIndependentManager"),l=e("./UILoader"),p=cc._decorator,d=p.ccclass,f=(p.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._NoNormal=null,t._NoFixed=null,t._NoPopUp=null,t._NoIndependent=null,t._NoTips=null,t._StaCurrentUIForms=[],t._MapAllUIForms=cc.js.createMap(),t._MapCurrentShowUIForms=cc.js.createMap(),t._MapIndependentForms=cc.js.createMap(),t._LoadingForm=cc.js.createMap(),t}var n;return o(t,e),n=t,t.getInstance=function(){var e=this;return null==this._Instance&&(this._Instance=cc.find(c.SysDefine.SYS_UIROOT_NAME).addComponent(this),cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){e._Instance=null})),this._Instance},t.prototype.onLoad=function(){this._NoNormal=this.node.getChildByName(c.SysDefine.SYS_NORMAL_NODE),this._NoFixed=this.node.getChildByName(c.SysDefine.SYS_FIXED_NODE),this._NoPopUp=this.node.getChildByName(c.SysDefine.SYS_POPUP_NODE),this._NoIndependent=this.node.getChildByName(c.SysDefine.SYS_INDEPENDENT_NODE),this._NoTips=this.node.getChildByName(c.SysDefine.SYS_TIPS_NODE)},t.prototype.start=function(){},t.prototype.getUIForm=function(e){return this._MapAllUIForms[e]},t.prototype.addTips=function(e,t){this._NoTips.addChild(e,t)},t.prototype.loadUIForms=function(e){return a(this,void 0,void 0,function(){var t,n,o;return i(this,function(r){switch(r.label){case 0:return"string"!=typeof e?[3,2]:[4,this.loadFormsToAllUIFormsCatch(e)];case 1:return r.sent(),[3,7];case 2:return[4,l.default.getInstance().loadForms(e)];case 3:r.sent(),t=0,n=e,r.label=4;case 4:return t<n.length?(o=n[t],[4,this.loadFormsToAllUIFormsCatch(o)]):[3,7];case 5:r.sent(),r.label=6;case 6:return t++,[3,4];case 7:return[2]}})})},t.prototype.preloadUIForms=function(e){cc.resources.preload(e,cc.Prefab)},t.prototype.showUIFormWithLoading=function(e,t){return a(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return[4,n.getInstance().showUIForm(e,t,!0)];case 1:return o.sent(),[2]}})})},t.prototype.checkUIFormIsShowing=function(e){var t=this._MapAllUIForms[e];return null!=t&&t.node.active},t.prototype.showUIForm=function(e,t,n){return void 0===n&&(n=!1),a(this,void 0,void 0,function(){var o;return i(this,function(r){switch(r.label){case 0:return""===e||null==e?[2]:this.checkUIFormIsShowing(e)?(cc.log(e+"\u7a97\u4f53\u5df2\u7ecf\u5728\u663e\u793a"),[2]):n?[4,u.default.getInstance().showLoadingForm()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,this.loadFormsToAllUIFormsCatch(e)];case 3:if(null==(o=r.sent()))return cc.log(e+"\u53ef\u80fd\u6b63\u5728\u52a0\u8f7d\u4e2d"),[2];switch(o.UIFormName=e,o.UIType.IsClearStack&&this.clearStackArray(),o.UIType.UIForms_ShowMode){case c.UIFormShowMode.Normal:this.loadUIToCurrentCache(e,t);break;case c.UIFormShowMode.ReverseChange:this.pushUIFormToStack(e,t);break;case c.UIFormShowMode.HideOther:this.enterUIFormsAndHideOther(e,t);break;case c.UIFormShowMode.Independent:this.loadUIFormsToIndependent(e,t)}return[2,o]}})})},t.prototype.closeUIForm=function(e){if(""!=e&&null!=e){var t=this._MapAllUIForms[e];if(null!=t){switch(t.UIType.UIForms_ShowMode){case c.UIFormShowMode.Normal:this.exitUIForms(e);break;case c.UIFormShowMode.ReverseChange:this.popUIForm();break;case c.UIFormShowMode.HideOther:this.exitUIFormsAndDisplayOther(e);break;case c.UIFormShowMode.Independent:this.exitIndependentForms(e)}t.CloseAndDestory&&this.destoryForm(t,e)}}},t.prototype.loadFormsToAllUIFormsCatch=function(e){return a(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return null!=(t=this._MapAllUIForms[e])||this._LoadingForm[e]?[3,2]:(this._LoadingForm[e]=!0,[4,this.loadUIForm(e)]);case 1:t=n.sent(),this._LoadingForm[e]=!1,delete this._LoadingForm[e],n.label=2;case 2:return[2,t]}})})},t.prototype.loadUIForm=function(e){return a(this,void 0,void 0,function(){var t,o,r;return i(this,function(a){switch(a.label){case 0:return""==e||null==e?[2]:[4,l.default.getInstance().loadForm(e)];case 1:if(t=a.sent(),o=cc.instantiate(t),null==(r=o.getComponent(s.default)))return[2];switch(o.active=!1,r.UIType.UIForms_Type){case c.UIFormType.Normal:n.getInstance()._NoNormal.addChild(o);break;case c.UIFormType.Fixed:n.getInstance()._NoFixed.addChild(o);break;case c.UIFormType.PopUp:n.getInstance()._NoPopUp.addChild(o);break;case c.UIFormType.Independent:n.getInstance()._NoIndependent.addChild(o)}return this._MapAllUIForms[e]=r,[2,r]}})})},t.prototype.clearStackArray=function(){return null!=this._StaCurrentUIForms&&this._StaCurrentUIForms.length>=1&&(this._StaCurrentUIForms=[],!0)},t.prototype.closeStackTopUIForm=function(){if(null!=this._StaCurrentUIForms&&this._StaCurrentUIForms.length>=1){var e=this._StaCurrentUIForms[this._StaCurrentUIForms.length-1];e.MaskType.ClickMaskClose&&e.closeUIForm()}},t.prototype.loadUIToCurrentCache=function(e,t){return a(this,void 0,void 0,function(){var n;return i(this,function(o){switch(o.label){case 0:return null,n=null,null!=this._MapCurrentShowUIForms[e]?[2]:null==(n=this._MapAllUIForms[e])?[3,2]:[4,n.__preInit(t)];case 1:o.sent(),this._MapCurrentShowUIForms[e]=n,n.disPlay(),o.label=2;case 2:return[2]}})})},t.prototype.pushUIFormToStack=function(e,t){return a(this,void 0,void 0,function(){var n;return i(this,function(o){switch(o.label){case 0:return this._StaCurrentUIForms.length>0&&this._StaCurrentUIForms[this._StaCurrentUIForms.length-1].freeze(),null==(n=this._MapAllUIForms[e])?[2]:[4,n.__preInit(t)];case 1:return o.sent(),this._StaCurrentUIForms.push(n),n.node.zIndex=this._StaCurrentUIForms.length-1,n.disPlay(),[2]}})})},t.prototype.enterUIFormsAndHideOther=function(e,t){return a(this,void 0,void 0,function(){var n,o,r=this;return i(this,function(a){switch(a.label){case 0:if(null!=this._MapCurrentShowUIForms[e])return[2];for(n in this._MapCurrentShowUIForms)this._MapCurrentShowUIForms[n].hide(),this._MapCurrentShowUIForms[n]=null,delete this._MapCurrentShowUIForms[n];return this._StaCurrentUIForms.forEach(function(e){e.hide(),r._MapCurrentShowUIForms[e.UIFormName]=null,delete r._MapCurrentShowUIForms[e.UIFormName]}),null==(o=this._MapAllUIForms[e])?[2]:[4,o.__preInit(t)];case 1:return a.sent(),this._MapCurrentShowUIForms[e]=o,o.disPlay(),[2]}})})},t.prototype.loadUIFormsToIndependent=function(e,t){return a(this,void 0,void 0,function(){var n;return i(this,function(o){switch(o.label){case 0:return null==(n=this._MapAllUIForms[e])?[2]:[4,n.__preInit(t)];case 1:return o.sent(),this._MapIndependentForms[e]=n,n.disPlay(),[2]}})})},t.prototype.exitUIForms=function(e){var t=this._MapAllUIForms[e];null!=t&&(t.hide(),this._MapCurrentShowUIForms[e]=null,delete this._MapCurrentShowUIForms[e])},t.prototype.popUIForm=function(){if(this._StaCurrentUIForms.length>=2)this._StaCurrentUIForms.pop().hide(),this._StaCurrentUIForms[this._StaCurrentUIForms.length-1].reDisPlay();else if(this._StaCurrentUIForms.length>=1){this._StaCurrentUIForms.pop().hide()}},t.prototype.exitUIFormsAndDisplayOther=function(e){if(""!=e&&null!=e){var t=this._MapCurrentShowUIForms[e];null!=t&&(t.hide(),this._MapCurrentShowUIForms[e]=null,delete this._MapCurrentShowUIForms[e])}},t.prototype.exitIndependentForms=function(e){var t=this._MapAllUIForms[e];null!=t&&(t.hide(),this._MapIndependentForms[e]=null,delete this._MapIndependentForms[e])},t.prototype.destoryForm=function(e,t){l.default.getInstance().destoryForm(e),this._MapAllUIForms[t]=null,delete this._MapAllUIForms[t]},t._Instance=null,t=n=r([d],t)}(cc.Component));n.default=f,cc._RF.pop()},{"./BaseUIForm":"BaseUIForm","./UIIndependentManager":"UIIndependentManager","./UILoader":"UILoader","./config/SysDefine":"SysDefine"}],UIMaskManager:[function(e,t,n){"use strict";cc._RF.push(t,"e17d0mmNLxJFJw4BTaEbArI","UIMaskManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.MaskNodePool=void 0;var a=e("./config/SysDefine"),i=e("./UIMaskScript"),s=e("./BaseUIForm"),c=cc._decorator,u=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uiMaskScript=null,t.maskTexture=null,t}return o(t,e),t.getInstance=function(){return null==this.instance&&(this.instance=cc.find(a.SysDefine.SYS_UIMASK_NAME).addComponent(this)),this.instance},t.prototype.addMaskWindow=function(e){!e.getChildByName("UIMaskNode")&&e.getComponent(s.default)&&(this.uiMaskScript=p.getInstance().get(e))},t.prototype.showMask=function(e,t,n){this.uiMaskScript.showMaskUI(e,n,t)},t.prototype.removeMaskWindow=function(e){p.getInstance().put(e)},t.instance=null,t=r([u],t)}(cc.Component));n.default=l;var p=function(){function e(){this.pool=[]}return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.init=function(){for(var e=0;e<3;e++){var t=new cc.Node("UIMaskNode").addComponent(i.default);t.init(),this.pool.push(t)}},e.prototype.get=function(e){this.pool.length<=0&&this.init();var t=this.pool.pop();return t.reUse(e.getComponent(s.default).UIFormName),e.addChild(t.node,-1),t},e.prototype.put=function(e){var t=e.getChildByName("UIMaskNode");if(!t||!t.getComponent(i.default))return cc.log("\u4e0d\u662f\u5bf9\u5e94\u7c7b\u578b\u7684\u7ed3\u70b9, \u65e0\u6cd5\u56de\u6536!"),!1;t.removeFromParent();var n=t.getComponent(i.default);return n.unUse(),this.pool.push(n),!0},e.prototype.clear=function(){for(var e=0,t=this.pool;e<t.length;e++){t[e].unUse()}this.pool=[]},e.instance=null,e}();n.MaskNodePool=p,cc._RF.pop()},{"./BaseUIForm":"BaseUIForm","./UIMaskScript":"UIMaskScript","./config/SysDefine":"SysDefine"}],UIMaskScript:[function(e,t,n){"use strict";cc._RF.push(t,"75bb8n+eo1EP79Ina/3JlKx","UIMaskScript");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):r(e.value).then(i,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./UIManager"),c=e("./config/SysDefine"),u=cc._decorator,l=u.ccclass,p=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._texture=null,t}return o(t,e),t.prototype.getSingleTexture=function(){if(this._texture)return this._texture;for(var e=new Uint8Array(16),t=0;t<2;t++)for(var n=0;n<2;n++)e[2*t*4+4*n+0]=255,e[2*t*4+4*n+1]=255,e[2*t*4+4*n+2]=255,e[2*t*4+4*n+3]=255;var o=new cc.Texture2D;return o.initWithData(e,cc.Texture2D.PixelFormat.RGBA8888,2,2),o.handleLoadedTexture(),this._texture=o,this._texture},t.prototype.init=function(){return a(this,void 0,void 0,function(){var e,t,n;return i(this,function(o){return e=this.getSingleTexture(),this.node.addComponent(cc.Button),this.node.on("click",this._clickMaskWindow,this),(t=this.node.addComponent(cc.Sprite)).sizeMode=cc.Sprite.SizeMode.CUSTOM,t.spriteFrame=new cc.SpriteFrame(e),this.node.color=new cc.Color(0,0,0),this.node.opacity=0,this.node.active=!0,(n=this.node.addComponent(cc.Widget)).isAlignLeft=!0,n.isAlignTop=!0,n.isAlignRight=!0,n.isAlignBottom=!0,n.left=0,n.top=0,n.right=0,n.bottom=0,[2]})})},t.prototype.reUse=function(e){this.UIFormName=e},t.prototype.unUse=function(){this.UIFormName="",this.node.opacity=0,this.node.active=!0,cc.tween(this.node).stop()},t.prototype.showMaskUI=function(e,t,n){void 0===t&&(t=.6),void 0===n&&(n=!0);var o=0;switch(e){case c.UIFormLucenyType.Lucency:o=0;break;case c.UIFormLucenyType.ImPenetrable:o=63;break;case c.UIFormLucenyType.Translucence:o=178;break;case c.UIFormLucenyType.Pentrate:this.node.active=!1}n?cc.tween(this.node).to(t,{opacity:o}).start():this.node.opacity=o},t.prototype._clickMaskWindow=function(){s.default.getInstance().closeStackTopUIForm()},t=r([l],t)}(cc.Component));n.default=p,cc._RF.pop()},{"./UIManager":"UIManager","./config/SysDefine":"SysDefine"}],UIScrollPage:[function(e,t,n){"use strict";cc._RF.push(t,"aa2a0kiasdL/YU4QhIUxlrL","UIScrollPage");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maxPage=0,t.selectSprite=null,t.unSelectSprite=null,t.currentIndex=0,t.spArr=[],t}return o(t,e),t.prototype.onLoad=function(){this.node.removeAllChildren()},t.prototype.setMaxPage=function(e){this.maxPage=e;for(var t=0;t<e;t++){var n=new cc.Node,o=n.addComponent(cc.Sprite);o.spriteFrame=this.unSelectSprite,this.node.addChild(n),this.spArr.push(o)}this.scrollTo(0)},t.prototype.scrollTo=function(e){var t=this.spArr[this.currentIndex];t&&(t.spriteFrame=this.unSelectSprite),this.currentIndex=e;var n=this.spArr[this.currentIndex];n&&(n.spriteFrame=this.selectSprite)},r([s],t.prototype,"maxPage",void 0),r([s(cc.SpriteFrame)],t.prototype,"selectSprite",void 0),r([s(cc.SpriteFrame)],t.prototype,"unSelectSprite",void 0),t=r([i],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],UIScrollSelect:[function(e,t,n){"use strict";cc._RF.push(t,"2c5b54HAs9KdZ9qoPZhyqxX","UIScrollSelect");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.EventType=void 0;var a,i=e("./UIScrollPage"),s=cc._decorator,c=s.ccclass,u=s.property;(function(e){e[e.SCROLL_START=0]="SCROLL_START",e[e.SCROLL_ING=1]="SCROLL_ING",e[e.SCROLL_END=2]="SCROLL_END"})(a=n.EventType||(n.EventType={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=null,t.deltaX=100,t.centerScale=1,t.minScale=1,t.scrollSpeed=300,t.selectEvents=[],t.scrollPage=null,t.childs=[],t.isTouching=!1,t.hasTouchMove=!1,t.isTestX=!1,t._touchId=null,t.currentIndex=0,t._toMoveX=1,t.dx=0,t.moveAim=0,t}return o(t,e),t.prototype.onLoad=function(){this.isTouching=!1,this.hasTouchMove=!1,this.isTestX=!1,this._touchId=null},t.prototype.initList=function(e,t,n,o){this.childs=[];for(var r=0;r<e;r++){var a=cc.instantiate(t);this.content.addChild(a),this.childs[r]=a,this.childs[r].x=this.deltaX*(r-1)}n&&o&&n.call(o)},t.prototype.updateList=function(e,t,n){void 0===n&&(n=0);for(var o=this.childs.length,r=0;r<o;r++){var a=this.childs[r];e.call(t,a,r)}this.scrollTo(n,!1)},t.prototype.scrollTo=function(e,t){if(void 0===t&&(t=!0),e<0&&e>=this.childs.length)return console.error(this.node.name+"->\u79fb\u52a8\u8d85\u51fa\u8fb9\u754c\u9762");if(this.currentIndex=e,this.moveAim=e,t){this.isTestX=!0;var n={target:this,type:a.SCROLL_START,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,n)}else{for(var o=0;o<this.childs.length;o++)this._checkChildX(this.childs[o],(o-e)*this.deltaX);this.scrollPage&&this.scrollPage.scrollTo(this.currentIndex)}},t.prototype.scrollToLeft=function(){this._toMoveX=1,this.scrollTo((this.currentIndex-1+this.childs.length)%this.childs.length)},t.prototype.scrollToRight=function(){this._toMoveX=-1,this.scrollTo((this.currentIndex+1+this.childs.length)%this.childs.length)},t.prototype._checkChildX=function(e,t){t>this.childs.length/2*this.deltaX?t-=this.childs.length*this.deltaX:t<-this.childs.length/2*this.deltaX&&(t+=this.childs.length*this.deltaX),e.x=t;var n=Math.min(Math.abs(t),this.deltaX);e.scale=(1-n/this.deltaX)*(this.centerScale-this.minScale)+this.minScale},t.prototype.start=function(){this.content.on(cc.Node.EventType.TOUCH_START,this._onTouch,this),this.content.on(cc.Node.EventType.TOUCH_MOVE,this._onTouch,this),this.content.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.content.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.scrollPage&&this.scrollPage.setMaxPage(this.childs.length)},t.prototype._onTouch=function(e){if(null==this._touchId||e.touch==this._touchId)if(e.type!=cc.Node.EventType.TOUCH_START){this.hasTouchMove=!0;var t=e.getDeltaX();this._move(t),this.dx+=t;var n={target:this,type:a.SCROLL_ING,dx:this.dx};cc.Component.EventHandler.emitEvents(this.selectEvents,n)}else{this.isTouching=!0,this.hasTouchMove=!1,this.isTestX=!1,this._touchId=e.touch,this.dx=0;var o={target:this,type:a.SCROLL_START,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,o)}},t.prototype._onTouchEnd=function(e){if(null==this._touchId||e.touch==this._touchId){this.isTouching=!1,e.type!=cc.Node.EventType.TOUCH_END&&e.type!=cc.Node.EventType.TOUCH_CANCEL||(this._touchId=null);var t=this.node.convertToNodeSpaceAR(e.getLocation());if(this.hasTouchMove){var n=this.currentIndex,o=this.childs[this.currentIndex],r=this.deltaX/5;n=o.x<=-r?this.currentIndex+1>=this.childs.length?0:this.currentIndex+1:o.x>=r?this.currentIndex-1<0?this.childs.length-1:this.currentIndex-1:this.currentIndex,this.moveAim=n,this._toMoveX=this.childs[n].x>=0?-1:1,this.isTestX=0!=this.dx}else{var i=Math.ceil((t.x-this.deltaX/2)/this.deltaX);if(0===i){var s={target:this,type:a.SCROLL_END,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,s)}else this.moveAim=(this.currentIndex+i+this.childs.length)%this.childs.length,this._toMoveX=i>0?-1:1,this.isTestX=!0}}},t.prototype._move=function(e){for(var t=0;t<this.childs.length;t++)this._checkChildX(this.childs[t],this.childs[t].x+e)},t.prototype.update=function(e){if(!this.isTouching&&this.isTestX){for(var t=this._toMoveX*e*this.scrollSpeed,n=this.childs[this.moveAim].x,o=0;o<this.childs.length;o++)this._checkChildX(this.childs[o],this.childs[o].x+t);var r=this.childs[0].x,i=Math.round(r/this.deltaX),s=this.deltaX*i,c=this.childs[this.moveAim].x;if(n*c<0&&Math.abs(c)<this.deltaX){this.isTestX=!1;for(var u=0;u<this.childs.length;u++)if(Math.abs(this.childs[u].x)<=Math.abs(t)){this.currentIndex=u;break}for(o=0;o<this.childs.length;o++)this._checkChildX(this.childs[o],this.childs[o].x+s-r);var l={target:this,type:a.SCROLL_END,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,l),console.log("\u8df3\u8f6c\u5230",this.currentIndex),this.scrollPage&&this.scrollPage.scrollTo(this.currentIndex)}}},t.EventType=a,r([u(cc.Node)],t.prototype,"content",void 0),r([u({type:cc.Integer,tooltip:"\u5355\u4e2a\u63a7\u4ef6\u4e4b\u95f4\u7684\u8ddd\u79bb"})],t.prototype,"deltaX",void 0),r([u({type:cc.Float,tooltip:"\u4e2d\u5fc3\u70b9\u7684\u7f29\u653e\u6bd4\u4f8b"})],t.prototype,"centerScale",void 0),r([u({type:cc.Float,tooltip:"\u8fb9\u7f18\u70b9\u7684\u7f29\u653e\u6bd4\u4f8b"})],t.prototype,"minScale",void 0),r([u({type:cc.Float,tooltip:"\u6eda\u52a8\u65f6\u7684\u901f\u5ea6"})],t.prototype,"scrollSpeed",void 0),r([u({type:cc.Component.EventHandler,tooltip:"\u9009\u62e9\u540e\u7684\u56de\u8c03"})],t.prototype,"selectEvents",void 0),r([u(i.default)],t.prototype,"scrollPage",void 0),t=r([c],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./UIScrollPage":"UIScrollPage"}],Wall:[function(e,t,n){"use strict";cc._RF.push(t,"9ddf3l8Vp5P44DH2guF9Foq","Wall");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../utils/DebugUtils"),i=cc._decorator,s=i.ccclass,c=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){a.log("start")},t.prototype.onCollisionEnter=function(e,t){var n=e.node.getPosition();e.node.setPosition(-.95*n.x,n.y)},t=r([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{"../../utils/DebugUtils":"DebugUtils"}],WebInterFaceManager:[function(e,t,n){"use strict";cc._RF.push(t,"27ad18eHxxB+69XCFxz1b8b","WebInterFaceManager");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.APIIntrerFaceBack=n.APIIntrerFaceCall=n.INIT_WEB_RUL=n.MOTHOD_POST=n.MOTHOD_GET=n.TOOLS_INFO_URL=void 0;var a=e("../MXInterFace/InterFaceManager"),i=cc._decorator,s=i.ccclass;i.property;n.TOOLS_INFO_URL="/v1/game/props?gameId=",n.MOTHOD_GET="GET",n.MOTHOD_POST="POST",n.INIT_WEB_RUL=function(){n.TOOLS_INFO_URL=n.TOOLS_INFO_URL+a.game_id},n.APIIntrerFaceCall=function(e,t,n,o){var r={"x-game-code":t},a={url:e,header:JSON.stringify(r),body:o,method:n};cc.game.on("network",this.APIIntrerFaceBack,this),window.gameManager.invoke("network","request",JSON.stringify(a))},n.APIIntrerFaceBack=function(e,t){if(0==t.status)if(200==t.result.statusCode){var n=t.header["x-game-code"];cc.game.emit(n,t)}else cc.game.emit("networkERR");else cc.game.emit("networkERR")};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t=r([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../MXInterFace/InterFaceManager":"InterFaceManager"}],encryption_1:[function(e,t,n){"use strict";cc._RF.push(t,"d3422KvISVPla4SBflX85II","encryption_1");var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,a=arguments.length,i=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(a<3?r(i):a>3?r(t,n,i):r(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i};Object.defineProperty(n,"__esModule",{value:!0}),n.lkdsjgd=n.fdsfdsfnb=n.encryption=n.dfdsfds=n.sdhkas=n.ehfjkeshfkds=n.hgsdg=n.jkldjs=n.fdsjfhw=n.sdfdsgd=n.etygdg=n.thrthfgh=n.dfger=n.dfdsfew=n.khdfkjsdhfk=n.kgigi=n.greger=n.gdfsr3t=n.ijlhfew=n.beryerw=n.hjkdnfds=n.uertdfh=n.dsgreger=n.kghty=n.yrw6yery=n.getInfo=n.jghity=n.hduy=n.sdrfyer=n.euwhsdn=n.ikuyiyt=n.sdfyery=n.utertyur=n.ewtrey5er=n.klilot=n.wqterwt=n.qoiwhdksh=n.ioeks=n.iuyi567=n.j=n.dsgwer=n.kuyto=n.sedryerw=n.mnkdshfo=n.rqewrqwe=n.kryr=n.eijwuioewj=n.d=n.eryewry=n.dsafger=n.hiosdhfoe=n.outyou=void 0;var a=cc._decorator,i=a.ccclass;a.property;n.outyou=function(e){return e+100},n.hiosdhfoe=function(e){return e+79156},n.dsafger=function(e){return 2*e},n.eryewry=function(e){return e-50},n.d=function(e){return 4*e},n.eijwuioewj=function(e){return e+3681},n.kryr=function(e){return e+2},n.rqewrqwe=function(e){return e-3},n.mnkdshfo=function(e){return e-46218},n.sedryerw=function(e){return 2*e},n.kuyto=function(e){return e+15},n.dsgwer=function(e){return e-6},n.j=function(e){return e-9},n.iuyi567=function(e){return e-100},n.ioeks=function(e){return e+91},n.qoiwhdksh=function(e){return e-7613},n.wqterwt=function(e){return e+1575},n.klilot=function(e){return e-325},n.ewtrey5er=function(e){return e-3481},n.utertyur=function(e){return e+6848},n.sdfyery=function(e){return e-45},n.ikuyiyt=function(e){return e+26},n.euwhsdn=function(e){return e-81},n.sdrfyer=function(e){return 3*e},n.hduy=function(e){return e+5},n.jghity=function(e){return e-6515},n.getInfo=function(e,t,o){n.dfdsfds();var r=n.fdsfdsfnb(e),a=n.lkdsjgd();n.dfdsfds();var i=n.fdsfdsfnb(t),s=n.lkdsjgd();return n.dfdsfds(),{number_0:1,number_1:r,number_2:i,number_3:n.fdsfdsfnb(o),number_4:a,number_5:s,number_6:n.lkdsjgd()}},n.yrw6yery=function(e){return e+1231},n.kghty=function(e){return e-45356},n.dsgreger=function(e){return e+35648},n.uertdfh=function(e){return e-3549},n.hjkdnfds=function(e){return e-985},n.beryerw=function(e){return e+8481},n.ijlhfew=function(e){return e+874},n.gdfsr3t=function(e){return e-9895},n.greger=function(e){return 2*e},n.kgigi=function(e){return e+17},n.khdfkjsdhfk=function(e){return e+28},n.dfdsfew=function(e){return e+17},n.dfger=function(e){return e+14},n.thrthfgh=function(e){return e+8},n.etygdg=function(e){return e+13},n.sdfdsgd=function(){var e=n.kgigi(0);return e=n.khdfkjsdhfk(e),e=n.dfdsfew(e),e=n.dfger(e),e=n.thrthfgh(e),e=n.etygdg(e)},n.fdsjfhw=function(e,t){var n=t-e,o=Math.random();return e+Math.round(o*n)},n.jkldjs=new Array,n.hgsdg=new Array,n.ehfjkeshfkds=function(e,t){return 1==t?n.hduy(e):2==t?n.ioeks(e):3==t?n.ijlhfew(e):4==t?n.eijwuioewj(e):5==t?n.hiosdhfoe(e):6==t?n.euwhsdn(e):7==t?n.hjkdnfds(e):8==t?n.qoiwhdksh(e):9==t?n.mnkdshfo(e):void 0},n.sdhkas=function(){n.jkldjs.push({}),n.jkldjs.push(n.hduy),n.jkldjs.push(n.ioeks),n.jkldjs.push(n.ijlhfew),n.jkldjs.push(n.eijwuioewj),n.jkldjs.push(n.hiosdhfoe),n.jkldjs.push(n.euwhsdn),n.jkldjs.push(n.hjkdnfds),n.jkldjs.push(n.qoiwhdksh),n.jkldjs.push(n.mnkdshfo)},n.dfdsfds=function(){n.hgsdg=new Array,n.hgsdg.push("1");for(var e=1;e<10;e++){var t=n.fdsjfhw(1,9);n.hgsdg.push(t+"")}},n.encryption=function(e){return e},n.fdsfdsfnb=function(e){for(var t=1;t<10;t++){var o=parseInt(n.hgsdg[t]);e=n.ehfjkeshfkds(e,o)}return e*n.sdfdsgd()},n.lkdsjgd=function(){for(var e="",t=9;t>0;t--)e+=n.hgsdg[t];return parseInt(e)};var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.start=function(){},t=r([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],md5:[function(e,t,n){"use strict";cc._RF.push(t,"eddf4DHc/JHjZUf8JTa+hbJ","md5");var o=function(){function e(){this.hexcase=0,this.b64pad=""}return e.prototype.hex_md5=function(e){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.b64_md5=function(e){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.any_md5=function(e,t){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)),t)},e.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.b64_hmac_md5=function(e,t){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.any_hmac_md5=function(e,t,n){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)),n)},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},e.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},e.prototype.rstr_hmac_md5=function(e,t){var n=this.rstr2binl(e);n.length>16&&(n=this.binl_md5(n,8*e.length));for(var o=Array(16),r=Array(16),a=0;a<16;a++)o[a]=909522486^n[a],r[a]=1549556828^n[a];var i=this.binl_md5(o.concat(this.rstr2binl(t)),512+8*t.length);return this.binl2rstr(this.binl_md5(r.concat(i),640))},e.prototype.rstr2hex=function(e){try{this.hexcase}catch(e){this.hexcase=0}for(var t,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",o="",r=0;r<e.length;r++)t=e.charCodeAt(r),o+=n.charAt(t>>>4&15)+n.charAt(15&t);return o},e.prototype.rstr2b64=function(e){try{this.b64pad}catch(e){this.b64pad=""}for(var t="",n=e.length,o=0;o<n;o+=3)for(var r=e.charCodeAt(o)<<16|(o+1<n?e.charCodeAt(o+1)<<8:0)|(o+2<n?e.charCodeAt(o+2):0),a=0;a<4;a++)8*o+6*a>8*e.length?t+=this.b64pad:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>>6*(3-a)&63);return t},e.prototype.rstr2any=function(e,t){var n,o,r,a,i,s=t.length,c=Array(Math.ceil(e.length/2));for(n=0;n<c.length;n++)c[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);var u=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),l=Array(u);for(o=0;o<u;o++){for(i=Array(),a=0,n=0;n<c.length;n++)a=(a<<16)+c[n],a-=(r=Math.floor(a/s))*s,(i.length>0||r>0)&&(i[i.length]=r);l[o]=a,c=i}var p="";for(n=l.length-1;n>=0;n--)p+=t.charAt(l[n]);return p},e.prototype.str2rstr_utf8=function(e){for(var t,n,o="",r=-1;++r<e.length;)t=e.charCodeAt(r),n=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),r++),t<=127?o+=String.fromCharCode(t):t<=2047?o+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?o+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(o+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return o},e.prototype.str2rstr_utf16le=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n),e.charCodeAt(n)>>>8&255);return t},e.prototype.str2rstr_utf16be=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)>>>8&255,255&e.charCodeAt(n));return t},e.prototype.rstr2binl=function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},e.prototype.binl2rstr=function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t},e.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,o=-271733879,r=-1732584194,a=271733878,i=0;i<e.length;i+=16){var s=n,c=o,u=r,l=a;n=this.md5_ff(n,o,r,a,e[i+0],7,-680876936),a=this.md5_ff(a,n,o,r,e[i+1],12,-389564586),r=this.md5_ff(r,a,n,o,e[i+2],17,606105819),o=this.md5_ff(o,r,a,n,e[i+3],22,-1044525330),n=this.md5_ff(n,o,r,a,e[i+4],7,-176418897),a=this.md5_ff(a,n,o,r,e[i+5],12,1200080426),r=this.md5_ff(r,a,n,o,e[i+6],17,-1473231341),o=this.md5_ff(o,r,a,n,e[i+7],22,-45705983),n=this.md5_ff(n,o,r,a,e[i+8],7,1770035416),a=this.md5_ff(a,n,o,r,e[i+9],12,-1958414417),r=this.md5_ff(r,a,n,o,e[i+10],17,-42063),o=this.md5_ff(o,r,a,n,e[i+11],22,-1990404162),n=this.md5_ff(n,o,r,a,e[i+12],7,1804603682),a=this.md5_ff(a,n,o,r,e[i+13],12,-40341101),r=this.md5_ff(r,a,n,o,e[i+14],17,-1502002290),o=this.md5_ff(o,r,a,n,e[i+15],22,1236535329),n=this.md5_gg(n,o,r,a,e[i+1],5,-165796510),a=this.md5_gg(a,n,o,r,e[i+6],9,-1069501632),r=this.md5_gg(r,a,n,o,e[i+11],14,643717713),o=this.md5_gg(o,r,a,n,e[i+0],20,-373897302),n=this.md5_gg(n,o,r,a,e[i+5],5,-701558691),a=this.md5_gg(a,n,o,r,e[i+10],9,38016083),r=this.md5_gg(r,a,n,o,e[i+15],14,-660478335),o=this.md5_gg(o,r,a,n,e[i+4],20,-405537848),n=this.md5_gg(n,o,r,a,e[i+9],5,568446438),a=this.md5_gg(a,n,o,r,e[i+14],9,-1019803690),r=this.md5_gg(r,a,n,o,e[i+3],14,-187363961),o=this.md5_gg(o,r,a,n,e[i+8],20,1163531501),n=this.md5_gg(n,o,r,a,e[i+13],5,-1444681467),a=this.md5_gg(a,n,o,r,e[i+2],9,-51403784),r=this.md5_gg(r,a,n,o,e[i+7],14,1735328473),o=this.md5_gg(o,r,a,n,e[i+12],20,-1926607734),n=this.md5_hh(n,o,r,a,e[i+5],4,-378558),a=this.md5_hh(a,n,o,r,e[i+8],11,-2022574463),r=this.md5_hh(r,a,n,o,e[i+11],16,1839030562),o=this.md5_hh(o,r,a,n,e[i+14],23,-35309556),n=this.md5_hh(n,o,r,a,e[i+1],4,-1530992060),a=this.md5_hh(a,n,o,r,e[i+4],11,1272893353),r=this.md5_hh(r,a,n,o,e[i+7],16,-155497632),o=this.md5_hh(o,r,a,n,e[i+10],23,-1094730640),n=this.md5_hh(n,o,r,a,e[i+13],4,681279174),a=this.md5_hh(a,n,o,r,e[i+0],11,-358537222),r=this.md5_hh(r,a,n,o,e[i+3],16,-722521979),o=this.md5_hh(o,r,a,n,e[i+6],23,76029189),n=this.md5_hh(n,o,r,a,e[i+9],4,-640364487),a=this.md5_hh(a,n,o,r,e[i+12],11,-421815835),r=this.md5_hh(r,a,n,o,e[i+15],16,530742520),o=this.md5_hh(o,r,a,n,e[i+2],23,-995338651),n=this.md5_ii(n,o,r,a,e[i+0],6,-198630844),a=this.md5_ii(a,n,o,r,e[i+7],10,1126891415),r=this.md5_ii(r,a,n,o,e[i+14],15,-1416354905),o=this.md5_ii(o,r,a,n,e[i+5],21,-57434055),n=this.md5_ii(n,o,r,a,e[i+12],6,1700485571),a=this.md5_ii(a,n,o,r,e[i+3],10,-1894986606),r=this.md5_ii(r,a,n,o,e[i+10],15,-1051523),o=this.md5_ii(o,r,a,n,e[i+1],21,-2054922799),n=this.md5_ii(n,o,r,a,e[i+8],6,1873313359),a=this.md5_ii(a,n,o,r,e[i+15],10,-30611744),r=this.md5_ii(r,a,n,o,e[i+6],15,-1560198380),o=this.md5_ii(o,r,a,n,e[i+13],21,1309151649),n=this.md5_ii(n,o,r,a,e[i+4],6,-145523070),a=this.md5_ii(a,n,o,r,e[i+11],10,-1120210379),r=this.md5_ii(r,a,n,o,e[i+2],15,718787259),o=this.md5_ii(o,r,a,n,e[i+9],21,-343485551),n=this.safe_add(n,s),o=this.safe_add(o,c),r=this.safe_add(r,u),a=this.safe_add(a,l)}return[n,o,r,a]},e.prototype.md5_cmn=function(e,t,n,o,r,a){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(o,a)),r),n)},e.prototype.md5_ff=function(e,t,n,o,r,a,i){return this.md5_cmn(t&n|~t&o,e,t,r,a,i)},e.prototype.md5_gg=function(e,t,n,o,r,a,i){return this.md5_cmn(t&o|n&~o,e,t,r,a,i)},e.prototype.md5_hh=function(e,t,n,o,r,a,i){return this.md5_cmn(t^n^o,e,t,r,a,i)},e.prototype.md5_ii=function(e,t,n,o,r,a,i){return this.md5_cmn(n^(t|~o),e,t,r,a,i)},e.prototype.safe_add=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},e.prototype.bit_rol=function(e,t){return e<<t|e>>>32-t},e}();window.md5=o,cc._RF.pop()},{}],ui_switcher:[function(e,t,n){"use strict";cc._RF.push(t,"4a6a7vejV5E4quW7gcqQqiD","ui_switcher"),n.__esModule=!0,n.UISwitcher=void 0;var o=cc.Class({name:"CCTransform",properties:{nodeUuid:{default:""},guid:{default:""},stateUuid:{default:""},active:{default:!0},position:{default:new cc.Vec2(0,0)},rotation:{default:0},scale:{default:new cc.Vec2(0,0)},anchor:{default:new cc.Vec2(0,0)},size:{default:new cc.Vec2(0,0)},color:{default:new cc.Vec3(255,255,255)},opacity:{default:255}}}),r=cc.Class({name:"SwitchState",properties:{uuid:{default:""},name:{default:""}}}),a=cc.Class({name:"TargetNode",properties:{guid:{default:""},node:{default:null,type:cc.Node}}}),i=cc.Class({extends:cc.Component,editor:!1,properties:{targetNodes:{default:[],type:[cc.TargetNode]},switchStates:{default:[],type:[cc.SwitchState]},onSwitchStatesChange:{type:cc.Boolean,get:function(){return!1},set:function(e){if(e){for(var t=[],n=0;n<e.length;n++){var o=e[n],a=new r;a.uuid=o.uuid,a.name=o.name,t.push(a)}this.switchStates=t}}},onRemoveSwitchState:{type:cc.Boolean,get:function(){return!1},set:function(e){if(e){for(var t=[],n=0;n<this.switchStates.length;n++)e!=this.switchStates[n].uuid&&t.push(this.switchStates[n]);this.switchStates=t;for(var o=[],r=0;r<this.ccTransforms.length;r++)this.ccTransforms[r].stateUuid!=e&&o.push(this.ccTransforms[r]);this.ccTransforms=o}else cc.error("\u5220\u9664\u76ee\u6807\u503c\u9519\u8bef")}},onAddSwitchState:{type:cc.Boolean,get:function(){return!1},set:function(e){if(e){var t=new r;t.uuid=e,t.name="",this.switchStates.push(t),this._removeStateByUuid(e),this._addStateByUuid(e)}}},curState:{default:0},onCurStateChange:{type:cc.Integer,get:function(){return this.curState},set:function(e){this.curState=e,this._onCurStateChange(e)}},ccTransforms:{default:[],type:[cc.CCTransform]},onTransChange:{type:cc.Boolean,get:function(){return!1},set:function(e){if(e){for(var t=[],n=e[0].stateUuid,r=0;r<this.ccTransforms.length;r++)this.ccTransforms[r].stateUuid!=n&&t.push(this.ccTransforms[r]);for(var a=0;a<e.length;a++){var i=e[a],s=new o;s.nodeUuid=i.nodeUuid,s.guid=i.guid,s.stateUuid=i.stateUuid,s.active=i.active,s.position=i.position,s.rotation=i.rotation,s.scale=i.scale,s.anchor=i.anchor,s.size=i.size,s.color=i.color,s.opacity=i.opacity,t.push(s)}this.ccTransforms=t}}},onRemoveTarget:{type:cc.Boolean,get:function(){return!1},set:function(e){if(e){for(var t=[],n=0;n<this.targetNodes.length;n++)this.targetNodes[n].guid!=e&&t.push(this.targetNodes[n]);this.targetNodes=t;for(var o=[],r=0;r<this.ccTransforms.length;r++)this.ccTransforms[r].guid!=e&&o.push(this.ccTransforms[r]);this.ccTransforms=o}}},onAddTarget:{type:cc.Boolean,get:function(){return!1},set:function(e){e?this._changeTargetByGuid(e[0],e[1]):cc.error("\u6dfb\u52a0\u76ee\u6807\u503c\u9519\u8bef")}},onChangeTarget:{type:cc.Boolean,get:function(){return!1},set:function(e){e?this._changeTargetByGuid(e[0],e[1]):cc.error("\u4fee\u6539\u76ee\u6807\u503c\u9519\u8bef")}}},changeStateByIndex:function(e){this.curState=e,this._onCurStateChange(e)},changeStateByName:function(e){for(var t=0;t<this.switchStates.length;t++)if(e==this.switchStates[t].name){this.changeStateByIndex(t);break}},_onStatesChange:function(){for(var e=[],t=[],n=0;n<this.switchStates.length;n++)t.push(this.switchStates[n].uuid);for(var o=0;o<this.ccTransforms.length;o++)t.indexOf(this.ccTransforms[o].stateUuid)>=0?e.push(this.ccTransforms[o]):cc.log(this.ccTransforms[o].stateUuid);this.ccTransforms=e},_onCurStateChange:function(e){for(var t=this.switchStates[e],n=this.ccTransforms,o=0;o<n.length;o++){var r=n[o];if(r.stateUuid==t.uuid){var a=this._getNodeByGuid(r.guid);a?(a.active=r.active,a.position=r.position,a.angle=r.rotation,a.scale=r.scale,a.setAnchorPoint(r.anchor.x,r.anchor.y),a.setContentSize(r.size.x,r.size.y),a.color=new cc.Color(r.color.x,r.color.y,r.color.z),a.opacity=r.opacity):cc.warn("\u6ca1\u6709\u627e\u5230\u6b64\u8282\u70b9\uff1a"+r.guid)}}},_getNodeByGuid:function(e){for(var t=0;t<this.targetNodes.length;t++)if(this.targetNodes[t].guid==e)return this.targetNodes[t].node;return null},_changeTargetByGuid:function(e,t){this._removeTargetTransByUuid(t),this._changeTargetTransByUuid(e,t)},_removeTargetTransByUuid:function(e){for(var t=[],n=0;n<this.ccTransforms.length;n++)this.ccTransforms[n].guid!=e&&t.push(this.ccTransforms[n]);this.ccTransforms=t},_changeTargetTransByUuid:function(e,t){var n=this._getNodeByUuid(e);if(n||""==e){for(var r=!1,i=0;i<this.targetNodes.length;i++)this.targetNodes[i].guid==t&&(this.targetNodes[i].node=n,r=!0);if(!r){var s=new a;s.guid=t,s.node=n,this.targetNodes.push(s)}for(var c=0;c<this.switchStates.length;c++){var u=new o;u.nodeUuid=e,u.guid=t,u.stateUuid=this.switchStates[c].uuid,u.active=n.active,u.position=new cc.Vec2(n.position.x,n.position.y),u.rotation=n.angle,u.color=new cc.Vec3(n.color.r,n.color.g,n.color.b),u.opacity=n.opacity,u.scale=new cc.Vec2(n.scaleX,n.scaleY),u.anchor=new cc.Vec2(n.anchorX,n.anchorY);var l=n.getContentSize();u.size=new cc.Vec2(l.width,l.height),this.ccTransforms.push(u)}}else cc.warn("\u672a\u627e\u5230\u6b64node:"+e)},_removeStateByUuid:function(e){for(var t=[],n=0;n<this.ccTransforms.length;n++)this.ccTransforms[n].stateUuid!=e&&t.push(this.ccTransforms[n]);this.ccTransforms=t},_addStateByUuid:function(e){for(var t=0;t<this.targetNodes.length;t++){var n=this.targetNodes[t].node.uuid,r=this._getNodeByUuid(n);if(r){var a=new o;a.nodeUuid=n,a.stateUuid=e,a.guid=this.targetNodes[t].guid,a.active=r.active,a.position=new cc.Vec2(r.position.x,r.position.y),a.rotation=r.angle,a.color=new cc.Vec3(r.color.r,r.color.g,r.color.b),a.opacity=r.opacity,a.scale=new cc.Vec2(r.scaleX,r.scaleY),a.anchor=new cc.Vec2(r.anchorX,r.anchorY);var i=r.getContentSize();a.size=new cc.Vec2(i.width,i.height),this.ccTransforms.push(a)}}},_findNodeFromChildByUuid:function(e,t){if(t.uuid==e)return t;for(var n=0;n<t.childrenCount;n++){var o=t.children[n],r=this._findNodeFromChildByUuid(e,o);if(r)return r}return null},_getNodeByUuid:function(e){return cc.engine.getInstanceById(e)}});n.UISwitcher=i,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t,n){"use strict";cc._RF.push(t,"cbdb7GI+vdNZLhROb/jJwMJ","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["App","DataManager","GameDistribution","InterFaceManager","MXAd","NetWorkManager","PlatformManager","WebInterFaceManager","encryption_1","BackgroundAdapter","ContentAdapter","MultiResoultionCompat","TaktakReport","AdsterraAD","CircleAvatar","GoogleAdsManager","TelegramManager","AdaptationManager","BaseUIBinder","BaseUIForm","BaseUIView","CocosHelper","FormType","GEventManager","CWebSocket","NetInterface","NetManager","NetTest","ResManager","TaskQueue","UIHelper","UIIndependentManager","UILoader","UIManager","UIMaskManager","UIMaskScript","PrioritiyQueue","Queue","Resources","TipsForm","TouchPlus","SysDefine","SingtonClass","GameManager","RedPointManager","TipManager","BallInfoUI","BallItem","BallPageItem","BallUI","GetNewUI","BgCardItem","BgShopUI","EventConst","GameUIConst","Ball","Detector","DetectorWang","Floor","GameView","Wall","LoadIcon","LoadingUI","BuyUI","GameOverUI","PauseUI","PowerUpUI","PropUI","QuitUI","RestartUI","RewardUI","ALabelFixed","TelegramCommonUI","TelegramPlayerItem","UIScrollPage","UIScrollSelect","BaseSound","MusicConst","SoundManager","ui_switcher","AverageUtils","CommonUtils","DateUtils","DebugUtils","DelayOptManager","DeviceUtils","KeyboardUtils","Log","MathUtils","MessageCenter","MessageVo","ObjectPool","QueueExecutor","RandomUtils","StringUtils","TimerHandle","TimerManager","md5","use_v2.1-2.2.1_cc.Toggle_event"]);