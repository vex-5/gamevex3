var LANG,G={lblFont:function(){return{font:"500 16px Ubuntu",fill:"#ffffff",align:"center"}},btnFont:function(){return{font:"500 26px Ubuntu",fill:"#ecc01f"}},music1:null,musicVolume:.4,isTut:1,isTutPause:-1},assetsToLoad=function(a){a.image("road1","assets/track/road3.png"),a.image("finish_line","assets/track/finish_line.png"),a.image("black_overlayer_street","assets/track/black_overlayer_street.png"),a.image("bg_race","assets/track/bg_race.png"),a.image("win_small","assets/win_small.png"),a.image("loser_small","assets/loser_small.png"),a.image("arrow","assets/arrow2.png"),a.image("popup_big","assets/popup_big.png"),a.image("shift_key","assets/shift_button.png"),a.image("up_key","assets/up_button.png"),a.image("down_key","assets/down_button.png"),a.image("space_key","assets/space_button.png"),a.atlasJSONHash("ss_shop","assets/ss_shop.png","assets/ss_shop.json"),a.atlasJSONHash("ss_shop2","assets/ss_shop2.png","assets/ss_shop2.json"),a.atlasJSONHash("ss_game","assets/ss_game.png","assets/ss_game.json"),a.atlas("new","assets/new.png","assets/new.json"),a.audio("menu_music",["assets/audio/menu_music.mp3","assets/audio/menu_music.ogg"]),a.audio("up_shift",["assets/audio/up_shift.mp3","assets/audio/up_shift.ogg"]),a.audio("down_shift",["assets/audio/down_shift.mp3","assets/audio/down_shift.ogg"]),a.audio("nitro_on",["assets/audio/nitro_on3.mp3","assets/audio/nitro_on3.ogg"]),a.audio("engine_loop",["assets/audio/engine_loop.mp3","assets/audio/engine_loop.ogg"]),a.audio("tire_skid",["assets/audio/tire_skid.mp3","assets/audio/tire_skid.ogg"]),a.audio("upgrade","assets/audio/upgrade.mp3"),a.audio("error",["assets/audio/error.mp3","assets/audio/error.ogg"]),a.audio("btn_click","assets/audio/btn_click.mp3"),a.audio("coins","assets/audio/coins.mp3"),a.audio("car_loose","assets/audio/car_win.mp3"),a.audio("car_win","assets/audio/car_loose.mp3"),a.audio("start_race","assets/audio/start_race.mp3")};initialize=function(){var a=new Phaser.Game(800,480,Phaser.AUTO,"game");window.game=a,a.state.add("boot",Boot),a.state.add("main_menu",MainMenu),a.state.add("shop",Shop),a.state.add("level_select",LevelSelect),a.state.add("race_select",RaceSelect),a.state.add("game",Game),a.state.add("level_end",LevelEnd),loadData(),yzi.buttonSoundKey="btn_click",Boot.firstState="main_menu",a.state.start("boot"),LANG=sgSettings.config.env.locale};var gLS=function(a){Localization[LANG]||(LANG="en");var t=Phaser.Utils.getProperty(Localization[LANG],a);return t||(t="!!!!!!"),t},pauseGame=function(){yzi.gg.paused=!0},unpauseGame=function(){yzi.gg.paused=!1},addTutMarker=function(a,t,s){var e=yzi.addSprite(null,a,t,1e18,"arrow","",null,null,1,s||0,1,1);return yzi.gg.add.tween(e).to({y:"+10"},400,Phaser.Easing.Cubic.Out,!0,0,-1).yoyo(!0,200),e};ad=function(){},ad.addPromptGP=null,ad.adPrize=1e3,ad.makeVideoAdPrompt=function(a,t,s){if(!ad.addPromptGP){var e,d,o;t=t||yzi.hw+30,s=s||yzi.hh-35;0==a?(e=gLS("WATCH_AD"),d=gLS("WATCH"),o=g):1==a&&(e=gLS("CLAIM_AD"),d=gLS("CLAIM"),o=function(){ad.destroyAdPrompt(),CREDITS+=ad.adPrize,yzi.cState().updateCreditsLbl()}),ad.addPromptGP=yzi.gg.add.group(),ad.addPromptGP.position.set(t,s);var i=yzi.gg.add.graphics(0,0);i.beginFill(0,1),i.drawRect(-t,-s,yzi.w,yzi.h),i.alpha=.8,i.inputEnabled=!0,ad.addPromptGP.add(i);var n=yzi.addButton(null,8.5,0,null,"new","popup_more_money",null,(function(){ad.destroyAdPrompt()}),null,this);ad.addPromptGP.add(n);var r=yzi.addLabel(null,-10,-100,null,e,G.lblFont(),18,"#ffffff",.5,0);if(r.wordWrap=!0,r.wordWrapWidth=n.width-50,r.lineSpacing=-8,n.addChild(r),0==a){var l=yzi.addButton(null,0,10,null,"new","button_video",null,g,null,this);ad.addPromptGP.add(l)}else{var u=yzi.addLabel(null,-10,0,null,"$"+formatPrize(ad.adPrize),G.lblFont(),36,"#ecc01f",.5,.5);n.addChild(u)}var p=yzi.addButton(null,0,105,null,"new","button_more_money",null,o,null,this,null,!0,d,G.btnFont(),34,"#000000");ad.addPromptGP.add(p),ad.addPromptGP.alpha=0,yzi.gg.add.tween(ad.addPromptGP).to({alpha:1},200,Phaser.Easing.Quadratic.Out,!0,200)}function g(){ad.destroyAdPrompt(),1!=yzi.gg.sound.mute?(yzi.gg.sound.setMute(),musicFlag=!0):musicFlag=!1,sdkHandler.trigger("rewardedAd",{callback:ad.incentiviseFinished},this)}},ad.destroyAdPrompt=function(){ad.addPromptGP&&(ad.addPromptGP.destroy(),ad.addPromptGP=null)},ad.noVideosPrompt=function(a,t){if(!ad.addPromptGP){a=a||yzi.hw+30,t=t||yzi.hh-35;var s=gLS("ALL_VIDEOS_WATCHED");ad.addPromptGP=yzi.gg.add.group(),ad.addPromptGP.position.set(a,t);var e=yzi.gg.add.graphics(0,0);e.beginFill(0,1),e.drawRect(-a,-t,yzi.w,yzi.h),e.alpha=.8,e.inputEnabled=!0,ad.addPromptGP.add(e);var d=yzi.addButton(null,8.5,0,null,"ss_shop","popup_small.png",null,(function(){ad.destroyAdPrompt()}),null,this);ad.addPromptGP.add(d);var o=yzi.addLabel(null,-10,10,null,s,G.lblFont(),18,"#ffffff",.5,.5);o.wordWrap=!0,o.wordWrapWidth=d.width-50,o.lineSpacing=-8,d.addChild(o)}},ad.addMoreMoneyBtn=function(){if(sgSettings.config.rewarded.enabled){yzi.addButton(null,30,34,null,"new","plus_money","",(function(){ad.makeVideoAdPrompt(0)}),null,this,null,!0)}},ad.incentiviseFinished=function(a){1==a?ad.makeVideoAdPrompt(1):ad.noVideosPrompt(),musicFlag&&yzi.gg.sound.unsetMute()};var formatPrize=function(a,t,s,e){if(0==a)return 0;a<0?(a=-a,sinal=-1):sinal=1;var d="",o="";if(a!=Math.floor(a)){for(o=Math.round((a-Math.floor(a))*Math.pow(10,".")).toString();o.length<".";)o="0"+o;a=Math.round(a)}for(;a>0;){if(o=(a-1e3*Math.floor(a/1e3)).toString(),(a=Math.floor(a/1e3))>0)for(;o.length<3;)o="0"+o;d=o+d,a>0&&(d="."+d)}return sinal<0&&(d="-"+d),d};